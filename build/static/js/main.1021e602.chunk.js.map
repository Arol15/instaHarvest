{"version":3,"sources":["utils/localStorage.js","utils/socket.js","components/ShareProducts.js","hooks/useForm.js","hooks/useRequest.js","form_validation/validation.js","store/modalSlice.js","components/UI/Spinner.js","components/SearchMain.js","components/Footer.js","components/Home.js","components/UI/Portal.js","hooks/useModal.js","hooks/useWidth.js","components/UI/UploadImage.js","store/profileSlice.js","components/profile/ProfileHeader.js","components/UI/EmailConfirmIcon.js","components/profile/PublicProfileInfo.js","utils/datetime.js","components/chat/UserChatsPage.js","components/product/Product.js","components/product/UserProducts.js","components/profile/Profile.js","components/Map.js","components/product/Products.js","components/auth/Auth.js","components/NotFoundPage.js","components/profile/PublicProfile.js","components/auth/ResetPassword.js","components/UI/ModalMsg.js","components/UI/DropDownMenu.js","components/chat/Message.js","config.js","components/chat/Chat.js","components/auth/AuthModal.js","components/UI/ToggleInput.js","components/product/AddProduct.js","components/product/ProductDetails.js","components/MainNavbar.js","components/product/EditProduct.js","components/profile/ProfileField.js","components/profile/ProfileSideMenu.js","components/profile/EditProfile.js","App.js","reportWebVitals.js","store/store.js","index.js"],"names":["key","socket","ShareProducts","history","useHistory","onClick","push","useForm","formData","onSubmit","formValidation","useState","formState","setFormState","formErrors","setErrors","event","preventDefault","validationErrors","isValid","Object","keys","length","target","name","value","logout","Promise","resolve","reject","axios","post","then","localStorage","removeItem","catch","checkAuth","getItem","fetchReducer","currState","action","type","isLoading","errorNum","error","data","responseData","errorMessage","useRequest","useReducer","fetchState","dispatchFetch","sendRequest","useDispatch","useCallback","url","method","body","a","config","timeout","res","err","response","resp","status","validation","errors","password","confirm_pass","test","entries","forEach","username","login","email","first_name","us_state","city","search_term","profile_addr","product_type","description","modalSlice","createSlice","initialState","open","msg","timeOut","classes","reducers","showMsg","state","payload","clearMsg","actions","selectModal","modal","Spinner","props","className","SearchMain","handleSubmit","handleInputChange","dispatch","useEffect","products","pathname","placeholder","onChange","Footer","Home","Portal","children","parent","el","useMemo","document","createElement","appendChild","removeChild","ReactDOM","createPortal","active","isOpen","useModal","withBackdrop","useTimer","inPlace","disableClose","backdrop","useRef","closeModal","current","transitionEnd","keyHandler","indexOf","which","clickHandler","addEventListener","window","removeEventListener","setTimeout","activeElement","blur","id","clearTimeout","ref","classnames","useWidth","breakpoint","innerWidth","width","setWidth","isDesktop","setDesktop","handleResize","UploadImage","title","uploadFileAPI","imageUrlAPI","deleteImageAPI","setMethod","image","setImage","showModal","resetMethod","encType","accept","files","e","size","imageData","FormData","append","location","reload","storage","JSON","parse","profileSlice","last_name","zip_code","address","image_url","image_back_url","email_verified","created_at","updateProfile","setItem","stringify","saveJSON","selectProfile","profile","ProfileHeader","edit","profileImg","profileBackImg","useSelector","shallowEqual","src","EmailConfirmIcon","verified","color","PublicProfileInfo","firstName","emailVerified","usState","joined","statesList","find","elem","abbreviation","datetimeToLocal","dateStr","format","dateObject","Date","timeZone","Intl","DateTimeFormat","resolvedOptions","offset","moment","tz","utcOffset","currentHours","getHours","setHours","newDateString","toISOString","replace","slice","monthStr","toDateString","year","UserChatsPage","chats","map","chat","i","recipient_name","openChat","recipient_img","last_message","last_date","Product","product","onDelete","user_id","prevPath","useLocation","divStyle","border","margin","confirmDelete","product_id","style","price","handleClickEdit","handleClick","UserProducts","userProducts","setUserProducts","getProducts","user_products","handleDelete","Profile","tab","currTab","setCurrTab","profileData","useLayoutEffect","Map","latitude","longitude","height","zoom","viewport","setViewport","mapboxApiAccessToken","process","REACT_APP_MAPBOX_TOKEN","mapStyles","onViewportChange","Products","Auth","view","inModal","user","afterConfirm","setFormData","disabled","to","NotFoundPage","PublicProfile","match","params","addr","ResetPassword","reset","token","ModalMsg","setActive","DropDownMenu","button","classContainer","classMenu","classActive","clContainer","clMenu","clActive","refer","clickEvent","contains","Message","msgId","onDeleteMsg","createdAt","sender","splitMsg","split","openMenu","setOpenMenu","memo","baseUrl","endPoint","Chat","isLoadingMsg","dataMsg","errorMsg","errorNumMsg","chatMsgs","setChatMsgs","bottom","chatState","recipient_id","chat_id","emit","sendMessage","msg_id","getMessages","io","cbSend","cbDelete","on","subscribeToChat","oldMsgs","disconnect","disconnectSocket","msgs","scrollIntoView","goBack","parseInt","sender_id","sender_img","rows","AuthModal","setView","switchComponents","SwitchTransition","CSSTransition","addEndListener","node","done","classNames","ToggleInput","inputValue","posLeft","setPos","AddProduct","image_urls","handleAfterConfirm","ProductDetails","info","setInfo","recipientId","recipientName","recipientImg","product_details","lat","lgt","MainNavbar","showProfileMenu","setShowProfileMenu","logoutUser","val","confirmLogout","onClickProfile","alt","EditProduct","urls","ProfileFild","editState","setEditState","modalLogin","showModalLogin","onClose","api","sendMsg","update","ProfileSideMenu","showMenu","setShowMenu","closeOnMobile","dataEmailReq","errorEmailReq","errorNumEmailReq","sendEmailRequest","updateProfileData","ProfileField","App","exact","path","component","EditProfile","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","modalReducer","profileReducer","render","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.1021e602.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const loadJSON = (key) => key && JSON.parse(localStorage.getItem(key));\n\nexport const saveJSON = (key, data) =>\n  localStorage.setItem(key, JSON.stringify(data));\n\nexport const logout = () =>\n  new Promise((resolve, reject) => {\n    axios\n      .post(\"/api/auth/logout\", {})\n      .then(() => {\n        localStorage.removeItem(\"status\");\n        localStorage.removeItem(\"app_data\");\n        resolve(true);\n      })\n      .catch(() => {\n        reject(\"Something went wrong\");\n      });\n  });\n\nexport const checkAuth = () => {\n  if (localStorage.getItem(\"status\") === \"loggedIn\") {\n    return true;\n  }\n  return false;\n};\n","import { io } from \"socket.io-client\";\nimport config from \"../config\";\n\nexport let socket;\n\nexport const connectSocket = (chat_id) => {\n  socket = io(config.endPoint);\n  if (socket && chat_id) {\n    socket.emit(\"join\", chat_id);\n  }\n};\n\nexport const disconnectSocket = (chat_id) => {\n  if (socket) {\n    socket.emit(\"leave\", chat_id);\n    socket.disconnect();\n  }\n};\n\nexport const subscribeToChat = (cbSend, cbDelete) => {\n  if (!socket) {\n    return true;\n  }\n  socket.on(\"send_msg\", (data) => {\n    return cbSend(null, data);\n  });\n  socket.on(\"delete_msg\", () => {\n    return cbDelete();\n  });\n};\n\nexport const sendMessage = (data, chat_id, user_id) => {\n  if (socket) {\n    socket.emit(\"send_msg\", {\n      ...data,\n      chat_id,\n      user_id,\n    });\n  }\n};\n\nexport const deleteMessage = (msg_id, chat_id) => {\n  if (socket) {\n    socket.emit(\"delete_msg\", {\n      chat_id,\n      msg_id,\n    });\n  }\n};\n","import { useHistory } from \"react-router-dom\";\n\nconst ShareProducts = () => {\n    \n    const history = useHistory();\n\n    return(\n        <div>\n            <button onClick = {() => history.push(\"/add-product\")}>Share</button>\n        </div>\n    )\n}\n\nexport default ShareProducts; ","import { useState } from \"react\";\n\n/**\n *  useForm\n * @see https://github.com/Arol15/instaHarvest/blob/master/API.md#useForm\n */\n\nconst useForm = (formData, onSubmit, formValidation) => {\n  const [formState, setFormState] = useState({ ...formData });\n  const [formErrors, setErrors] = useState({});\n\n  const handleSubmit = (event) => {\n    event && event.preventDefault();\n    const validationErrors = formValidation(formState);\n    const isValid = Object.keys(validationErrors).length === 0;\n    setErrors(validationErrors);\n\n    if (isValid) {\n      onSubmit();\n    }\n  };\n\n  const handleInputChange = (event) => {\n    // event.persist();\n    setFormState({ ...formState, [event.target.name]: event.target.value });\n  };\n\n  return [setFormState, handleSubmit, handleInputChange, formState, formErrors];\n};\n\nexport default useForm;\n","import axios from \"axios\";\nimport { useReducer, useCallback, useDebugValue } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { logout } from \"../utils/localStorage\";\n\nconst fetchReducer = (currState, action) => {\n  switch (action.type) {\n    case \"SEND\":\n      return {\n        ...currState,\n        isLoading: true,\n        errorNum: null,\n        error: null,\n        data: null,\n      };\n    case \"RESPONSE\":\n      return {\n        isLoading: false,\n        data: action.responseData,\n        errorNum: null,\n        error: null,\n      };\n    case \"ERROR\":\n      return {\n        data: null,\n        isLoading: false,\n        error: action.errorMessage,\n        errorNum: action.errorNum,\n      };\n    case \"LOGOUT\":\n      return {\n        isLoading: false,\n        errorNum: null,\n        error: null,\n        data: null,\n      };\n    default:\n      return;\n  }\n};\n\n/**\n *  useRequest\n * @see https://github.com/Arol15/instaHarvest/blob/master/API.md#useRequest\n */\n\nconst useRequest = () => {\n  const [fetchState, dispatchFetch] = useReducer(fetchReducer, {\n    isLoading: false,\n    error: null,\n    errorNum: null,\n    data: null,\n  });\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const sendRequest = useCallback(async (url, method, body) => {\n    dispatchFetch({\n      type: \"SEND\",\n    });\n\n    const config = {\n      method: method,\n      url: url,\n      data: body,\n      timeout: 5000,\n    };\n\n    let resp = await axios(config).then(\n      (res) => res,\n      (err) => err.response\n    );\n    if (!resp) {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: \"Something went wrong\",\n        errorNum: 500,\n      });\n      return;\n    }\n\n    if (resp.status === 401 && resp.data.error === \"unauthorized\") {\n      logout()\n        .then(() => {\n          dispatchFetch({\n            type: \"LOGOUT\",\n          });\n          history.push(\"/login\");\n        })\n        .catch((error) => {\n          dispatchFetch({\n            type: \"ERROR\",\n            errorMessage: resp.data.error,\n            errorNum: resp.status,\n          });\n        });\n    }\n    if (resp.status >= 200 && resp.status < 300) {\n      dispatchFetch({\n        type: \"RESPONSE\",\n        responseData: resp.data,\n      });\n    } else if (resp.data.error) {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: resp.data.error,\n        errorNum: resp.status,\n      });\n    } else if (resp.status === 401) {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: \"Authorization denied. Please sign in or sign up\",\n        errorNum: 401,\n      });\n    } else if (resp.status === 403) {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: \"Not enough privileges\",\n        errorNum: 403,\n      });\n    } else {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: \"Something went wrong\",\n        errorNum: resp.status,\n      });\n    }\n  }, []);\n\n  return [\n    fetchState.isLoading,\n    fetchState.data,\n    fetchState.error,\n    fetchState.errorNum,\n    sendRequest,\n  ];\n};\n\nexport default useRequest;\n","const validation = (data) => {\n  const errors = {};\n  if (data.password && data.confirm_pass) {\n    if (data.password !== data.confirm_pass) {\n      errors.confirm_pass = \"Passwords don't match\";\n    }\n    if (!/^[A-z0-9.!?,+]{6,}$/i.test(data.password)) {\n      errors.confirm_pass =\n        \"Password should be at least 6 characters. Allowed characters: A-z 0-9 . , ! ? +\";\n    }\n  }\n  Object.entries(data).forEach(([key, value]) => {\n    if (key === \"username\") {\n      if (!/^[a-z0-9._]{0,}$/.test(value)) {\n        errors.username = \"Allowed characters: a-z 0-9 . _\";\n      }\n    }\n\n    if (key === \"password\") {\n      if (!value) {\n        errors.password = \"Please enter your password\";\n      }\n    }\n    if (key === \"confirm_pass\") {\n      if (!value) {\n        errors.confirm_pass = \"Passwords don't match\";\n      }\n    }\n    if (key === \"login\") {\n      if (!value) {\n        errors.login = \"Please enter your username or email\";\n      }\n    }\n    if (key === \"email\") {\n      if (!value) {\n        errors.email = \"Enter your email\";\n      } else if (!/^[A-Z0-9.,_%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(value)) {\n        errors.email = \"Invalid email address\";\n      }\n    }\n    if (key === \"first_name\") {\n      if (!value) {\n        errors.first_name = \"Please enter you name\";\n      }\n    }\n    if (key === \"us_state\") {\n      if (!value) {\n        errors.us_state = \"Please select state\";\n      }\n    }\n    if (key === \"city\") {\n      if (!value) {\n        errors.city = \"Please enter city\";\n      }\n    }\n    if (key === \"body\") {\n      if (!value) {\n        errors.body = \"Please enter something\";\n      }\n    }\n    if (key === \"search_term\") {\n      if (!value) {\n        errors.search_term = \"Please enter location\";\n      } else if (value.length < 2) {\n        errors.search_term = \"Your location is too short\";\n      }\n    }\n    if (key === \"profile_addr\") {\n      if (!value) {\n        errors.profile_addr = \"Field cannot be empty\";\n      }\n    }\n    if (key === \"name\") {\n      if (!value) {\n        errors.name = \"Please enter name\";\n      }\n    }\n    if (key === \"product_type\") {\n      if (!value) {\n        errors.product_type = \"Please select product type\";\n      }\n    }\n    if (key === \"description\") {\n      if (!value) {\n        errors.description = \"Please describe your product\";\n      }\n    }\n    if (key === \"url\") {\n      if (!value) {\n        errors.url = \"Please enter image url\";\n      }\n    }\n  });\n\n  return errors;\n};\n\nexport default validation;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const modalSlice = createSlice({\n  name: \"modal\",\n  initialState: {\n    open: false,\n    msg: null,\n    timeOut: null,\n    classes: null,\n  },\n  reducers: {\n    showMsg: (state, action) => {\n      const { msg, timeOut, classes } = action.payload;\n      state.open = true;\n      state.msg = msg;\n      state.timeOut = timeOut;\n      state.classes = classes;\n    },\n    clearMsg: (state) => {\n      state.open = false;\n      state.msg = null;\n      state.timeOut = null;\n      state.classes = null;\n    },\n  },\n});\n\nexport const { showMsg, clearMsg } = modalSlice.actions;\n\nexport const selectModal = (state) => ({\n  open: state.modal.open,\n  msg: state.modal.msg,\n  timeOut: state.modal.timeOut,\n  classes: state.modal.classes,\n});\n\nexport default modalSlice.reducer;\n","import \"./Spinner.css\";\n\nconst Spinner = (props) => {\n  const el = (\n    <div className=\"center\">\n      <div className=\"indicator\">\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n      </div>\n    </div>\n  );\n\n  return el;\n};\n\nexport default Spinner;\n","import { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport useForm from \"../hooks/useForm\";\nimport useRequest from \"../hooks/useRequest\";\nimport validation from \"../form_validation/validation\";\nimport { checkAuth } from \"../utils/localStorage\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../store/modalSlice\";\nimport Spinner from \"./UI/Spinner\";\n\nconst SearchMain = () => {\n  const onSubmit = () => {\n    if (checkAuth()) {\n      sendRequest(\"/api/products/get-all-protected\", \"post\", formData);\n    } else {\n      sendRequest(\"/api/products/get-all\", \"post\", formData);\n    }\n  };\n\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm({ search_term: \"\" }, onSubmit, validation);\n\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (data && data.products.length === 0) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: \"No results per this location\",\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data) {\n      history.push({\n        pathname: \"/search-results\",\n        state: data,\n      });\n    } else if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    }\n  }, [data, error]);\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <form>\n        <input\n          type=\"search\"\n          placeholder=\"Enter your location\"\n          name=\"search_term\"\n          onChange={handleInputChange}\n          value={formData.search_term}\n        />\n        <div className=\"form-danger\">\n          {formErrors.search_term && formErrors.search_term}\n        </div>\n        <button onClick={handleSubmit}>Find</button>\n      </form>\n    </>\n  );\n};\n\nexport default SearchMain;\n","const Footer = () => {\n    return (\n        <footer>\n            All Icons and copyrights\n        </footer>\n    )\n}\n\nexport default Footer; ","import ShareProducts from \"./ShareProducts\";\nimport SearchMain from \"../components/SearchMain\";\nimport Footer from \"../components/Footer\";\n\nconst Home = () => {\n  return (\n    <div className=\"home\">\n      <h1>Welcome to instaHarvest</h1>\n      <SearchMain />\n      <ShareProducts />\n    </div>\n  );\n};\n\nexport default Home;\n","import { useMemo, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst Portal = ({ children, parent }) => {\n  const el = useMemo(() => document.createElement(\"div\"), []);\n  useEffect(() => {\n    const target = parent && parent.appendChild ? parent : document.body;\n    target.appendChild(el);\n\n    return () => {\n      target.removeChild(el);\n    };\n  }, [el, parent]);\n  return ReactDOM.createPortal(children, el);\n};\nexport default Portal;\n","import { useRef, useEffect, useReducer } from \"react\";\nimport Portal from \"../components/UI/Portal\";\nimport classnames from \"classnames\";\nimport \"./useModal.css\";\nimport { showMsg } from \"../store/modalSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { FiX } from \"react-icons/fi\";\n\nconst fetchReducer = (currState, action) => {\n  switch (action.type) {\n    case \"setActive\":\n      return {\n        ...currState,\n        active: action.active,\n      };\n    case \"setChildren\":\n      return {\n        ...currState,\n        children: action.children,\n        classes: action.classes,\n      };\n\n    case \"setOpen\":\n      return {\n        ...currState,\n        isOpen: action.isOpen,\n      };\n    case \"setModal\":\n      return {\n        ...currState,\n        modal: action.modal,\n      };\n    default:\n      break;\n  }\n};\n\n/**\n *  useModal\n * @see https://github.com/Arol15/instaHarvest/blob/master/API.md#useModal\n */\n\nconst useModal = ({\n  withBackdrop,\n  useTimer,\n  timeOut,\n  inPlace,\n  disableClose,\n}) => {\n  const [fetchState, dispatchFetch] = useReducer(fetchReducer, {\n    active: false,\n    isOpen: false,\n    children: null,\n    classes: null,\n    modal: null,\n  });\n  const backdrop = useRef(null);\n  const dispatch = useDispatch();\n  const showModal = (children, classes) => {\n    dispatchFetch({ type: \"setOpen\", isOpen: true });\n    dispatchFetch({\n      type: \"setChildren\",\n      children: children,\n      classes: classes,\n    });\n  };\n\n  const closeModal = () => {\n    dispatchFetch({ type: \"setOpen\", isOpen: false });\n  };\n\n  useEffect(() => {\n    if (withBackdrop === true) {\n      const { current } = backdrop;\n      const transitionEnd = () =>\n        dispatchFetch({ type: \"setActive\", active: fetchState.isOpen });\n      const keyHandler = (event) =>\n        [27].indexOf(event.which) >= 0 && closeModal();\n      const clickHandler = (event) => event.target === current && closeModal();\n\n      if (current) {\n        current.addEventListener(\"transitionend\", transitionEnd);\n\n        if (!disableClose) {\n          current.addEventListener(\"click\", clickHandler);\n          window.addEventListener(\"keyup\", keyHandler);\n        }\n      }\n\n      return () => {\n        if (current) {\n          current.removeEventListener(\"transitionend\", transitionEnd);\n          if (!disableClose) {\n            current.removeEventListener(\"click\", clickHandler);\n          }\n        }\n        if (!disableClose) {\n          window.removeEventListener(\"keyup\", keyHandler);\n        }\n      };\n    }\n  }, [fetchState.isOpen, fetchState.modal]);\n\n  useEffect(() => {\n    if (fetchState.isOpen && !withBackdrop && !inPlace) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: fetchState.children,\n          classes: fetchState.classes,\n        })\n      );\n    } else if (fetchState.isOpen) {\n      window.setTimeout(() => {\n        document.activeElement.blur();\n        dispatchFetch({ type: \"setActive\", active: fetchState.isOpen });\n      }, 10);\n    }\n  }, [fetchState.isOpen]);\n\n  useEffect(() => {\n    let id;\n    if (fetchState.isOpen && useTimer) {\n      id = setTimeout(\n        () => {\n          closeModal();\n        },\n        timeOut ? timeOut : 5000\n      );\n    }\n    return () => {\n      if (useTimer) {\n        clearTimeout(id);\n      }\n    };\n  }, [fetchState.isOpen]);\n\n  useEffect(() => {\n    if (withBackdrop) {\n      dispatchFetch({\n        type: \"setModal\",\n        modal: (\n          <div>\n            {(fetchState.isOpen || fetchState.active) && (\n              <Portal>\n                <div\n                  ref={backdrop}\n                  className={classnames(\"backdrop\", {\n                    \"bd-active\": fetchState.active && fetchState.isOpen,\n                  })}\n                >\n                  <div\n                    className={classnames(\"modal\", {\n                      \"mdl-active\": fetchState.active && fetchState.isOpen,\n                    })}\n                  >\n                    {disableClose && (\n                      <div className=\"mdl-close-button\" onClick={closeModal}>\n                        <FiX />\n                      </div>\n                    )}\n                    {fetchState.children}\n                  </div>\n                </div>\n              </Portal>\n            )}\n          </div>\n        ),\n      });\n    } else if (inPlace) {\n      dispatchFetch({\n        type: \"setModal\",\n        modal: (\n          <div\n            className={classnames(\"mdl-inpl\", fetchState.classes, {\n              \"mdl-inpl-active\": fetchState.active && fetchState.isOpen,\n            })}\n          >\n            {fetchState.children}\n          </div>\n        ),\n      });\n    } else {\n      <></>;\n    }\n  }, [fetchState.active, fetchState.isOpen, fetchState.children]);\n\n  return [fetchState.modal, showModal, closeModal, fetchState.isOpen];\n};\n\nexport default useModal;\n","import { useState, useEffect } from \"react\";\n\nconst useWidth = (breakpoint = 600) => {\n  const [width, setWidth] = useState(window.innerWidth);\n  const [isDesktop, setDesktop] = useState(window.innerWidth >= breakpoint);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth);\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isDesktop && width < breakpoint) {\n      setDesktop(false);\n    } else if (!isDesktop && width >= breakpoint) {\n      setDesktop(true);\n    }\n  }, [width]);\n  return isDesktop;\n};\n\nexport default useWidth;\n","import { useState, useEffect } from \"react\";\nimport { useRequest, useForm, useModal } from \"../../hooks/hooks\";\nimport validation from \"../../form_validation/validation\";\nimport Spinner from \"../UI/Spinner\";\nimport \"./uploadImage.css\";\n\nconst UploadImage = ({\n  title,\n  closeModal,\n  uploadFileAPI,\n  imageUrlAPI,\n  deleteImageAPI,\n}) => {\n  const [method, setMethod] = useState(null);\n  const [image, setImage] = useState();\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [modal, showModal] = useModal({\n    withBackdrop: false,\n    useTimer: true,\n    inPlace: true,\n  });\n\n  const onSubmit = (e) => {\n    e && e.preventDefault();\n    if (method === \"upload\") {\n      if (image.size > 1000000) {\n        showModal(\"Image size should be less then 1mb\", \"mdl-error\");\n      } else {\n        const imageData = new FormData();\n        imageData.append(\"file\", image);\n        sendRequest(uploadFileAPI, \"POST\", imageData);\n      }\n    }\n  };\n\n  const deleteImage = () => {\n    sendRequest(deleteImageAPI, \"POST\", {});\n  };\n  const uploadImageUrl = () => {\n    sendRequest(imageUrlAPI, \"POST\", formData);\n  };\n\n  const handleInputFileChange = (event) => {\n    event && event.preventDefault();\n    setImage(event.target.files[0]);\n  };\n\n  const [, handleSubmit, handleInputChange, formData, formErrors] = useForm(\n    { url: \"\" },\n    uploadImageUrl,\n    validation\n  );\n\n  const resetMethod = () => {\n    setMethod(null);\n  };\n\n  useEffect(() => {\n    if (data && data.msg) {\n      showModal(data.msg, \"mdl-ok\");\n      resetMethod();\n    } else if (error) {\n      showModal(error, \"mdl-error\");\n    }\n  }, [data, error]);\n\n  return (\n    <div className=\"upload-image\">\n      {isLoading && <Spinner />}\n      {title && <h3>{title}</h3>}\n      <a\n        onClick={() => {\n          setMethod(\"url\");\n        }}\n      >\n        Save image url\n      </a>\n      <a\n        onClick={() => {\n          setMethod(\"upload\");\n        }}\n      >\n        Upload photo\n      </a>\n      <a\n        onClick={() => {\n          setMethod(\"delete\");\n        }}\n      >\n        Delete photo\n      </a>\n\n      {method === \"upload\" && (\n        <form encType=\"multipart/form-data\">\n          <input\n            type=\"file\"\n            name=\"image_url\"\n            accept=\"image/*\"\n            onChange={handleInputFileChange}\n          ></input>\n          <button onClick={onSubmit}>Submit</button>\n          <button onClick={resetMethod}>Cancel</button>\n        </form>\n      )}\n\n      {method === \"url\" && (\n        <form>\n          <input\n            placeholder={\"Enter image url\"}\n            type=\"text\"\n            name={\"url\"}\n            onChange={handleInputChange}\n            value={formData.url || \"\"}\n          ></input>\n          <div className=\"form-danger\">{formErrors.url && formErrors.url}</div>\n\n          <button onClick={handleSubmit}>Submit</button>\n          <button onClick={resetMethod}>Cancel</button>\n        </form>\n      )}\n\n      {method === \"delete\" && (\n        <div>\n          <p>Delete image? Are you sure?</p>\n          <button onClick={resetMethod}>No</button>\n          <button\n            onClick={() => {\n              setMethod(\"delete-confirmed\");\n              deleteImage();\n            }}\n          >\n            Yes\n          </button>\n        </div>\n      )}\n\n      {method === \"delete-confirmed\" && <p>Image is deleting...</p>}\n\n      {data && (\n        <button\n          onClick={() => {\n            closeModal();\n            window.location.reload();\n          }}\n        >\n          Close\n        </button>\n      )}\n\n      {modal}\n    </div>\n  );\n};\n\nexport default UploadImage;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { loadJSON, saveJSON } from \"../utils/localStorage\";\n\nconst storage = loadJSON(\"app_data\");\n\nexport const profileSlice = createSlice({\n  name: \"profile\",\n  initialState: {\n    username: null,\n    first_name: storage ? storage.first_name : null,\n    last_name: null,\n    email: null,\n    profile_addr: null,\n    zip_code: null,\n    address: null,\n    image_url: storage ? storage.image_url : null,\n    image_back_url: storage ? storage.image_back_url : null,\n    email_verified: storage ? storage.email_verified : null,\n    city: storage ? storage.city : null,\n    us_state: storage ? storage.us_state : null,\n    created_at: storage ? storage.created_at : null,\n  },\n  reducers: {\n    updateProfile: (state, actions) => {\n      const {\n        username,\n        first_name,\n        last_name,\n        email,\n        profile_addr,\n        zip_code,\n        address,\n        image_url,\n        image_back_url,\n        email_verified,\n        city,\n        us_state,\n        created_at,\n      } = actions.payload;\n\n      saveJSON(\"app_data\", {\n        first_name: first_name,\n        image_url: image_url,\n        image_back_url: image_back_url,\n        email_verified: email_verified,\n        city: city,\n        us_state: us_state,\n        created_at: created_at,\n      });\n\n      state.username = username;\n      state.first_name = first_name;\n      state.last_name = last_name;\n      state.email = email;\n      state.profile_addr = profile_addr;\n      state.zip_code = zip_code;\n      state.address = address;\n      state.image_url = image_url;\n      state.image_back_url = image_back_url;\n      state.email_verified = email_verified;\n      state.city = city;\n      state.us_state = us_state;\n      state.created_at = created_at;\n    },\n  },\n});\n\nexport const { updateProfile } = profileSlice.actions;\n\nexport const selectProfile = (state) => ({\n  username: state.profile.username,\n  first_name: state.profile.first_name,\n  last_name: state.profile.last_name,\n  email: state.profile.email,\n  profile_addr: state.profile.profile_addr,\n  zip_code: state.profile.zip_code,\n  address: state.profile.address,\n  image_url: state.profile.image_url,\n  image_back_url: state.profile.image_back_url,\n  email_verified: state.profile.email_verified,\n  city: state.profile.city,\n  us_state: state.profile.us_state,\n  created_at: state.profile.created_at,\n});\n\nexport default profileSlice.reducer;\n","import { useHistory } from \"react-router-dom\";\nimport { useModal } from \"../../hooks/hooks\";\nimport UploadImage from \"../UI/UploadImage\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { selectProfile } from \"../../store/profileSlice\";\nimport \"./profile.css\";\n\nconst ProfileHeader = ({ edit, profileImg, profileBackImg }) => {\n  const data = useSelector(selectProfile, shallowEqual);\n  const history = useHistory();\n\n  const [modal, showModal, closeModal] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n  });\n\n  return (\n    <>\n      {modal}\n      {data && (\n        <div className=\"prf-header\">\n          <div className=\"prf-back-block\">\n            <img\n              className=\"prf-back-img\"\n              src={profileBackImg ? profileBackImg : data.image_back_url}\n            />\n            {edit && (\n              <div>\n                <a\n                  onClick={() => {\n                    showModal(\n                      <UploadImage\n                        title=\"Set profile background image\"\n                        closeModal={closeModal}\n                        uploadFileAPI=\"/api/account/update_back_image_file\"\n                        imageUrlAPI=\"/api/account/update_back_image_url\"\n                        deleteImageAPI=\"/api/account/delete_back_image\"\n                      />\n                    );\n                  }}\n                >\n                  Edit\n                </a>\n              </div>\n            )}\n          </div>\n          <div className=\"prf-img-block\">\n            <img\n              className=\"prf-img\"\n              src={profileImg ? profileImg : data.image_url}\n            />\n            {edit && <div></div>}\n            {edit && (\n              <a\n                onClick={() => {\n                  showModal(\n                    <UploadImage\n                      title=\"Set profile image\"\n                      closeModal={closeModal}\n                      uploadFileAPI=\"/api/account/update_profile_image_file\"\n                      imageUrlAPI=\"/api/account/update_profile_image_url\"\n                      deleteImageAPI=\"/api/account/delete_profile_image\"\n                    />\n                  );\n                }}\n              >\n                Edit\n              </a>\n            )}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileHeader;\n","import { VscUnverified } from \"react-icons/vsc\";\nimport { GoVerified } from \"react-icons/go\";\n\nconst EmailConfirmIcon = ({ verified, children }) => {\n  return (\n    <div>\n      {children}\n      <span className=\"tooltip\">\n        {verified ? (\n          <GoVerified size={\"24px\"} color={\"#4e9340\"} />\n        ) : (\n          <VscUnverified size={\"24px\"} />\n        )}\n\n        <span className=\"tooltiptext\">\n          {verified ? \"Email verified\" : \"Email not verified\"}\n        </span>\n      </span>\n    </div>\n  );\n};\n\nexport default EmailConfirmIcon;\n","import EmailConfirmIcon from \"../UI/EmailConfirmIcon\";\nimport statesList from \"../../assets/data/states.json\";\nimport \"./profile.css\";\n\nconst PublicProfileInfo = ({\n  firstName,\n  emailVerified,\n  city,\n  usState,\n  joined,\n}) => {\n  return (\n    <div className=\"prf-pbl-top\">\n      <EmailConfirmIcon verified={emailVerified}>\n        <h2 className=\"inline-block\">{firstName}</h2>\n      </EmailConfirmIcon>\n\n      <p>\n        {city}, {statesList.find((elem) => elem.name === usState).abbreviation}\n      </p>\n      <p>Joined: {joined}</p>\n    </div>\n  );\n};\n\nexport default PublicProfileInfo;\n","import moment from \"moment-timezone\";\n\nexport const datetimeToLocal = (dateStr, format) => {\n  if (!dateStr || dateStr.length === 0) {\n    return \"\";\n  }\n  const dateObject = new Date(`${dateStr}+00:00`);\n  const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const today = moment().tz(timeZone);\n  const offset = today.utcOffset() / 60;\n  const currentHours = dateObject.getHours();\n  dateObject.setHours(currentHours + offset);\n  const newDateString = dateObject.toISOString().replace(\"T\", \" \").slice(0, 16);\n  if (format === \"month-year\") {\n    const monthStr = dateObject.toDateString().slice(4, 7);\n    const year = dateObject.toDateString().slice(11);\n    return `${monthStr} ${year}`;\n  }\n  return `${newDateString}`;\n};\n","import { useEffect, useState } from \"react\";\nimport { useRequest } from \"../../hooks/hooks\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./chat.css\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport Spinner from \"../UI/Spinner\";\nimport { datetimeToLocal } from \"../../utils/datetime\";\n\n// import io from \"socket.io-client\";\n\n// const socket = io.connect(`${endPoint}`);\n\nconst UserChatsPage = () => {\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const openChat = (chat) => {\n    history.push({\n      pathname: `/chats/${chat.recipient_name}`,\n      state: {\n        ...chat,\n      },\n    });\n  };\n\n  useEffect(() => {\n    sendRequest(\"/api/chat/get_user_chats\", \"POST\", {});\n  }, []);\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    }\n  }, [data, error, errorNum]);\n\n  // const [message, setMessage] = useState(\"\");\n  // const [messages, setMessages] = useState([\"Hello\"]);\n\n  // useEffect(() => {\n  //   getMessages();\n  // }, [messages.length]);\n\n  // const onClick = () => {\n  //   console.log(message);\n  //   socket.emit(\"message\", message);\n  //   setMessage(\"\");\n  // };\n\n  // const onChange = (e) => {\n  //   setMessage(e.target.value);\n  // };\n\n  // const getMessages = () => {\n  //   socket.on(\"message\", (msg) => {\n  //     setMessages([...messages, msg]);\n  //   });\n  // };\n\n  return (\n    <>\n      {/* <h1>Messages</h1>\n      {messages.map((msg, i) => (\n        <div key={i}>\n          <p>{msg}</p>\n        </div>\n      ))}\n      <input value={message} name=\"message\" onChange={(e) => onChange(e)} />\n      <button onClick={() => onClick()}>Send</button> */}\n      {isLoading && <Spinner />}\n      {data &&\n        data.chats.map((chat, i) => {\n          return (\n            <div\n              key={i}\n              className=\"chat-user-chats\"\n              onClick={() => openChat(chat)}\n            >\n              <img className=\"chat-img\" src={chat.recipient_img} />\n              <div className=\"chat-last-msg\">\n                <b>{chat.recipient_name}</b>\n                <p>\n                  <i>{chat.last_message}</i>\n                </p>\n                <p>{datetimeToLocal(chat.last_date)}</p>\n              </div>\n            </div>\n          );\n        })}\n    </>\n  );\n};\n\nexport default UserChatsPage;\n","import { useHistory, useLocation } from \"react-router-dom\"; \nimport { useModal } from \"../../hooks/hooks\";\n\n\nconst Product = ({product, onDelete, user_id}, ) => {\n\n    const history = useHistory(); \n    const location = useLocation(); \n    const prevPath = location.pathname;\n    const divStyle = {\n        border: \"1px solid black\", \n        margin: \"5px\"\n    }\n\n    const [modal, showModal, closeModal] = useModal({\n        withBackdrop: true,\n        useTimer: false,\n        inPlace: false,\n      });\n\n    const handleClick = (product) => {\n        history.push(\"/product-info\", product)\n    }\n\n    const handleClickEdit = (product) => {\n        history.push(\"edit-product\", product)\n    }\n\n     const confirmDelete = (\n        <>\n            <h3>Are you sure to delete?</h3>\n            <button onClick={() => onDelete(product.product_id)}>Yes</button>\n            <button onClick={() => closeModal()}>No</button>\n        </>\n    );\n\n    return (\n        <>\n        {(user_id === product.user_id || prevPath === '/user-products') ? (\n            <div style={divStyle}>\n                {/* <h1>Your product</h1> */}\n                <p>{product.name}</p>\n                <p>{product.description}</p>\n                <p>${product.price}</p>\n                <button onClick={() => handleClickEdit(product)}>Edit Product</button>\n                </div>\n        ) : (\n            <div onClick={() => handleClick(product)} style={divStyle} className=\"product\">\n            <p>{product.name}</p>\n            <p>{product.description}</p>\n            <p>${product.price}</p>\n            </div>)\n        }\n            {prevPath === \"/search-results\" ? null : \n            (<button onClick={() => {\n                showModal(confirmDelete)\n                }\n                }>Delete Product</button>)}\n            {modal}\n        </>\n    )\n}\n\nexport default Product; ","import { useRequest } from \"../../hooks/hooks\";\nimport { useEffect, useState } from \"react\";\nimport Spinner from \"../UI/Spinner\";\nimport Product from \"./Product\";\n\nconst UserProducts = () => {\n  const [userProducts, setUserProducts] = useState([]);\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n\n  const getProducts = () => {\n    sendRequest(\"/api/products/products-per-user\", \"post\", null);\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  useEffect(() => {\n    if (data && data.msg === \"deleted\") {\n      getProducts();\n    } else if (data) {\n      setUserProducts(data.user_products);\n    }\n  }, [data]);\n\n  const handleDelete = (product_id) => {\n    sendRequest(\"/api/products/delete_product\", \"delete\", {\n      product_id: product_id,\n    });\n  };\n\n  return (\n    <div>\n      <h2>All your products are here! </h2>\n      {isLoading && <Spinner />}\n      {userProducts &&\n        userProducts.map((product) => {\n          return (\n            <div key={product.product_id}>\n              <Product product={product} onDelete={handleDelete} />\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default UserProducts;\n","import { useState, useEffect, useLayoutEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useRequest } from \"../../hooks/hooks\";\nimport ProfileHeader from \"./ProfileHeader\";\nimport { logout, checkAuth } from \"../../utils/localStorage\";\nimport PublicProfileInfo from \"./PublicProfileInfo\";\nimport UserChatsPage from \"../chat/UserChatsPage\";\nimport UserProducts from \"../product/UserProducts\";\nimport classnames from \"classnames\";\nimport { datetimeToLocal } from \"../../utils/datetime\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport { updateProfile, selectProfile } from \"../../store/profileSlice\";\nimport \"./profile.css\";\n\nconst Profile = ({ tab }) => {\n  const history = useHistory();\n  const [currTab, setCurrTab] = useState(tab ? tab : \"products\");\n  const profileData = useSelector(selectProfile, shallowEqual);\n  const dispatch = useDispatch();\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n\n  useLayoutEffect(() => {\n    if (checkAuth() === false) {\n      logout()\n        .then(() => {\n          history.push(\"/login\");\n        })\n        .catch(() => {});\n    } else {\n      sendRequest(\"/api/account/get_profile_private\", \"POST\", {});\n    }\n  }, []);\n\n  useEffect(() => {\n    if (data && data.msg) {\n      dispatch(showMsg({ open: true, msg: data.msg, classes: \"mdl-ok\" }));\n    } else if (data) {\n      dispatch(updateProfile({ ...data }));\n    }\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    }\n  }, [data, error, errorNum]);\n\n  return (\n    <>\n      {profileData && (\n        <div className=\"profile\">\n          <ProfileHeader edit={false} />\n          <PublicProfileInfo\n            firstName={profileData.first_name}\n            emailVerified={profileData.email_verified}\n            city={profileData.city}\n            usState={profileData.us_state}\n            joined={datetimeToLocal(profileData.created_at, \"month-year\")}\n          />\n          <button\n            onClick={() => {\n              history.push(\"/profile/edit\");\n            }}\n          >\n            Edit profile\n          </button>\n          <div className=\"prf-main-menu\">\n            <hr className=\"hr-top\" />\n            <div className=\"prf-main-menu-tabs\">\n              <div\n                onClick={() => {\n                  history.push(\"/profile\");\n                  setCurrTab(\"products\");\n                }}\n                className={classnames({\n                  \"prf-main-menu-active\": currTab === \"products\",\n                })}\n              >\n                Products\n              </div>\n              <div\n                onClick={() => {\n                  history.push(\"/chats\");\n                  setCurrTab(\"chats\");\n                }}\n                className={classnames({\n                  \"prf-main-menu-active\": currTab === \"chats\",\n                })}\n              >\n                Chats\n              </div>\n            </div>\n            <hr className=\"hr-bottom\" />\n          </div>\n          <div className=\"prf-body\">\n            {currTab === \"chats\" && <UserChatsPage />}\n            {currTab === \"products\" && <UserProducts />}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Profile;\n","//to use Mapbox \nimport {useState} from \"react\";\nimport ReactMapGL, {Marker, Popup} from 'react-map-gl'; \n\n\nconst Map = () => {\n\n    const [viewport, setViewport] = useState({\n        latitude: 26.0112, \n        longitude: -80.1495, \n        width: \"100vw\", \n        height: \"100vh\", \n        zoom: 8\n    });\n    \n    return (\n        <div>\n            <ReactMapGL {...viewport}\n            mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n            mapStyles=\"mapbox://styles/arol15/ckmoaqw8a43jc17qslhph1v2k\"\n            onViewportChange={viewport => {\n                setViewport(viewport)\n            }}\n            >\n                markers here\n            </ReactMapGL>\n        </div>\n    )\n}\n\nexport default Map; ","import Product from './Product'; \nimport { useLocation } from \"react-router-dom\"; \nimport Map from \"../Map\"\n\nconst Products = () => {\n   \n    const location = useLocation(); \n    const products = location.state.products; \n\n    return (\n        <>\n        { location.state.user_id ? (products.map((product) => {\n            return (\n                <div key={product.product_id}>\n                    <Product product = {product} user_id={location.state.user_id}/>\n                </div>\n            )\n        })) : (products.map((product) => {\n            return (\n                <div key={product.product_id}>\n                    <Product product = {product}/>\n                </div>\n            )\n        }))\n    }\n    <div>\n        <Map />\n    </div>\n       </>\n    )\n}\n\nexport default Products; \n\n","import { useEffect } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { useRequest, useForm, useModal } from \"../../hooks/hooks\";\nimport statesList from \"../../assets/data/states.json\";\nimport validation from \"../../form_validation/validation\";\nimport { checkAuth } from \"../../utils/localStorage\";\nimport { useDispatch } from \"react-redux\";\nimport { updateProfile } from \"../../store/profileSlice\";\nimport Spinner from \"../UI/Spinner\";\n\nconst Auth = ({ view, inModal, closeModal, user, afterConfirm }) => {\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [modal, showModal] = useModal({\n    withBackdrop: false,\n    useTimer: true,\n    inPlace: inModal ? true : false,\n  });\n\n  checkAuth() && !inModal && history.push(\"/profile\");\n\n  const onSubmit = (e) => {\n    sendRequest(\n      view === \"login\" || view === \"confirm\"\n        ? \"/api/auth/login\"\n        : \"/api/auth/signup\",\n      \"post\",\n      formData\n    );\n  };\n\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm({}, onSubmit, validation);\n\n  useEffect(() => {\n    if (view === \"login\") {\n      setFormData({ login: \"\", password: \"\" });\n    } else if (view === \"signup\") {\n      setFormData({\n        email: \"\",\n        password: \"\",\n        confirm_pass: \"\",\n        username: \"\",\n        first_name: \"\",\n        state: \"\",\n        city: \"\",\n      });\n    } else if (view === \"confirm\") {\n      setFormData({ login: user, password: \"\" });\n    }\n  }, [view]);\n\n  useEffect(() => {\n    if (data) {\n      localStorage.setItem(\"status\", \"loggedIn\");\n      dispatch(updateProfile({ ...data }));\n      if (afterConfirm && closeModal) {\n        closeModal();\n        afterConfirm();\n      } else if (afterConfirm) {\n        afterConfirm();\n      } else if (closeModal) {\n        // history.push(\"/profile\");\n      } else {\n        history.push(\"/profile\");\n        // closeModal()\n      }\n    }\n  }, [data]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (error) {\n      showModal(error, \"mdl-error\");\n    } else if (data && data.msg) {\n      showModal(data.msg, \"mdl-ok\");\n    }\n  }, [error, errorNum, data]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div>\n      {modal}\n      {isLoading && <Spinner />}\n      {view === \"login\" && <h1>Log In</h1>}\n      {view === \"signup\" && <h1>Sign Up</h1>}\n      {view === \"confirm\" && <h1>Confirm identity</h1>}\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"auth-inputs\">\n          {view === \"login\" && (\n            <>\n              <input\n                key=\"1\"\n                type=\"text\"\n                placeholder=\"Email/Username\"\n                name=\"login\"\n                onChange={handleInputChange}\n                value={formData.login || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.login && formErrors.login}\n              </div>\n            </>\n          )}\n\n          {view === \"signup\" && (\n            <>\n              <input\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                onChange={handleInputChange}\n                value={formData.username || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.username && formErrors.username}\n              </div>\n            </>\n          )}\n\n          {view === \"signup\" && (\n            <>\n              <input\n                type=\"text\"\n                placeholder=\"Email\"\n                name=\"email\"\n                onChange={handleInputChange}\n                value={formData.email || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.email && formErrors.email}\n              </div>\n            </>\n          )}\n\n          {view === \"confirm\" && <p>{formData.login}</p>}\n          <>\n            <input\n              key=\"4\"\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              onChange={handleInputChange}\n              value={formData.password || \"\"}\n            />\n            <div className=\"form-danger\">\n              {formErrors.password && formErrors.password}\n            </div>\n          </>\n          {view === \"signup\" && (\n            <>\n              <input\n                key=\"15\"\n                type=\"password\"\n                placeholder=\"Confirm password\"\n                name=\"confirm_pass\"\n                onChange={handleInputChange}\n                value={formData.confirm_pass || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.confirm_pass && formErrors.confirm_pass}\n              </div>\n              <input\n                key=\"5\"\n                type=\"text\"\n                placeholder=\"First Name\"\n                name=\"first_name\"\n                onChange={handleInputChange}\n                value={formData.first_name || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.first_name && formErrors.first_name}\n              </div>\n              <select\n                key=\"6\"\n                placeholder=\"State\"\n                name=\"state\"\n                onChange={handleInputChange}\n                value={formData.state || \"\"}\n              >\n                <option key=\"-\" value=\"\">\n                  Select state\n                </option>\n                {statesList.map((elem) => {\n                  return (\n                    <option key={elem.abbreviation} value={statesList.name}>\n                      {elem.name}\n                    </option>\n                  );\n                })}\n              </select>\n              <div className=\"form-danger\">\n                {formErrors.state && formErrors.state}\n              </div>\n              <input\n                key=\"7\"\n                type=\"text\"\n                placeholder=\"City\"\n                name=\"city\"\n                onChange={handleInputChange}\n                value={formData.city || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.city && formErrors.city}\n              </div>\n            </>\n          )}\n        </div>\n        <input key=\"8\" type=\"submit\" disabled={isLoading} />\n      </form>\n\n      {inModal ? null : view === \"login\" ? (\n        <Link to=\"/signup\">Sign Up</Link>\n      ) : (\n        <Link to=\"/login\">Login</Link>\n      )}\n      <p></p>\n      {view === \"login\" && (\n        <>\n          <Link onClick={closeModal} to=\"/reset_password\">\n            Forgot your password?\n          </Link>\n          <p></p>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Auth;\n","const NotFoundPage = () => {\n  return <h1>Page Not Found</h1>;\n};\n\nexport default NotFoundPage;\n","import { useEffect, useState } from \"react\";\nimport { useRequest } from \"../../hooks/hooks\";\nimport ProfileHeader from \"./ProfileHeader\";\nimport PublicProfileInfo from \"./PublicProfileInfo\";\nimport Spinner from \"../UI/Spinner\";\nimport { datetimeToLocal } from \"../../utils/datetime\";\nimport \"./profile.css\";\n\nconst PublicProfile = (props) => {\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n\n  useEffect(() => {\n    sendRequest(`/api/account/${props.match.params.addr}`, \"GET\", {});\n  }, []);\n  return (\n    <>\n      {isLoading && <Spinner />}\n      {error && <h1>Profile Not Found</h1>}\n      {data && (\n        <>\n          <ProfileHeader\n            edit={false}\n            profileImg={data.image_url}\n            profileBackImg={data.image_back_url}\n          />\n          <PublicProfileInfo\n            firstName={data.first_name}\n            emailVerified={data.email_verified}\n            city={data.city}\n            usState={data.us_state}\n            joined={datetimeToLocal(data.created_at, \"month-year\")}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default PublicProfile;\n","import { useEffect } from \"react\";\nimport { useRequest, useForm } from \"../../hooks/hooks\";\nimport validation from \"../../form_validation/validation\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport Spinner from \"../UI/Spinner\";\n\nconst ResetPassword = (props) => {\n  const history = useHistory();\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n\n  const dispatch = useDispatch();\n\n  const onSubmit = () => {\n    if (props.reset) {\n      sendRequest(\"/api/auth/reset_password\", \"POST\", {\n        email: formData.email,\n      });\n    } else {\n      sendRequest(\"/api/auth/reset_password_confirm\", \"POST\", {\n        password: formData.password,\n        token: props.match.params.token,\n      });\n    }\n  };\n\n  const [, handleSubmit, handleInputChange, formData, formErrors] = useForm(\n    props.reset ? { email: \"\" } : { password: \"\", confirm_pass: \"\" },\n    onSubmit,\n    validation\n  );\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data && data.msg) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: data.msg,\n          classes: \"mdl-ok\",\n        })\n      );\n      if (props.reset) {\n        history.push(\"/login\");\n      } else {\n        history.push(\"/login\");\n      }\n    }\n  }, [error, errorNum, data]);\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <h1>Reset Password</h1>\n      {props.reset ? (\n        <>\n          <p>Enter your email address below</p>\n          <form onSubmit={handleSubmit}>\n            <label>Email: </label>\n            <input\n              key=\"9\"\n              type=\"text\"\n              placeholder=\"Email\"\n              name=\"email\"\n              onChange={handleInputChange}\n              value={formData.email || \"\"}\n            />\n            <div className=\"form-danger\">\n              {formErrors.email && formErrors.email}\n            </div>\n            <input key=\"8\" type=\"submit\" disabled={isLoading} />\n          </form>\n        </>\n      ) : (\n        <>\n          <form onSubmit={handleSubmit}>\n            <label>New password: </label>\n            <input\n              key=\"4\"\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              onChange={handleInputChange}\n              value={formData.password || \"\"}\n            />\n            <div className=\"form-danger\">\n              {formErrors.password && formErrors.password}\n            </div>\n\n            <label>Confirm password: </label>\n            <input\n              key=\"15\"\n              type=\"password\"\n              placeholder=\"Confirm password\"\n              name=\"confirm_pass\"\n              onChange={handleInputChange}\n              value={formData.confirm_pass || \"\"}\n            />\n            <div className=\"form-danger\">\n              {formErrors.confirm_pass && formErrors.confirm_pass}\n            </div>\n            <input key=\"87\" type=\"submit\" disabled={isLoading} />\n          </form>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default ResetPassword;\n","import { useState, useEffect } from \"react\";\nimport Portal from \"./Portal\";\nimport classnames from \"classnames\";\nimport { clearMsg, selectModal } from \"../../store/modalSlice\";\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\nimport \"../../index.css\";\n\nconst ModalMsg = () => {\n  const { open, msg, timeOut, classes } = useSelector(\n    selectModal,\n    shallowEqual\n  );\n  const dispatch = useDispatch();\n  const [active, setActive] = useState(false);\n\n  useEffect(() => {\n    if (open) {\n      window.setTimeout(() => {\n        document.activeElement.blur();\n        setActive(open);\n      }, 10);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    let id;\n    if (open) {\n      id = setTimeout(\n        () => {\n          dispatch(clearMsg());\n        },\n        timeOut ? timeOut : 7000\n      );\n    }\n    return () => {\n      clearTimeout(id);\n    };\n  }, [open]);\n\n  useEffect(() => {\n    let id;\n    if (open) {\n      id = setTimeout(\n        () => {\n          setActive(false);\n        },\n        timeOut ? timeOut - 1000 : 6000\n      );\n    }\n    return () => {\n      clearTimeout(id);\n    };\n  }, [active]);\n\n  return (\n    <>\n      {(open || active) && (\n        <Portal>\n          <div\n            className={classnames(\"mdl-msg\", classes, {\n              \"mdl-msg-active\": active,\n            })}\n          >\n            {msg}\n          </div>\n        </Portal>\n      )}\n    </>\n  );\n};\n\nexport default ModalMsg;\n","import { useEffect, useState, useRef } from \"react\";\nimport classnames from \"classnames\";\nimport \"./dropDownMenu.css\";\nconst DropDownMenu = ({\n  children,\n  open,\n  button,\n  onClick,\n  classContainer,\n  classMenu,\n  classActive,\n}) => {\n  const [classes] = useState({\n    clContainer: classContainer ? classContainer : \"menu-container\",\n    clMenu: classMenu ? classMenu : \"menu\",\n    clActive: classActive ? classActive : \"menu-active\",\n  });\n\n  const refer = useRef(null);\n  useEffect(() => {\n    const clickEvent = (e) => {\n      if (refer.current !== null && !refer.current.contains(e.target)) {\n        onClick();\n      }\n    };\n    if (open) {\n      window.addEventListener(\"click\", clickEvent);\n\n      return () => {\n        window.removeEventListener(\"click\", clickEvent);\n      };\n    }\n  }, [open]);\n\n  return (\n    <div className={classes.clContainer}>\n      {button}\n      <nav\n        ref={refer}\n        className={classnames(classes.clMenu, { [classes.clActive]: open })}\n      >\n        <div className=\"menu-elements\">{children}</div>\n      </nav>\n    </div>\n  );\n};\n\nexport default DropDownMenu;\n","import { memo, useState } from \"react\";\nimport { MdMoreVert } from \"react-icons/md\";\nimport DropDownMenu from \"../UI/DropDownMenu\";\nimport classnames from \"classnames\";\nimport \"./chat.css\";\n\nconst Message = ({ msgId, onDeleteMsg, body, createdAt, sender, image }) => {\n  const splitMsg = body.split(\"\\n\").map((e, i) => {\n    return <p key={i}>{e}</p>;\n  });\n  const [openMenu, setOpenMenu] = useState(false);\n\n  const deleteMsg = () => {\n    onDeleteMsg(msgId);\n    setOpenMenu(!openMenu);\n  };\n\n  const onClick = () => {\n    setOpenMenu(!openMenu);\n  };\n\n  return (\n    <div\n      className={classnames(\n        \"msg-container\",\n        sender === \"Me\" ? \"msg-cnt-self\" : \"msg-cnt-reciv\"\n      )}\n    >\n      {sender !== \"Me\" && <img className=\"chat-img\" src={image} />}\n      <div\n        className={classnames(\n          \"msg-body\",\n          sender === \"Me\" ? \"msg-body-self\" : \"msg-body-reciv\"\n        )}\n      >\n        {splitMsg}\n        <p>{createdAt}</p>\n      </div>\n      {sender === \"Me\" && (\n        <DropDownMenu\n          open={openMenu}\n          button={\n            <button className=\"msg-menu-button\" onClick={onClick}>\n              <MdMoreVert />\n            </button>\n          }\n          onClick={onClick}\n        >\n          <a onClick={deleteMsg}>Delete</a>\n        </DropDownMenu>\n      )}\n    </div>\n  );\n};\n\nexport default memo(Message);\n","const config = {\n  baseUrl: \"https://www.instaharvest.net/\",\n  endPoint: \"http://www.instaharvest.net:5000\",\n};\n\nexport default config;\n","import { useState, useEffect, useRef } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { useRequest, useForm } from \"../../hooks/hooks\";\nimport validation from \"../../form_validation/validation\";\nimport Message from \"./Message\";\nimport Spinner from \"../UI/Spinner\";\nimport { IoArrowBack } from \"react-icons/io5\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport { datetimeToLocal } from \"../../utils/datetime\";\nimport {\n  connectSocket,\n  disconnectSocket,\n  subscribeToChat,\n  sendMessage,\n  deleteMessage,\n} from \"../../utils/socket\";\n\nconst Chat = () => {\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [\n    isLoadingMsg,\n    dataMsg,\n    errorMsg,\n    errorNumMsg,\n    processMsg,\n  ] = useRequest();\n  const [chatMsgs, setChatMsgs] = useState();\n  const bottom = useRef();\n  const location = useLocation();\n  const [chatState, setChatState] = useState(\n    location.state ? { ...location.state } : null\n  );\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const onSubmit = () => {\n    sendMessage(formData, chatState.chat_id, chatState.user_id);\n    setFormData({ ...formData, body: \"\" });\n  };\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm(\n    { body: \"\", recipient_id: chatState && chatState.recipient_id },\n    onSubmit,\n    validation\n  );\n\n  const onDeleteMsg = (msgId) => {\n    deleteMessage(msgId, chatState.chat_id);\n  };\n\n  useEffect(() => {\n    if (!chatState) {\n      history.push(\"/chats\");\n    }\n    getMessages();\n    connectSocket(chatState.chat_id);\n    subscribeToChat(\n      (err, msg) => {\n        if (err) {\n          return;\n        }\n        setChatMsgs((oldMsgs) => [...oldMsgs, msg]);\n      },\n      () => {\n        getMessages();\n      }\n    );\n\n    return () => {\n      disconnectSocket(chatState.chat_id);\n    };\n  }, []);\n\n  const getMessages = () => {\n    sendRequest(\"/api/chat/get_chat_messages\", \"POST\", {\n      chat_id: chatState.chat_id,\n    });\n  };\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data) {\n      setFormData({ ...formData, chat_id: chatState.chat_id });\n      setChatMsgs([...data.msgs]);\n    }\n  }, [error, errorNum, data]);\n\n  useEffect(() => {\n    if (errorMsg) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: errorMsg,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (dataMsg) {\n      getMessages();\n      setFormData({ ...formData, body: \"\" });\n    }\n  }, [dataMsg, errorMsg, errorNumMsg]);\n\n  useEffect(() => {\n    bottom.current && bottom.current.scrollIntoView();\n  }, [chatMsgs]);\n\n  return (\n    chatState && (\n      <div className=\"chat\">\n        {(isLoading || isLoadingMsg) && <Spinner />}\n        <div className=\"chat-header\">\n          <h1>Chat with {chatState && chatState.recipient_name}</h1>\n          <button\n            onClick={() => {\n              history.goBack();\n            }}\n            className=\"chat-back-button\"\n          >\n            <IoArrowBack />\n          </button>\n        </div>\n        <div className=\"chat-scroll\">\n          {chatMsgs &&\n            chatMsgs.map((msg, i) => {\n              const sender =\n                parseInt(msg.sender_id) ===\n                parseInt(chatState && chatState.recipient_id)\n                  ? chatState && chatState.recipient_name\n                  : \"Me\";\n              return (\n                <div key={i} ref={i === chatMsgs.length - 1 ? bottom : null}>\n                  <Message\n                    msgId={msg.msg_id}\n                    onDeleteMsg={onDeleteMsg}\n                    createdAt={datetimeToLocal(msg.created_at)}\n                    sender={sender}\n                    body={msg.body}\n                    image={msg.sender_img}\n                  />\n                </div>\n              );\n            })}\n        </div>\n        {chatMsgs && (\n          <div className=\"chat-footer\">\n            <form>\n              <textarea\n                rows={3}\n                type=\"text\"\n                name=\"body\"\n                onChange={handleInputChange}\n                value={formData.body || \"\"}\n              ></textarea>\n              <div className=\"form-danger\">\n                {formErrors.body && formErrors.body}\n              </div>\n              <button onClick={handleSubmit}>Send</button>\n            </form>\n          </div>\n        )}\n      </div>\n    )\n  );\n};\n\nexport default Chat;\n","import { useState } from \"react\";\nimport Auth from \"../../components/auth/Auth\";\nimport \"./auth.css\";\nimport classnames from \"classnames\";\nimport { SwitchTransition, CSSTransition } from \"react-transition-group\";\n\nconst AuthModal = ({ closeModal, afterConfirm }) => {\n  const [view, setView] = useState(\"login\");\n\n  const switchComponents = () => {\n    if (view === \"login\") {\n      setView(\"signup\");\n    } else {\n      setView(\"login\");\n    }\n  };\n  return (\n    <div>\n      <button\n        disabled={view === \"login\"}\n        className={classnames(\"authButton\", { active: view === \"login\" })}\n        onClick={switchComponents}\n      >\n        Log In\n      </button>\n      <button\n        disabled={view === \"signup\"}\n        className={classnames(\"authButton\", { active: view === \"signup\" })}\n        onClick={switchComponents}\n      >\n        Sign Up\n      </button>\n\n      <SwitchTransition>\n        <CSSTransition\n          key={view}\n          addEndListener={(node, done) =>\n            node.addEventListener(\"transitionend\", done, false)\n          }\n          classNames=\"fade\"\n        >\n          {view === \"signup\" ? (\n            <Auth\n              view={view}\n              inModal={true}\n              closeModal={closeModal}\n              afterConfirm={afterConfirm}\n            />\n          ) : (\n            <Auth\n              view={view}\n              inModal={true}\n              closeModal={closeModal}\n              afterConfirm={afterConfirm}\n            />\n          )}\n        </CSSTransition>\n      </SwitchTransition>\n    </div>\n  );\n};\n\nexport default AuthModal;\n","import { useState } from \"react\";\nimport classnames from \"classnames\";\nimport \"./toggleInput.css\";\n\nconst ToggleInput = ({\n  name,\n  handleInputChange,\n  inputValue,\n  formData,\n  setFormData,\n}) => {\n  const [posLeft, setPos] = useState(true);\n\n  const onClick = () => {\n    if (posLeft) {\n      setPos(false);\n    } else {\n      setFormData({ ...formData, [name]: 0 });\n      setPos(true);\n    }\n  };\n\n  return (\n    <div className=\"switch\">\n      <span\n        className={classnames(\"switch-click\", { \"switch-click-left\": posLeft })}\n        onClick={onClick}\n      ></span>\n      <span\n        className={classnames(\"switch-text\", { \"switch-text-right\": !posLeft })}\n      >\n        Free\n      </span>\n      <span\n        className={classnames(\"slider\", { \"slider-right\": !posLeft })}\n      ></span>\n\n      <input\n        className={classnames(\"switch-input\", { \"switch-input-hide\": posLeft })}\n        type=\"number\"\n        name={name}\n        placeholder={\"$\"}\n        onChange={handleInputChange}\n        value={inputValue}\n      ></input>\n      <span\n        className={classnames(\"input-label\", { \"input-label-hide\": posLeft })}\n      >\n        Enter price\n      </span>\n    </div>\n  );\n};\n\nexport default ToggleInput;\n","import { useEffect } from \"react\";\nimport validation from \"../../form_validation/validation\";\nimport { useRequest, useForm } from \"../../hooks/hooks\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./AddProduct.css\";\nimport AuthModal from \"../auth/AuthModal\";\nimport { useModal } from \"../../hooks/hooks\";\nimport { checkAuth } from \"../../utils/localStorage\";\nimport ToggleInput from \"../UI/ToggleInput\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport { useDispatch } from \"react-redux\";\nimport Spinner from \"../UI/Spinner\";\n\nconst AddProduct = () => {\n  const history = useHistory();\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const dispatch = useDispatch();\n  const [modal, showModal, closeModal] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n    disableClose: true,\n  });\n\n  const onSubmit = () => {\n    sendRequest(\"/api/products/add-product\", \"post\", formData);\n  };\n\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm(\n    {\n      name: \"\",\n      product_type: \"\",\n      image_urls: [],\n      price: 0,\n      status: \"\",\n      description: \"\",\n    },\n    onSubmit,\n    validation\n  );\n\n  const handleAfterConfirm = () => {\n    closeModal();\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    if (!checkAuth()) {\n      showModal(<AuthModal afterConfirm={handleAfterConfirm} />);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: \"Product has been added!\",\n          classes: \"mdl-ok\",\n        })\n      );\n      history.push(\"/user-products\");\n    }\n  }, [data, error, errorNum]);\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <div className=\"add-product\">\n        <h2>Share Your Product</h2>\n        <form onSubmit={handleSubmit}>\n          <label>Name of your product</label>\n          <input\n            className=\"add-product-input\"\n            placeholder=\"Name\"\n            type=\"text\"\n            name=\"name\"\n            onChange={handleInputChange}\n            value={formData.name || \"\"}\n          />\n          <div className=\"form-danger\">\n            {formErrors.name && formErrors.name}\n          </div>\n          <label>Product Type:</label>\n          <select\n            name=\"product_type\"\n            onChange={handleInputChange}\n            value={formData.product_type || \"\"}\n          >\n            <option>Select Product Type</option>\n            <option>Fruit</option>\n            <option>Vegetable</option>\n            <option>Herb</option>\n            <option>Other</option>\n          </select>\n          <div className=\"form-danger\">\n            {formErrors.product_type && formErrors.product_type}\n          </div>\n          <label>Pictures</label>\n          <input\n            className=\"add-product-input\"\n            type=\"file\"\n            name=\"image_urls\"\n            onChange={handleInputChange}\n            value={formData.image_urls || \"\"}\n          />\n          <label>Price: </label>\n          <ToggleInput\n            name=\"price\"\n            handleInputChange={handleInputChange}\n            inputValue={formData.price || \"\"}\n            setFormData={setFormData}\n            formData={formData}\n          />\n          <label>Description: </label>\n          <textarea\n            rows={3}\n            placeholder=\"Describe your product\"\n            type=\"textarea\"\n            name=\"description\"\n            onChange={handleInputChange}\n            value={formData.description || \"\"}\n          />\n          <div className=\"form-danger\">\n            {formErrors.description && formErrors.description}\n          </div>\n          <button>Add Product</button>\n        </form>\n      </div>\n      {modal}\n    </>\n  );\n};\n\nexport default AddProduct;\n","import { useLocation, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport useRequest from \"../../hooks/useRequest\";\nimport { checkAuth } from \"../../utils/localStorage\";\nimport AuthModal from \"../auth/AuthModal\";\nimport { useModal } from \"../../hooks/hooks\";\nimport Spinner from \"../UI/Spinner\";\n\nconst ProductDetails = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const user_id = location.state.user_id;\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [info, setInfo] = useState({});\n\n  const [modal, showModal, closeModal] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n  });\n\n  const openChat = (recipientId, recipientName, recipientImg) => {\n    history.push({\n      pathname: `/chats/${recipientName}`,\n      state: {\n        recipientId: recipientId,\n        recipientName: recipientName,\n        recipientImg: recipientImg,\n      },\n    });\n  };\n\n  const handleAfterConfirm = () => {\n    openChat(location.state.user_id, info.first_name, info.image_url);\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    sendRequest(`/api/products/product-location-info/${user_id}`, \"get\");\n  }, []);\n\n  useEffect(() => {\n    if (data) {\n      setInfo(data.product_details);\n    }\n  }, [data]);\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <div>\n        <div>Product: {location.state.name}</div>\n        <p>About this product: {location.state.description}</p>\n        <div>\n          Location for map: {info.lat} and {info.lgt}\n        </div>\n        {checkAuth() ? (\n          <button\n            onClick={() =>\n              openChat(location.state.user_id, info.first_name, info.image_url)\n            }\n          >\n            Connect with seller\n          </button>\n        ) : (\n          <button\n            onClick={() =>\n              showModal(<AuthModal afterConfirm={handleAfterConfirm} />)\n            }\n          >\n            Connect with Seller\n          </button>\n        )}\n      </div>\n      {modal}\n    </>\n  );\n};\n\nexport default ProductDetails;\n","import { useState } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport \"./MainNavbar.css\";\nimport { checkAuth, logout } from \"../utils/localStorage\";\nimport { useModal } from \"../hooks/hooks\";\nimport AuthModal from \"../components/auth/AuthModal\";\nimport DropDownMenu from \"../components/UI/DropDownMenu\";\nimport { shallowEqual, useSelector, useDispatch } from \"react-redux\";\nimport { selectProfile } from \"../store/profileSlice\";\nimport { showMsg } from \"../store/modalSlice\";\n\nconst MainNavbar = () => {\n  const history = useHistory();\n  const { image_url } = useSelector(selectProfile, shallowEqual);\n  const dispatch = useDispatch();\n  const [modal, showModal, closeModal] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n  });\n\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n\n  const logoutUser = (val) => {\n    if (val) {\n      logout()\n        .then(() => {\n          history.push(\"/\");\n        })\n        .catch((error) => {\n          dispatch(\n            showMsg({\n              open: true,\n              msg: error,\n              classes: \"mdl-error\",\n            })\n          );\n        });\n    }\n    closeModal();\n    setShowProfileMenu(false);\n  };\n\n  const confirmLogout = (\n    <>\n      <p>Are you sure to logout?</p>\n      <button onClick={() => logoutUser(true)}>Yes</button>\n      <button onClick={() => logoutUser(false)}>No</button>\n    </>\n  );\n\n  const onClickProfile = () => {\n    setShowProfileMenu(!showProfileMenu);\n  };\n\n  return (\n    <>\n      <nav className=\"main-navbar\">\n        <div className=\"main-navbar-logo\">\n          <Link to=\"/\">instaHarvest</Link>\n        </div>\n        <div>\n          <Link to=\"/add-product\">Share your Product</Link>\n        </div>\n        {checkAuth() ? (\n          <>\n            <DropDownMenu\n              open={showProfileMenu}\n              button={\n                <div>\n                  <img\n                    className=\"main-navbar-profile\"\n                    src={image_url}\n                    onClick={onClickProfile}\n                    alt=\"\"\n                  />\n                </div>\n              }\n              onClick={onClickProfile}\n            >\n              <Link onClick={onClickProfile} to=\"/profile\">\n                Profile\n              </Link>\n\n              <a\n                onClick={() => {\n                  showModal(confirmLogout);\n                }}\n              >\n                Logout\n              </a>\n            </DropDownMenu>\n          </>\n        ) : (\n          <div className=\"main-navbar-links\">\n            <a\n              onClick={() =>\n                showModal(\n                  <AuthModal\n                    closeModal={closeModal}\n                    afterConfirm={() => {\n                      closeModal();\n                      history.push(\"/profile\");\n                    }}\n                  />\n                )\n              }\n            >\n              Sign In\n            </a>\n          </div>\n        )}\n      </nav>\n      {modal}\n    </>\n  );\n};\n\nexport default MainNavbar;\n","import { useLocation, useHistory } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { useRequest, useForm } from \"../../hooks/hooks\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\n\nimport validation from \"../../form_validation/validation\";\nimport \"./EditProduct.css\";\n\nconst EditProduct = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const product = location.state;\n\n  const onSubmit = () => {\n    sendRequest(\n      `/api/products/edit-product/${product.product_id}`,\n      \"patch\",\n      formData\n    );\n  };\n\n  const dispatch = useDispatch();\n  const [, data, error, errorNum, sendRequest] = useRequest();\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm(\n    {\n      name: product.name,\n      product_type: product.product_type,\n      image_urls: product.urls,\n      price: product.price,\n      status: product.status,\n      description: product.description,\n    },\n    onSubmit,\n    validation\n  );\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: \"Product has been added!\",\n          classes: \"mdl-ok\",\n        })\n      );\n      history.push(\"/user-products\");\n    }\n  }, [data, error, errorNum]);\n\n  return (\n    <div className=\"edit-product\">\n      <h2>Edit Your Product</h2>\n      <form onSubmit={handleSubmit}>\n        <label>Name of your product</label>\n        <input\n          placeholder=\"Name\"\n          type=\"text\"\n          name=\"name\"\n          onChange={handleInputChange}\n          value={formData.name}\n        />\n        <label>Product Type:</label>\n        <select\n          name=\"product_type\"\n          onChange={handleInputChange}\n          value={formData.product_type}\n        >\n          <option>Select Product Type</option>\n          <option>Fruit</option>\n          <option>Vegetable</option>\n          <option>Herb</option>\n          <option>Other</option>\n        </select>\n        <label>Pictures</label>\n        <input\n          type=\"file\"\n          name=\"image_urls\"\n          onChange={handleInputChange}\n          value={formData.image_urls}\n        />\n        <label>Price: </label>\n        <input\n          placeholder=\"$0.00\"\n          type=\"number\"\n          name=\"price\"\n          onChange={handleInputChange}\n          value={formData.price}\n        />\n        <label>Description: </label>\n        <textarea\n          placeholder=\"Describe your product\"\n          type=\"textarea\"\n          name=\"description\"\n          onChange={handleInputChange}\n          value={formData.description}\n        />\n        <button>Save Changes</button>\n        <button\n          onClick={() => {\n            history.push(\"/user-products\");\n          }}\n        >\n          Cancel\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProduct;\n","import { useState, useEffect } from \"react\";\nimport { useRequest, useModal, useForm } from \"../../hooks/hooks\";\nimport Auth from \"../auth/Auth\";\nimport statesList from \"../../assets/data/states.json\";\nimport validation from \"../../form_validation/validation\";\nimport Spinner from \"../UI/Spinner\";\nimport \"./profile.css\";\n\nconst ProfileFild = (props) => {\n  const [editState, setEditState] = useState(false);\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [modalLogin, showModalLogin, onClose] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n  });\n\n  const onSubmit = () => {\n    sendRequest(`/api/account${props.api}`, props.method, formData);\n  };\n\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm({ [props.name]: props.value }, onSubmit, validation);\n  useEffect(() => {\n    if (error && errorNum !== 403) {\n      props.sendMsg(error, \"mdl-error\");\n    } else if (data && data.msg) {\n      props.sendMsg(data.msg, \"mdl-ok\");\n      props.update();\n      setEditState(false);\n    }\n  }, [data, error]);\n\n  useEffect(() => {\n    if (errorNum === 403) {\n      showModalLogin(\n        <Auth\n          view={\"confirm\"}\n          inModal={true}\n          closeModal={onClose}\n          afterConfirm={handleSubmit}\n          user={props.user}\n        />\n      );\n    }\n  }, [errorNum]);\n\n  return (\n    <>\n      {modalLogin}\n      {isLoading && <Spinner />}\n      <b>{props.title}:</b>\n      {editState ? (\n        <div>\n          <form onSubmit={handleSubmit}>\n            {props.name === \"us_state\" && (\n              <>\n                <select\n                  key=\"6\"\n                  placeholder=\"State\"\n                  name=\"us_state\"\n                  onChange={handleInputChange}\n                  value={formData.us_state || \"\"}\n                >\n                  <option key=\"-\" value=\"\">\n                    Select state\n                  </option>\n                  {statesList.map((elem) => {\n                    return (\n                      <option key={elem.abbreviation} value={statesList.name}>\n                        {elem.name}\n                      </option>\n                    );\n                  })}\n                </select>\n                <div className=\"form-danger\">\n                  {formErrors.us_state && formErrors.us_state}\n                </div>\n              </>\n            )}\n\n            {props.name === \"password\" && (\n              <div className=\"prf-change-pass\">\n                <input\n                  placeholder=\"New password\"\n                  type=\"password\"\n                  name={props.name}\n                  onChange={handleInputChange}\n                  value={formData[props.name] || \"\"}\n                ></input>\n                <p></p>\n                <input\n                  placeholder=\"Confirm new password\"\n                  type=\"password\"\n                  name=\"confirm_pass\"\n                  onChange={handleInputChange}\n                  value={formData.confirm_pass || \"\"}\n                ></input>\n                <div className=\"form-danger\">\n                  {formErrors.confirm_pass && formErrors.confirm_pass}\n                </div>\n              </div>\n            )}\n\n            {props.name !== \"us_state\" && props.name !== \"password\" && (\n              <>\n                <input\n                  placeholder={\"\"}\n                  type=\"text\"\n                  name={props.name}\n                  onChange={handleInputChange}\n                  value={formData[props.name] || \"\"}\n                ></input>\n                <div className=\"form-danger\">\n                  {formErrors[props.name] && formErrors[props.name]}\n                </div>\n              </>\n            )}\n\n            <div>\n              <input type=\"submit\" disabled={isLoading}></input>\n              <button\n                onClick={() => {\n                  setEditState(false);\n                  setFormData({ [props.name]: props.value });\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </form>\n        </div>\n      ) : (\n        <>\n          {props.name === \"password\" ? (\n            <p></p>\n          ) : props.value ? (\n            props.children\n          ) : (\n            <p>Empty</p>\n          )}\n          <a\n            onClick={() => {\n              setEditState(true);\n            }}\n          >\n            {props.name === \"password\" ? \"Change password\" : \"Edit\"}\n          </a>\n        </>\n      )}\n\n      <br />\n    </>\n  );\n};\n\nexport default ProfileFild;\n","import { useState, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport { FiUser, FiUsers, FiHome, FiMenu, FiX } from \"react-icons/fi\";\nimport { useHistory } from \"react-router-dom\";\nimport { useWidth } from \"../../hooks/hooks\";\n\nconst ProfileSideMenu = ({ currTab }) => {\n  const history = useHistory();\n  const [showMenu, setShowMenu] = useState(false);\n  const isDesktop = useWidth(1300);\n  const toggleMenu = () => {\n    setShowMenu(!showMenu);\n  };\n\n  const closeOnMobile = () => {\n    if (!isDesktop) {\n      setShowMenu(false);\n    }\n  };\n\n  useEffect(() => {\n    setShowMenu(isDesktop);\n  }, [isDesktop]);\n\n  return (\n    <div\n      className={classnames(\"prf-side-menu\", {\n        \"prf-side-menu-closed\": !showMenu,\n      })}\n    >\n      <div className=\"prf-side-content\">\n        <div onClick={toggleMenu} className=\"prf-side-hamb\">\n          {showMenu ? <FiX /> : <FiMenu />}\n        </div>\n        <p\n          className={classnames({ \"prf-side-active\": !currTab })}\n          onClick={() => {\n            currTab && history.push(\"/profile/edit\");\n            closeOnMobile();\n          }}\n        >\n          <span>\n            <FiUsers />\n          </span>\n\n          <span\n            className={classnames(\"prf-side-title\", {\n              \"prf-side-title-closed\": !showMenu,\n            })}\n          >\n            Public information\n          </span>\n        </p>\n        <p\n          className={classnames({ \"prf-side-active\": currTab === \"private\" })}\n          onClick={() => {\n            currTab !== \"private\" && history.push(\"/profile/edit/private\");\n            closeOnMobile();\n          }}\n        >\n          <span>\n            <FiUser />\n          </span>\n          <span\n            className={classnames(\"prf-side-title\", {\n              \"prf-side-title-closed\": !showMenu,\n            })}\n          >\n            Private information\n          </span>\n        </p>\n        <p\n          className={classnames({ \"prf-side-active\": currTab === \"address\" })}\n          onClick={() => {\n            currTab !== \"address\" && history.push(\"/profile/edit/address\");\n            closeOnMobile();\n          }}\n        >\n          <span>\n            <FiHome />\n          </span>\n          <span\n            className={classnames(\"prf-side-title\", {\n              \"prf-side-title-closed\": !showMenu,\n            })}\n          >\n            Address\n          </span>\n        </p>\n      </div>\n      <div className=\"prf-side-back\">\n        <div\n          className={classnames(\"prf-back-left\", {\n            \"prf-back-left-closed\": !showMenu,\n          })}\n        ></div>\n        <div\n          className={classnames(\"prf-back-right\", {\n            \"prf-back-right-closed\": !showMenu,\n          })}\n        ></div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileSideMenu;\n","import { useState, useEffect } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { useRequest, useWidth } from \"../../hooks/hooks\";\nimport ProfileField from \"./ProfileField\";\nimport ProfileHeader from \"./ProfileHeader\";\nimport EmailConfirmIcon from \"../UI/EmailConfirmIcon\";\nimport ProfileSideMenu from \"./ProfileSideMenu\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { updateProfile, selectProfile } from \"../../store/profileSlice\";\nimport Spinner from \"../UI/Spinner\";\nimport config from \"../../config\";\nimport \"./profile.css\";\n\nconst Profile = ({ tab }) => {\n  const profileData = useSelector(selectProfile, shallowEqual);\n  const dispatch = useDispatch();\n  const [currTab, setCurrTab] = useState(tab);\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [\n    ,\n    dataEmailReq,\n    errorEmailReq,\n    errorNumEmailReq,\n    sendEmailRequest,\n  ] = useRequest();\n  const history = useHistory();\n  const updateProfileData = () => {\n    sendRequest(\"/api/account/get_profile_private\", \"POST\", {});\n  };\n\n  useEffect(() => {\n    if (!profileData.email) {\n      updateProfileData();\n    }\n  }, []);\n\n  useEffect(() => {\n    setCurrTab(tab);\n  }, [tab]);\n\n  useEffect(() => {\n    if (data && data.msg) {\n      dispatch(showMsg({ open: true, msg: data.msg, classes: \"mdl-ok\" }));\n    } else if (data) {\n      dispatch(updateProfile({ ...data }));\n    }\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    }\n  }, [data, error, errorNum]);\n\n  useEffect(() => {\n    if (errorEmailReq) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: errorEmailReq,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (dataEmailReq && dataEmailReq.msg) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: dataEmailReq.msg,\n          classes: \"mdl-ok\",\n        })\n      );\n    }\n  }, [dataEmailReq, errorEmailReq, errorNumEmailReq]);\n\n  const sendMessage = (msg, classes) => {\n    dispatch(\n      showMsg({\n        open: true,\n        msg: msg,\n        classes: classes,\n      })\n    );\n  };\n\n  const resendConfirmEmail = () => {\n    sendEmailRequest(\"/api/auth/resend_email\", \"POST\", {}, true);\n  };\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <ProfileHeader edit={true} />\n      <button\n        className=\"prf-return-button\"\n        onClick={() => {\n          history.push(\"/profile\");\n        }}\n      >\n        Return to profile\n      </button>\n\n      {profileData && (\n        <div className=\"prf-edit\">\n          <ProfileSideMenu currTab={currTab} />\n          <div className=\"prf-col\"></div>\n          {!currTab && (\n            <div className=\"prf-block\">\n              <h2>Public Information</h2>\n              <p></p>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"first_name\"\n                  title=\"First name\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.first_name}\n                >\n                  <p>{profileData.first_name}</p>\n                </ProfileField>\n                <hr />\n              </div>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"profile_addr\"\n                  title=\"Profile address\"\n                  api=\"/edit_profile_address\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.profile_addr}\n                >\n                  <p>\n                    <Link to={`/profile/${profileData.profile_addr}`}>\n                      {config.baseUrl}\n                      {profileData.profile_addr}\n                    </Link>\n                  </p>\n                </ProfileField>\n                <hr />\n              </div>\n            </div>\n          )}\n\n          {currTab === \"private\" && (\n            <div className=\"prf-block\">\n              <div className=\"\">\n                <h2>Private information</h2>\n                <div className=\"prf-field\">\n                  <ProfileField\n                    name=\"new_email\"\n                    title=\"Email\"\n                    api=\"/request_change_email\"\n                    method=\"POST\"\n                    update={updateProfileData}\n                    sendMsg={sendMessage}\n                    user={profileData.email}\n                    value={profileData.email}\n                  >\n                    <div>\n                      <EmailConfirmIcon verified={profileData.email_verified}>\n                        <p className=\"inline-block\">{profileData.email}</p>\n                      </EmailConfirmIcon>\n                    </div>\n                    <p></p>\n                  </ProfileField>\n                  {!profileData.email_verified && (\n                    <div>\n                      <a onClick={resendConfirmEmail}>\n                        Resend confirmation email\n                      </a>\n                    </div>\n                  )}\n                  <hr />\n                </div>\n\n                <div className=\"prf-field\">\n                  <ProfileField\n                    name=\"username\"\n                    title=\"Username\"\n                    api=\"/edit_username\"\n                    method=\"PATCH\"\n                    update={updateProfileData}\n                    sendMsg={sendMessage}\n                    user={profileData.email}\n                    value={profileData.username}\n                  >\n                    <p>{profileData.username}</p>\n                  </ProfileField>\n                  <hr />\n                </div>\n\n                <div className=\"prf-field\">\n                  <ProfileField\n                    name=\"last_name\"\n                    title=\"Last name\"\n                    api=\"/edit_profile\"\n                    method=\"PATCH\"\n                    update={updateProfileData}\n                    sendMsg={sendMessage}\n                    value={profileData.last_name}\n                  >\n                    <p>{profileData.last_name}</p>\n                  </ProfileField>\n                  <hr />\n                </div>\n\n                <div className=\"prf-field\">\n                  <ProfileField\n                    name=\"password\"\n                    user={profileData.email}\n                    title=\"Change password\"\n                    api=\"/change_pass\"\n                    method=\"PATCH\"\n                    update={updateProfileData}\n                    sendMsg={sendMessage}\n                    value={profileData.password}\n                  >\n                    <p>{profileData.password}</p>\n                  </ProfileField>\n                  <hr />\n                </div>\n              </div>\n            </div>\n          )}\n\n          {currTab === \"address\" && (\n            <div className=\"prf-block\">\n              <h2>Address</h2>\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"address\"\n                  title=\"Address\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.address}\n                >\n                  <p>{profileData.address}</p>\n                </ProfileField>\n                <hr />\n              </div>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"city\"\n                  title=\"City\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.city}\n                >\n                  <p>{profileData.city}</p>\n                </ProfileField>\n                <hr />\n              </div>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"us_state\"\n                  title=\"State\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.us_state}\n                >\n                  <p>{profileData.us_state}</p>\n                </ProfileField>\n                <hr />\n              </div>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"zip_code\"\n                  title=\"Zip code\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.zip_code}\n                >\n                  <p>{profileData.zip_code}</p>\n                </ProfileField>\n                <hr />\n              </div>\n            </div>\n          )}\n          <div className=\"prf-col\"></div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Profile;\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport Home from \"./components/Home\";\nimport Profile from \"./components/profile/Profile\";\nimport Products from \"./components/product/Products\";\nimport Auth from \"./components/auth/Auth\";\nimport NotFoundPage from \"./components/NotFoundPage\";\nimport PublicProfile from \"./components/profile/PublicProfile\";\nimport ResetPassword from \"./components/auth/ResetPassword\";\nimport ModalMsg from \"./components/UI/ModalMsg\";\nimport UserChatsPage from \"./components/chat/UserChatsPage\";\nimport Chat from \"./components/chat/Chat\";\nimport AddProduct from \"./components/product/AddProduct\";\nimport UserProducts from \"./components/product/UserProducts\";\nimport ProductDetails from \"./components/product/ProductDetails\";\nimport MainNavbar from \"./components/MainNavbar\";\nimport EditProduct from \"./components/product/EditProduct\";\nimport EditProfile from \"./components/profile/EditProfile\";\nimport Footer from \"./components/Footer\";\n\nfunction App() {\n  return (\n    <>\n      <Router>\n        <MainNavbar />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/login\">\n            <Auth view=\"login\" />\n          </Route>\n          <Route path=\"/signup\">\n            <Auth view=\"signup\" />\n          </Route>\n          <Route path=\"/profile\" component={Profile} exact />\n          <Route path=\"/chats\" exact>\n            <Profile tab=\"chats\" exact />\n          </Route>\n          <Route path=\"/profile/edit\" component={EditProfile} exact />\n          <Route path=\"/profile/edit/private\">\n            <EditProfile tab=\"private\" />\n          </Route>\n          <Route path=\"/profile/edit/address\">\n            <EditProfile tab=\"address\" />\n          </Route>\n          <Route path=\"/add-product\" component={AddProduct} exact />\n          <Route path=\"/user-products\" component={UserProducts} />\n          <Route path=\"/edit-product\" component={EditProduct} />\n          <Route path=\"/product-info\" component={ProductDetails} />\n          <Route path=\"/chats/:name\" component={Chat} />\n          <Route path=\"/profile/:addr\" component={PublicProfile} />\n          <Route path=\"/search-results\" component={Products} />\n          <Route path=\"/reset_password\">\n            <ResetPassword reset={true} />\n          </Route>\n          <Route\n            path=\"/reset_password_confirm/:token\"\n            component={ResetPassword}\n          />\n          <Route path=\"*\" component={NotFoundPage} />\n        </Switch>\n        <div className=\"filler\"></div>\n      </Router>\n      <ModalMsg />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport modalReducer from \"./modalSlice\";\nimport profileReducer from \"./profileSlice\";\n\nexport default configureStore({\n  reducer: {\n    modal: modalReducer,\n    profile: profileReducer,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./store/store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}