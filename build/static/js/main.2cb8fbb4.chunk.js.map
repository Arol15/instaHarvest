{"version":3,"sources":["utils/localStorage.js","components/ShareProducts.js","hooks/useForm.js","hooks/useRequest.js","form_validation/validation.js","store/modalSlice.js","components/UI/Spinner.js","components/SearchMain.js","components/Footer.js","components/Home.js","components/UI/Portal.js","hooks/useModal.js","hooks/useWidth.js","components/UI/UploadImage.js","store/profileSlice.js","components/profile/ProfileHeader.js","components/UI/EmailConfirmIcon.js","components/profile/PublicProfileInfo.js","utils/datetime.js","components/chat/UserChatsPage.js","components/product/Product.js","components/product/UserProducts.js","components/profile/Profile.js","components/Map.js","components/product/Products.js","components/auth/Auth.js","components/NotFoundPage.js","components/profile/PublicProfile.js","components/auth/ResetPassword.js","components/UI/ModalMsg.js","components/UI/DropDownMenu.js","components/chat/Message.js","components/chat/Chat.js","components/auth/AuthModal.js","components/UI/ToggleInput.js","components/product/AddProduct.js","components/product/ProductDetails.js","components/MainNavbar.js","components/product/EditProduct.js","components/profile/ProfileField.js","components/profile/ProfileSideMenu.js","config.js","components/profile/EditProfile.js","App.js","reportWebVitals.js","store/store.js","index.js"],"names":["key","ShareProducts","history","useHistory","onClick","push","useForm","formData","onSubmit","formValidation","useState","formState","setFormState","formErrors","setErrors","event","preventDefault","validationErrors","isValid","Object","keys","length","target","name","value","logout","Promise","resolve","reject","axios","post","then","localStorage","removeItem","catch","checkAuth","getItem","fetchReducer","currState","action","type","isLoading","errorNum","error","data","responseData","errorMessage","useRequest","useReducer","fetchState","dispatchFetch","sendRequest","useDispatch","useCallback","url","method","body","a","config","timeout","res","err","response","resp","status","validation","errors","password","confirm_pass","test","entries","forEach","username","login","email","first_name","us_state","city","search_term","profile_addr","product_type","description","modalSlice","createSlice","initialState","open","msg","timeOut","classes","reducers","showMsg","state","payload","clearMsg","actions","selectModal","modal","Spinner","props","className","SearchMain","handleSubmit","handleInputChange","dispatch","useEffect","products","pathname","console","log","placeholder","onChange","Footer","Home","Portal","children","parent","el","useMemo","document","createElement","appendChild","removeChild","ReactDOM","createPortal","active","isOpen","useModal","withBackdrop","useTimer","inPlace","disableClose","backdrop","useRef","closeModal","current","transitionEnd","keyHandler","indexOf","which","clickHandler","addEventListener","window","removeEventListener","setTimeout","activeElement","blur","id","clearTimeout","ref","classnames","useWidth","breakpoint","innerWidth","width","setWidth","isDesktop","setDesktop","handleResize","UploadImage","title","uploadFileAPI","imageUrlAPI","deleteImageAPI","setMethod","image","setImage","showModal","resetMethod","message","encType","accept","files","e","size","imageData","FormData","append","location","reload","storage","JSON","parse","profileSlice","last_name","zip_code","address","image_url","image_back_url","email_verified","created_at","updateProfile","setItem","stringify","saveJSON","selectProfile","profile","ProfileHeader","edit","profileImg","profileBackImg","useSelector","shallowEqual","src","EmailConfirmIcon","verified","color","PublicProfileInfo","firstName","emailVerified","usState","joined","statesList","find","elem","abbreviation","datetimeToLocal","dateStr","format","dateObject","Date","timeZone","Intl","DateTimeFormat","resolvedOptions","offset","moment","tz","utcOffset","currentHours","getHours","setHours","newDateString","toISOString","replace","slice","monthStr","toDateString","year","UserChatsPage","chats","map","chat","i","recipientId","recipient_id","recipientName","recipient_name","recipientImg","recipient_img","last_message","last_date","Product","product","onDelete","user_id","prevPath","useLocation","divStyle","border","margin","confirmDelete","product_id","style","price","handleClickEdit","handleClick","UserProducts","userProducts","setUserProducts","getProducts","user_products","handleDelete","Profile","tab","currTab","setCurrTab","profileData","useLayoutEffect","Map","latitude","longitude","height","zoom","viewport","setViewport","mapboxApiAccessToken","process","mapStyles","onViewportChange","Products","Auth","view","inModal","user","afterConfirm","setFormData","disabled","to","NotFoundPage","PublicProfile","match","params","addr","ResetPassword","reset","token","ModalMsg","setActive","DropDownMenu","button","classContainer","classMenu","classActive","clContainer","clMenu","clActive","refer","clickEvent","contains","Message","msgId","onDeleteMsg","createdAt","sender","splitMsg","split","openMenu","setOpenMenu","memo","Chat","dataMsg","errorMsg","errorNumMsg","processMsg","chatMsgs","setChatMsgs","bottom","chatState","msg_id","getMessages","chat_id","msgs","scrollIntoView","goBack","parseInt","sender_id","sender_img","rows","AuthModal","setView","switchComponents","SwitchTransition","CSSTransition","addEndListener","node","done","classNames","ToggleInput","inputValue","posLeft","setPos","AddProduct","image_urls","handleAfterConfirm","ProductDetails","info","setInfo","openChat","product_details","lat","lgt","MainNavbar","showProfileMenu","setShowProfileMenu","logoutUser","val","confirmLogout","onClickProfile","alt","EditProduct","urls","ProfileFild","editState","setEditState","modalLogin","showModalLogin","onClose","api","sendMsg","update","ProfileSideMenu","showMenu","setShowMenu","closeOnMobile","baseUrl","dataEmailReq","errorEmailReq","errorNumEmailReq","sendEmailRequest","updateProfileData","sendMessage","ProfileField","App","exact","path","component","EditProfile","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","modalReducer","profileReducer","render","StrictMode","store","getElementById"],"mappings":"uTAEyBA,E,gECWVC,EAXO,WAElB,IAAMC,EAAUC,cAEhB,OACI,8BACI,wBAAQC,QAAW,kBAAMF,EAAQG,KAAK,iBAAtC,sB,sBCsBGC,EAvBC,SAACC,EAAUC,EAAUC,GAAoB,IAAD,EACpBC,mBAAS,eAAKH,IADM,mBAC/CI,EAD+C,KACpCC,EADoC,OAEtBF,mBAAS,IAFa,mBAE/CG,EAF+C,KAEnCC,EAFmC,KAoBtD,MAAO,CAACF,EAhBa,SAACG,GACpBA,GAASA,EAAMC,iBACf,IAAMC,EAAmBR,EAAeE,GAClCO,EAAmD,IAAzCC,OAAOC,KAAKH,GAAkBI,OAC9CP,EAAUG,GAENC,GACFV,KAIsB,SAACO,GAEzBH,EAAa,2BAAKD,GAAN,kBAAkBI,EAAMO,OAAOC,KAAOR,EAAMO,OAAOE,UAGVb,EAAWE,I,iDFpBvDY,EAAS,kBACpB,IAAIC,SAAQ,SAACC,EAASC,GACpBC,IACGC,KAAK,mBAAoB,IACzBC,MAAK,WACJC,aAAaC,WAAW,UACxBD,aAAaC,WAAW,YACxBN,GAAQ,MAETO,OAAM,WACLN,EAAO,+BAIFO,EAAY,WACvB,MAAuC,aAAnCH,aAAaI,QAAQ,WGhBrBC,EAAe,SAACC,EAAWC,GAC/B,OAAQA,EAAOC,MACb,IAAK,OACH,OAAO,2BACFF,GADL,IAEEG,WAAW,EACXC,SAAU,KACVC,MAAO,KACPC,KAAM,OAEV,IAAK,WACH,MAAO,CACLH,WAAW,EACXG,KAAML,EAAOM,aACbH,SAAU,KACVC,MAAO,MAEX,IAAK,QACH,MAAO,CACLC,KAAM,KACNH,WAAW,EACXE,MAAOJ,EAAOO,aACdJ,SAAUH,EAAOG,UAErB,IAAK,SACH,MAAO,CACLD,WAAW,EACXC,SAAU,KACVC,MAAO,KACPC,KAAM,MAEV,QACE,SAsGSG,EA7FI,WAAO,IAAD,EACaC,qBAAWX,EAAc,CAC3DI,WAAW,EACXE,MAAO,KACPD,SAAU,KACVE,KAAM,OALe,mBAChBK,EADgB,KACJC,EADI,KAQjBhD,EAAUC,cAGVgD,GAFWC,cAEGC,sBAAW,uCAAC,WAAOC,EAAKC,EAAQC,GAApB,iBAAAC,EAAA,6DAC9BP,EAAc,CACZV,KAAM,SAGFkB,EAAS,CACbH,OAAQA,EACRD,IAAKA,EACLV,KAAMY,EACNG,QAAS,KATmB,SAYb9B,IAAM6B,GAAQ3B,MAC7B,SAAC6B,GAAD,OAASA,KACT,SAACC,GAAD,OAASA,EAAIC,YAde,UAY1BC,EAZ0B,8BAiB5Bb,EAAc,CACZV,KAAM,QACNM,aAAc,uBACdJ,SAAU,MApBgB,0BAyBV,MAAhBqB,EAAKC,QAAsC,iBAApBD,EAAKnB,KAAKD,OACnClB,IACGM,MAAK,WACJmB,EAAc,CACZV,KAAM,WAERtC,EAAQG,KAAK,aAEd6B,OAAM,SAACS,GACNO,EAAc,CACZV,KAAM,QACNM,aAAciB,EAAKnB,KAAKD,MACxBD,SAAUqB,EAAKC,YAInBD,EAAKC,QAAU,KAAOD,EAAKC,OAAS,IACtCd,EAAc,CACZV,KAAM,WACNK,aAAckB,EAAKnB,OAEZmB,EAAKnB,KAAKD,MACnBO,EAAc,CACZV,KAAM,QACNM,aAAciB,EAAKnB,KAAKD,MACxBD,SAAUqB,EAAKC,SAEQ,MAAhBD,EAAKC,OACdd,EAAc,CACZV,KAAM,QACNM,aAAc,kDACdJ,SAAU,MAEa,MAAhBqB,EAAKC,OACdd,EAAc,CACZV,KAAM,QACNM,aAAc,wBACdJ,SAAU,MAGZQ,EAAc,CACZV,KAAM,QACNM,aAAc,uBACdJ,SAAUqB,EAAKC,SApEW,4CAAD,0DAuE5B,KAEH,MAAO,CACLf,EAAWR,UACXQ,EAAWL,KACXK,EAAWN,MACXM,EAAWP,SACXS,ICvCWc,EAjGI,SAACrB,GAClB,IAAMsB,EAAS,GA6Ff,OA5FItB,EAAKuB,UAAYvB,EAAKwB,eACpBxB,EAAKuB,WAAavB,EAAKwB,eACzBF,EAAOE,aAAe,yBAEnB,uBAAuBC,KAAKzB,EAAKuB,YACpCD,EAAOE,aACL,oFAGNjD,OAAOmD,QAAQ1B,GAAM2B,SAAQ,YAAmB,IAAD,mBAAhBvE,EAAgB,KAAXwB,EAAW,KACjC,aAARxB,IACG,mBAAmBqE,KAAK7C,KAC3B0C,EAAOM,SAAW,oCAIV,aAARxE,IACGwB,IACH0C,EAAOC,SAAW,+BAGV,iBAARnE,IACGwB,IACH0C,EAAOE,aAAe,0BAGd,UAARpE,IACGwB,IACH0C,EAAOO,MAAQ,wCAGP,UAARzE,IACGwB,EAEO,4CAA4C6C,KAAK7C,KAC3D0C,EAAOQ,MAAQ,yBAFfR,EAAOQ,MAAQ,oBAKP,eAAR1E,IACGwB,IACH0C,EAAOS,WAAa,0BAGZ,aAAR3E,IACGwB,IACH0C,EAAOU,SAAW,wBAGV,SAAR5E,IACGwB,IACH0C,EAAOW,KAAO,sBAGN,SAAR7E,IACGwB,IACH0C,EAAOV,KAAO,2BAGN,gBAARxD,IACGwB,EAEMA,EAAMH,OAAS,IACxB6C,EAAOY,YAAc,8BAFrBZ,EAAOY,YAAc,yBAKb,iBAAR9E,IACGwB,IACH0C,EAAOa,aAAe,0BAGd,SAAR/E,IACGwB,IACH0C,EAAO3C,KAAO,sBAGN,iBAARvB,IACGwB,IACH0C,EAAOc,aAAe,+BAGd,gBAARhF,IACGwB,IACH0C,EAAOe,YAAc,iCAGb,QAARjF,IACGwB,IACH0C,EAAOZ,IAAM,8BAKZY,G,QC5FIgB,EAAaC,YAAY,CACpC5D,KAAM,QACN6D,aAAc,CACZC,MAAM,EACNC,IAAK,KACLC,QAAS,KACTC,QAAS,MAEXC,SAAU,CACRC,QAAS,SAACC,EAAOpD,GAAY,IAAD,EACQA,EAAOqD,QAAjCN,EADkB,EAClBA,IAAKC,EADa,EACbA,QAASC,EADI,EACJA,QACtBG,EAAMN,MAAO,EACbM,EAAML,IAAMA,EACZK,EAAMJ,QAAUA,EAChBI,EAAMH,QAAUA,GAElBK,SAAU,SAACF,GACTA,EAAMN,MAAO,EACbM,EAAML,IAAM,KACZK,EAAMJ,QAAU,KAChBI,EAAMH,QAAU,S,EAKeN,EAAWY,QAAjCJ,E,EAAAA,QAASG,E,EAAAA,SAEXE,EAAc,SAACJ,GAAD,MAAY,CACrCN,KAAMM,EAAMK,MAAMX,KAClBC,IAAKK,EAAMK,MAAMV,IACjBC,QAASI,EAAMK,MAAMT,QACrBC,QAASG,EAAMK,MAAMR,UAGRN,IAAf,QCjBee,G,OAjBC,SAACC,GAcf,OAZE,qBAAKC,UAAU,SAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,kBACf,qBAAKA,UAAU,kBACf,qBAAKA,UAAU,kBACf,qBAAKA,UAAU,kBACf,qBAAKA,UAAU,kBACf,qBAAKA,UAAU,yBCkERC,EAnEI,WACjB,IADuB,EAenB9F,EAAQ,CAAEwE,YAAa,KAdV,WACX3C,IACFgB,EAAY,kCAAmC,OAAQ5C,GAEvD4C,EAAY,wBAAyB,OAAQ5C,KAUN0D,GAfpB,mBAWrBoC,GAXqB,WAYrBC,EAZqB,KAarB/F,EAbqB,KAcrBM,EAdqB,OAiBiCkC,IAjBjC,mBAiBhBN,EAjBgB,KAiBLG,EAjBK,KAiBCD,EAjBD,KAiBkBQ,GAjBlB,WAkBjBoD,EAAWnD,cACXlD,EAAUC,cA4BhB,OA1BAqG,qBAAU,WACJ5D,GAAiC,IAAzBA,EAAK6D,SAASpF,OACxBkF,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK,+BACLE,QAAS,eAGJ5C,EACT1C,EAAQG,KAAK,CACXqG,SAAU,kBACVf,MAAO/C,IAEAD,GACT4D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK3C,EACL6C,QAAS,iBAId,CAAC5C,EAAMD,IAEVgE,QAAQC,IAAIhE,GAEV,qCACGH,GAAa,cAAC,EAAD,IACd,iCACE,uBACED,KAAK,SACLqE,YAAY,sBACZtF,KAAK,cACLuF,SAAUR,EACV9E,MAAOjB,EAASuE,cAElB,qBAAKqB,UAAU,cAAf,SACGtF,EAAWiE,aAAejE,EAAWiE,cAExC,wBAAQ1E,QAASiG,EAAjB,yBC/DOU,EARA,WACX,OACI,+DCYOC,EAVF,WACX,OACE,sBAAKb,UAAU,OAAf,UACE,yDACA,cAAC,EAAD,IACA,cAAC,EAAD,QCMSc,EAZA,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OACpBC,EAAKC,mBAAQ,kBAAMC,SAASC,cAAc,SAAQ,IASxD,OARAf,qBAAU,WACR,IAAMlF,EAAS6F,GAAUA,EAAOK,YAAcL,EAASG,SAAS9D,KAGhE,OAFAlC,EAAOkG,YAAYJ,GAEZ,WACL9F,EAAOmG,YAAYL,MAEpB,CAACA,EAAID,IACDO,IAASC,aAAaT,EAAUE,I,iCCLnC/E,EAAe,SAACC,EAAWC,GAC/B,OAAQA,EAAOC,MACb,IAAK,YACH,OAAO,2BACFF,GADL,IAEEsF,OAAQrF,EAAOqF,SAEnB,IAAK,cACH,OAAO,2BACFtF,GADL,IAEE4E,SAAU3E,EAAO2E,SACjB1B,QAASjD,EAAOiD,UAGpB,IAAK,UACH,OAAO,2BACFlD,GADL,IAEEuF,OAAQtF,EAAOsF,SAEnB,IAAK,WACH,OAAO,2BACFvF,GADL,IAEE0D,MAAOzD,EAAOyD,UAgKP8B,EApJE,SAAC,GAMX,IALLC,EAKI,EALJA,aACAC,EAII,EAJJA,SACAzC,EAGI,EAHJA,QACA0C,EAEI,EAFJA,QACAC,EACI,EADJA,aACI,EACgClF,qBAAWX,EAAc,CAC3DuF,QAAQ,EACRC,QAAQ,EACRX,SAAU,KACV1B,QAAS,KACTQ,MAAO,OANL,mBACG/C,EADH,KACeC,EADf,KAQEiF,EAAWC,iBAAO,MAClB7B,EAAWnD,cAUXiF,EAAa,WACjBnF,EAAc,CAAEV,KAAM,UAAWqF,QAAQ,KAuH3C,OApHArB,qBAAU,WACR,IAAqB,IAAjBuB,EAAuB,CAAC,IAClBO,EAAYH,EAAZG,QACFC,EAAgB,kBACpBrF,EAAc,CAAEV,KAAM,YAAaoF,OAAQ3E,EAAW4E,UAClDW,EAAa,SAACzH,GAAD,MACjB,CAAC,IAAI0H,QAAQ1H,EAAM2H,QAAU,GAAKL,KAC9BM,EAAe,SAAC5H,GAAD,OAAWA,EAAMO,SAAWgH,GAAWD,KAW5D,OATIC,IACFA,EAAQM,iBAAiB,gBAAiBL,GAErCL,IACHI,EAAQM,iBAAiB,QAASD,GAClCE,OAAOD,iBAAiB,QAASJ,KAI9B,WACDF,IACFA,EAAQQ,oBAAoB,gBAAiBP,GACxCL,GACHI,EAAQQ,oBAAoB,QAASH,IAGpCT,GACHW,OAAOC,oBAAoB,QAASN,OAIzC,CAACvF,EAAW4E,OAAQ5E,EAAW+C,QAElCQ,qBAAU,YACJvD,EAAW4E,QAAWE,GAAiBE,EAQhChF,EAAW4E,QACpBgB,OAAOE,YAAW,WAChBzB,SAAS0B,cAAcC,OACvB/F,EAAc,CAAEV,KAAM,YAAaoF,OAAQ3E,EAAW4E,WACrD,IAXHtB,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAKrC,EAAWiE,SAChB1B,QAASvC,EAAWuC,aASzB,CAACvC,EAAW4E,SAEfrB,qBAAU,WACR,IAAI0C,EASJ,OARIjG,EAAW4E,QAAUG,IACvBkB,EAAKH,YACH,WACEV,MAEF9C,GAAoB,MAGjB,WACDyC,GACFmB,aAAaD,MAGhB,CAACjG,EAAW4E,SAEfrB,qBAAU,WACJuB,EACF7E,EAAc,CACZV,KAAM,WACNwD,MACE,+BACI/C,EAAW4E,QAAU5E,EAAW2E,SAChC,cAAC,EAAD,UACE,qBACEwB,IAAKjB,EACLhC,UAAWkD,IAAW,WAAY,CAChC,YAAapG,EAAW2E,QAAU3E,EAAW4E,SAHjD,SAME,sBACE1B,UAAWkD,IAAW,QAAS,CAC7B,aAAcpG,EAAW2E,QAAU3E,EAAW4E,SAFlD,UAKGK,GACC,qBAAK/B,UAAU,mBAAmB/F,QAASiI,EAA3C,SACE,cAAC,IAAD,MAGHpF,EAAWiE,oBAQjBe,EACT/E,EAAc,CACZV,KAAM,WACNwD,MACE,qBACEG,UAAWkD,IAAW,WAAYpG,EAAWuC,QAAS,CACpD,kBAAmBvC,EAAW2E,QAAU3E,EAAW4E,SAFvD,SAKG5E,EAAWiE,aAKlB,aAED,CAACjE,EAAW2E,OAAQ3E,EAAW4E,OAAQ5E,EAAWiE,WAE9C,CAACjE,EAAW+C,MAjID,SAACkB,EAAU1B,GAC3BtC,EAAc,CAAEV,KAAM,UAAWqF,QAAQ,IACzC3E,EAAc,CACZV,KAAM,cACN0E,SAAUA,EACV1B,QAASA,KA4HwB6C,EAAYpF,EAAW4E,SCjK/CyB,EAxBE,WAAuB,IAAtBC,EAAqB,uDAAR,IAAQ,EACX7I,mBAASmI,OAAOW,YADL,mBAC9BC,EAD8B,KACvBC,EADuB,OAELhJ,mBAASmI,OAAOW,YAAcD,GAFzB,mBAE9BI,EAF8B,KAEnBC,EAFmB,KAqBrC,OAjBApD,qBAAU,WACR,IAAMqD,EAAe,WACnBH,EAASb,OAAOW,aAGlB,OADAX,OAAOD,iBAAiB,SAAUiB,GAC3B,WACLhB,OAAOC,oBAAoB,SAAUe,MAEtC,IAEHrD,qBAAU,WACJmD,GAAaF,EAAQF,EACvBK,GAAW,IACDD,GAAaF,GAASF,GAChCK,GAAW,KAEZ,CAACH,IACGE,GCmIMG,G,OApJK,SAAC,GAMd,IALLC,EAKI,EALJA,MACA1B,EAII,EAJJA,WACA2B,EAGI,EAHJA,cACAC,EAEI,EAFJA,YACAC,EACI,EADJA,eACI,EACwBxJ,mBAAS,MADjC,mBACG6C,EADH,KACW4G,EADX,OAEsBzJ,qBAFtB,mBAEG0J,EAFH,KAEUC,EAFV,OAGoDtH,IAHpD,mBAGGN,EAHH,KAGcG,EAHd,KAGoBD,EAHpB,KAGqCQ,GAHrC,aAIuB2E,EAAS,CAClCC,cAAc,EACdC,UAAU,EACVC,SAAS,IAPP,mBAIGjC,EAJH,KAIUsE,EAJV,OAmC8DhK,EAChE,CAAEgD,IAAK,KAVc,WACrBH,EAAY8G,EAAa,OAAQ1J,KAWjC0D,GAtCE,mBAmCKoC,EAnCL,KAmCmBC,EAnCnB,KAmCsC/F,EAnCtC,KAmCgDM,EAnChD,KAyCE0J,EAAc,WAClBJ,EAAU,OAYZ,OATA3D,qBAAU,WACJ5D,GAAQA,EAAK4H,SACfF,EAAU1H,EAAK4H,QAAS,UACxBD,KACS5H,GACT2H,EAAU3H,EAAO,eAElB,CAACC,EAAMD,IAGR,sBAAKwD,UAAU,eAAf,UACG1D,GAAa,cAAC,EAAD,IACbsH,GAAS,6BAAKA,IACf,mBACE3J,QAAS,WACP+J,EAAU,QAFd,4BAOA,mBACE/J,QAAS,WACP+J,EAAU,WAFd,0BAOA,mBACE/J,QAAS,WACP+J,EAAU,WAFd,0BAQY,WAAX5G,GACC,uBAAMkH,QAAQ,sBAAd,UACE,uBACEjI,KAAK,OACLjB,KAAK,YACLmJ,OAAO,UACP5D,SAxDoB,SAAC/F,GAC7BA,GAASA,EAAMC,iBACfqJ,EAAStJ,EAAMO,OAAOqJ,MAAM,OAwDtB,wBAAQvK,QA9EC,SAACwK,GAEhB,GADAA,GAAKA,EAAE5J,iBACQ,WAAXuC,EACF,GAAI6G,EAAMS,KAAO,IACfP,EAAU,qCAAsC,iBAC3C,CACL,IAAMQ,EAAY,IAAIC,SACtBD,EAAUE,OAAO,OAAQZ,GACzBjH,EAAY6G,EAAe,OAAQc,KAsEjC,oBACA,wBAAQ1K,QAASmK,EAAjB,uBAIQ,QAAXhH,GACC,iCACE,uBACEsD,YAAa,kBACbrE,KAAK,OACLjB,KAAM,MACNuF,SAAUR,EACV9E,MAAOjB,EAAS+C,KAAO,KAEzB,qBAAK6C,UAAU,cAAf,SAA8BtF,EAAWyC,KAAOzC,EAAWyC,MAE3D,wBAAQlD,QAASiG,EAAjB,oBACA,wBAAQjG,QAASmK,EAAjB,uBAIQ,WAAXhH,GACC,gCACE,4DACA,wBAAQnD,QAASmK,EAAjB,gBACA,wBACEnK,QAAS,WACP+J,EAAU,oBA3FpBhH,EAAY+G,EAAgB,OAAQ,KAyF9B,oBAWQ,qBAAX3G,GAAiC,qDAEjCX,GACC,wBACExC,QAAS,WACPiI,IACAQ,OAAOoC,SAASC,UAHpB,mBAUDlF,OClJDmF,GdDmBnL,EcCA,adDeoL,KAAKC,MAAMrJ,aAAaI,QAAQpC,IcG3DsL,EAAenG,YAAY,CACtC5D,KAAM,UACN6D,aAAc,CACZZ,SAAU,KACVG,WAAYwG,EAAUA,EAAQxG,WAAa,KAC3C4G,UAAW,KACX7G,MAAO,KACPK,aAAc,KACdyG,SAAU,KACVC,QAAS,KACTC,UAAWP,EAAUA,EAAQO,UAAY,KACzCC,eAAgBR,EAAUA,EAAQQ,eAAiB,KACnDC,eAAgBT,EAAUA,EAAQS,eAAiB,KACnD/G,KAAMsG,EAAUA,EAAQtG,KAAO,KAC/BD,SAAUuG,EAAUA,EAAQvG,SAAW,KACvCiH,WAAYV,EAAUA,EAAQU,WAAa,MAE7CpG,SAAU,CACRqG,cAAe,SAACnG,EAAOG,GAAa,IAAD,EAe7BA,EAAQF,QAbVpB,EAF+B,EAE/BA,SACAG,EAH+B,EAG/BA,WACA4G,EAJ+B,EAI/BA,UACA7G,EAL+B,EAK/BA,MACAK,EAN+B,EAM/BA,aACAyG,EAP+B,EAO/BA,SACAC,EAR+B,EAQ/BA,QACAC,EAT+B,EAS/BA,UACAC,EAV+B,EAU/BA,eACAC,EAX+B,EAW/BA,eACA/G,EAZ+B,EAY/BA,KACAD,EAb+B,EAa/BA,SACAiH,EAd+B,EAc/BA,YdjCgB,SAAC7L,EAAK4C,GAC5BZ,aAAa+J,QAAQ/L,EAAKoL,KAAKY,UAAUpJ,IcmCrCqJ,CAAS,WAAY,CACnBtH,WAAYA,EACZ+G,UAAWA,EACXC,eAAgBA,EAChBC,eAAgBA,EAChB/G,KAAMA,EACND,SAAUA,EACViH,WAAYA,IAGdlG,EAAMnB,SAAWA,EACjBmB,EAAMhB,WAAaA,EACnBgB,EAAM4F,UAAYA,EAClB5F,EAAMjB,MAAQA,EACdiB,EAAMZ,aAAeA,EACrBY,EAAM6F,SAAWA,EACjB7F,EAAM8F,QAAUA,EAChB9F,EAAM+F,UAAYA,EAClB/F,EAAMgG,eAAiBA,EACvBhG,EAAMiG,eAAiBA,EACvBjG,EAAMd,KAAOA,EACbc,EAAMf,SAAWA,EACjBe,EAAMkG,WAAaA,MAKVC,EAAkBR,EAAaxF,QAA/BgG,cAEFI,EAAgB,SAACvG,GAAD,MAAY,CACvCnB,SAAUmB,EAAMwG,QAAQ3H,SACxBG,WAAYgB,EAAMwG,QAAQxH,WAC1B4G,UAAW5F,EAAMwG,QAAQZ,UACzB7G,MAAOiB,EAAMwG,QAAQzH,MACrBK,aAAcY,EAAMwG,QAAQpH,aAC5ByG,SAAU7F,EAAMwG,QAAQX,SACxBC,QAAS9F,EAAMwG,QAAQV,QACvBC,UAAW/F,EAAMwG,QAAQT,UACzBC,eAAgBhG,EAAMwG,QAAQR,eAC9BC,eAAgBjG,EAAMwG,QAAQP,eAC9B/G,KAAMc,EAAMwG,QAAQtH,KACpBD,SAAUe,EAAMwG,QAAQvH,SACxBiH,WAAYlG,EAAMwG,QAAQN,aAGbP,IAAf,QCRec,G,MAtEO,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,KAAMC,EAAiC,EAAjCA,WAAYC,EAAqB,EAArBA,eACnC3J,EAAO4J,YAAYN,EAAeO,KADsB,GAE9CtM,cAEuB2H,EAAS,CAC9CC,cAAc,EACdC,UAAU,EACVC,SAAS,KAPmD,mBAIvDjC,EAJuD,KAIhDsE,EAJgD,KAIrCjC,EAJqC,KAU9D,OACE,qCACGrC,EACApD,GACC,sBAAKuD,UAAU,aAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,qBACEA,UAAU,eACVuG,IAAKH,GAAkC3J,EAAK+I,iBAE7CU,GACC,8BACE,mBACEjM,QAAS,WACPkK,EACE,cAAC,EAAD,CACEP,MAAM,+BACN1B,WAAYA,EACZ2B,cAAc,sCACdC,YAAY,qCACZC,eAAe,qCARvB,uBAkBN,sBAAK/D,UAAU,gBAAf,UACE,qBACEA,UAAU,UACVuG,IAAKJ,GAA0B1J,EAAK8I,YAErCW,GAAQ,wBACRA,GACC,mBACEjM,QAAS,WACPkK,EACE,cAAC,EAAD,CACEP,MAAM,oBACN1B,WAAYA,EACZ2B,cAAc,yCACdC,YAAY,wCACZC,eAAe,wCARvB,6B,gBChCCyC,GAnBU,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAU1F,EAAe,EAAfA,SACpC,OACE,gCACGA,EACD,uBAAMf,UAAU,UAAhB,UACGyG,EACC,cAAC,IAAD,CAAY/B,KAAM,OAAQgC,MAAO,YAEjC,cAAC,IAAD,CAAehC,KAAM,SAGvB,sBAAM1E,UAAU,cAAhB,SACGyG,EAAW,iBAAmB,8B,SCU1BE,GArBW,SAAC,GAMpB,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,cACAnI,EAGI,EAHJA,KACAoI,EAEI,EAFJA,QACAC,EACI,EADJA,OAEA,OACE,sBAAK/G,UAAU,cAAf,UACE,cAAC,GAAD,CAAkByG,SAAUI,EAA5B,SACE,oBAAI7G,UAAU,eAAd,SAA8B4G,MAGhC,8BACGlI,EADH,KACWsI,GAAWC,MAAK,SAACC,GAAD,OAAUA,EAAK9L,OAAS0L,KAASK,gBAE5D,yCAAYJ,S,4BClBLK,GAAkB,SAACC,EAASC,GACvC,IAAKD,GAA8B,IAAnBA,EAAQnM,OACtB,MAAO,GAET,IAAMqM,EAAa,IAAIC,KAAJ,UAAYH,EAAZ,WACbI,EAAWC,KAAKC,iBAAiBC,kBAAkBH,SAEnDI,EADQC,OAASC,GAAGN,GACLO,YAAc,GAC7BC,EAAeV,EAAWW,WAChCX,EAAWY,SAASF,EAAeJ,GACnC,IAAMO,EAAgBb,EAAWc,cAAcC,QAAQ,IAAK,KAAKC,MAAM,EAAG,IAG1E,GAAe,eAAXjB,EAAyB,CAC3B,IAAMkB,EAAWjB,EAAWkB,eAAeF,MAAM,EAAG,GAC9CG,EAAOnB,EAAWkB,eAAeF,MAAM,IAC7C,MAAM,GAAN,OAAUC,EAAV,YAAsBE,GAExB,MAAM,GAAN,OAAUN,ICoDGO,GA/DO,WAAO,IAAD,EAC8B/L,IAD9B,mBACnBN,EADmB,KACRG,EADQ,KACFD,EADE,KACKD,EADL,KACeS,EADf,KAEpBoD,EAAWnD,cACXlD,EAAUC,cA4BhB,OAhBAqG,qBAAU,WACRrD,EAAY,2BAA4B,OAAQ,MAC/C,IAEHqD,qBAAU,WACJ7D,GACF4D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK3C,EACL6C,QAAS,iBAId,CAAC5C,EAAMD,EAAOD,IAGf,qCACGD,GAAa,cAAC,EAAD,IACbG,GACCA,EAAKmM,MAAMC,KAAI,SAACC,EAAMC,GACpB,OACE,sBAEE/I,UAAU,kBACV/F,QAAS,kBApCH+O,EAsCFF,EAAKG,aAtCUC,EAuCfJ,EAAKK,eAvCyBC,EAwC9BN,EAAKO,mBAvCnBtP,EAAQG,KAAK,CACXqG,SAAS,UAAD,OAAY2I,GACpB1J,MAAO,CACLwJ,YAAaA,EACbE,cAAeA,EACfE,aAAcA,KANH,IAACJ,EAAaE,EAAeE,GAiCpC,UAWE,qBAAKpJ,UAAU,WAAWuG,IAAKuC,EAAKO,gBACpC,sBAAKrJ,UAAU,gBAAf,UACE,4BAAI8I,EAAKK,iBACT,4BACE,4BAAIL,EAAKQ,iBAEX,4BAAIlC,GAAgB0B,EAAKS,kBAhBtBR,UCgBJS,GA3DC,SAAC,GAAoC,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,QAE3B5P,EAAUC,cAEV4P,EADWC,cACStJ,SACpBuJ,EAAW,CACbC,OAAQ,kBACRC,OAAQ,OAPoC,EAUTrI,EAAS,CAC5CC,cAAc,EACdC,UAAU,EACVC,SAAS,IAbmC,mBAUzCjC,EAVyC,KAUlCsE,EAVkC,KAUvBjC,EAVuB,KAwBzC+H,EACH,qCACI,yDACA,wBAAQhQ,QAAS,kBAAMyP,EAASD,EAAQS,aAAxC,iBACA,wBAAQjQ,QAAS,kBAAMiI,KAAvB,mBAIR,OACI,qCACEyH,IAAYF,EAAQE,SAAwB,mBAAbC,EAC7B,sBAAKO,MAAOL,EAAZ,UAEI,4BAAIL,EAAQrO,OACZ,4BAAIqO,EAAQ3K,cACZ,kCAAK2K,EAAQW,SACb,wBAAQnQ,QAAS,kBApBL,SAACwP,GACrB1P,EAAQG,KAAK,eAAgBuP,GAmBEY,CAAgBZ,IAAvC,6BAGJ,sBAAKxP,QAAS,kBA3BF,SAACwP,GACjB1P,EAAQG,KAAK,gBAAiBuP,GA0BNa,CAAYb,IAAUU,MAAOL,EAAU9J,UAAU,UAArE,UACA,4BAAIyJ,EAAQrO,OACZ,4BAAIqO,EAAQ3K,cACZ,kCAAK2K,EAAQW,YAGC,oBAAbR,EAAiC,KACjC,wBAAQ3P,QAAS,WACdkK,EAAU8F,IADb,4BAIApK,MCXE0K,GA1CM,WAAO,IAAD,EACehQ,mBAAS,IADxB,mBAClBiQ,EADkB,KACJC,EADI,OAE+B7N,IAF/B,mBAElBN,EAFkB,KAEPG,EAFO,KAEgBO,GAFhB,gBAInB0N,EAAc,WAClB1N,EAAY,kCAAmC,OAAQ,OAGzDqD,qBAAU,WACRqK,MACC,IAEHrK,qBAAU,WACJ5D,GAAqB,YAAbA,EAAK0C,IACfuL,IACSjO,GACTgO,EAAgBhO,EAAKkO,iBAEtB,CAAClO,IAEJ,IAAMmO,EAAe,SAACV,GACpBlN,EAAY,+BAAgC,SAAU,CACpDkN,WAAYA,KAIhB,OACE,gCACE,8DACC5N,GAAa,cAAC,EAAD,IACbkO,GACCA,EAAa3B,KAAI,SAACY,GAChB,OACE,8BACE,cAAC,GAAD,CAASA,QAASA,EAASC,SAAUkB,KAD7BnB,EAAQS,mBCuEfW,GA9FC,SAAC,GAAa,IAAXC,EAAU,EAAVA,IACX/Q,EAAUC,cADW,EAEGO,mBAASuQ,GAAY,YAFxB,mBAEpBC,EAFoB,KAEXC,EAFW,KAGrBC,EAAc5E,YAAYN,EAAeO,KACzClG,EAAWnD,cAJU,EAK6BL,IAL7B,mBAKTH,GALS,WAKHD,EALG,KAKID,EALJ,KAKcS,EALd,KAqC3B,OA9BAkO,2BAAgB,WACd1K,QAAQC,IAAI,iBACQ,IAAhBzE,IACFV,IACGM,MAAK,WACJ7B,EAAQG,KAAK,aAEd6B,OAAM,eAETiB,EAAY,mCAAoC,OAAQ,MAEzD,IAEHqD,qBAAU,WACJ5D,GAAQA,EAAK0C,IACfiB,EAASb,EAAQ,CAAEL,MAAM,EAAMC,IAAK1C,EAAK0C,IAAKE,QAAS,YAC9C5C,GACT2D,EAASuF,EAAc,eAAKlJ,KAE1BD,GACF4D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK3C,EACL6C,QAAS,iBAId,CAAC5C,EAAMD,EAAOD,IAGf,mCACG0O,GACC,sBAAKjL,UAAU,UAAf,UACE,cAAC,EAAD,CAAekG,MAAM,IACrB,cAAC,GAAD,CACEU,UAAWqE,EAAYzM,WACvBqI,cAAeoE,EAAYxF,eAC3B/G,KAAMuM,EAAYvM,KAClBoI,QAASmE,EAAYxM,SACrBsI,OAAQK,GAAgB6D,EAAYvF,WAAY,gBAElD,wBACEzL,QAAS,WACPF,EAAQG,KAAK,kBAFjB,0BAOA,sBAAK8F,UAAU,gBAAf,UACE,oBAAIA,UAAU,WACd,sBAAKA,UAAU,qBAAf,UACE,qBACE/F,QAAS,WACPF,EAAQG,KAAK,YACb8Q,EAAW,aAEbhL,UAAWkD,IAAW,CACpB,uBAAoC,aAAZ6H,IAN5B,sBAWA,qBACE9Q,QAAS,WACPF,EAAQG,KAAK,UACb8Q,EAAW,UAEbhL,UAAWkD,IAAW,CACpB,uBAAoC,UAAZ6H,IAN5B,sBAYF,oBAAI/K,UAAU,iBAEhB,sBAAKA,UAAU,WAAf,UACe,UAAZ+K,GAAuB,cAAC,GAAD,IACX,aAAZA,GAA0B,cAAC,GAAD,a,SCvExBI,GAzBH,WAAO,IAAD,EAEkB5Q,mBAAS,CACrC6Q,SAAU,QACVC,WAAY,QACZ/H,MAAO,QACPgI,OAAQ,QACRC,KAAM,IAPI,mBAEPC,EAFO,KAEGC,EAFH,KAUd,OACI,8BACI,cAAC,KAAD,2BAAgBD,GAAhB,IACAE,qBAAsBC,2FACtBC,UAAU,mDACVC,iBAAkB,SAAAL,GACdC,EAAYD,IAJhB,8BCeGM,GA5BE,WAEb,IAAMhH,EAAW+E,cACXvJ,EAAWwE,EAAStF,MAAMc,SAEhC,OACI,qCACEwE,EAAStF,MAAMmK,QAAWrJ,EAASuI,KAAI,SAACY,GACtC,OACI,8BACI,cAAC,GAAD,CAASA,QAAWA,EAASE,QAAS7E,EAAStF,MAAMmK,WAD/CF,EAAQS,eAInB5J,EAASuI,KAAI,SAACY,GACjB,OACI,8BACI,cAAC,GAAD,CAASA,QAAWA,KADdA,EAAQS,eAM9B,8BACI,cAAC,GAAD,UCgNO6B,GAhOF,SAAC,GAAuD,IAArDC,EAAoD,EAApDA,KAAMC,EAA8C,EAA9CA,QAAS/J,EAAqC,EAArCA,WAAYgK,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,aAAmB,EACVvP,IADU,mBAC3DN,EAD2D,KAChDG,EADgD,KAC1CD,EAD0C,KACnCD,EADmC,KACzBS,EADyB,KAE5DjD,EAAUC,cACVoG,EAAWnD,cAHiD,EAIvC0E,EAAS,CAClCC,cAAc,EACdC,UAAU,EACVC,UAASmK,IAPuD,mBAI3DpM,EAJ2D,KAIpDsE,EAJoD,KAUlEnI,MAAgBiQ,GAAWlS,EAAQG,KAAK,YAExC,IAZkE,EA4B9DC,EAAQ,IAhBK,SAACsK,GAChBzH,EACW,UAATgP,GAA6B,YAATA,EAChB,kBACA,mBACJ,OACA5R,KAUsB0D,GA5BwC,mBAuBhEsO,EAvBgE,KAwBhElM,EAxBgE,KAyBhEC,EAzBgE,KA0BhE/F,EA1BgE,KA2BhEM,EA3BgE,KA0ElE,OA5CA2F,qBAAU,WACK,UAAT2L,EACFI,EAAY,CAAE9N,MAAO,GAAIN,SAAU,KACjB,WAATgO,EACTI,EAAY,CACV7N,MAAO,GACPP,SAAU,GACVC,aAAc,GACdI,SAAU,GACVG,WAAY,GACZgB,MAAO,GACPd,KAAM,KAEU,YAATsN,GACTI,EAAY,CAAE9N,MAAO4N,EAAMlO,SAAU,OAEtC,CAACgO,IAEJ3L,qBAAU,WACJ5D,IACFZ,aAAa+J,QAAQ,SAAU,YAC/BxF,EAASuF,EAAc,eAAKlJ,KACxB0P,GAAgBjK,GAClBA,IACAiK,KACSA,EACTA,IACSjK,GAGTnI,EAAQG,KAAK,eAIhB,CAACuC,IAEJ4D,qBAAU,WACJ7D,EACF2H,EAAU3H,EAAO,aACRC,GAAQA,EAAK0C,KACtBgF,EAAU1H,EAAK0C,IAAK,YAErB,CAAC3C,EAAOD,EAAUE,IAGnB,gCACGoD,EACAvD,GAAa,cAAC,EAAD,IACJ,UAAT0P,GAAoB,wCACX,WAATA,GAAqB,yCACZ,YAATA,GAAsB,kDAEvB,uBAAM3R,SAAU6F,EAAhB,UACE,sBAAKF,UAAU,cAAf,UACY,UAATgM,GACC,qCACE,uBAEE3P,KAAK,OACLqE,YAAY,iBACZtF,KAAK,QACLuF,SAAUR,EACV9E,MAAOjB,EAASkE,OAAS,IALrB,KAON,qBAAK0B,UAAU,cAAf,SACGtF,EAAW4D,OAAS5D,EAAW4D,WAK5B,WAAT0N,GACC,qCACE,uBACE3P,KAAK,OACLqE,YAAY,WACZtF,KAAK,WACLuF,SAAUR,EACV9E,MAAOjB,EAASiE,UAAY,KAE9B,qBAAK2B,UAAU,cAAf,SACGtF,EAAW2D,UAAY3D,EAAW2D,cAK/B,WAAT2N,GACC,qCACE,uBACE3P,KAAK,OACLqE,YAAY,QACZtF,KAAK,QACLuF,SAAUR,EACV9E,MAAOjB,EAASmE,OAAS,KAE3B,qBAAKyB,UAAU,cAAf,SACGtF,EAAW6D,OAAS7D,EAAW6D,WAK5B,YAATyN,GAAsB,4BAAI5R,EAASkE,QACpC,qCACE,uBAEEjC,KAAK,WACLqE,YAAY,WACZtF,KAAK,WACLuF,SAAUR,EACV9E,MAAOjB,EAAS4D,UAAY,IALxB,KAON,qBAAKgC,UAAU,cAAf,SACGtF,EAAWsD,UAAYtD,EAAWsD,cAG7B,WAATgO,GACC,qCACE,uBAEE3P,KAAK,WACLqE,YAAY,mBACZtF,KAAK,eACLuF,SAAUR,EACV9E,MAAOjB,EAAS6D,cAAgB,IAL5B,MAON,qBAAK+B,UAAU,cAAf,SACGtF,EAAWuD,cAAgBvD,EAAWuD,eAEzC,uBAEE5B,KAAK,OACLqE,YAAY,aACZtF,KAAK,aACLuF,SAAUR,EACV9E,MAAOjB,EAASoE,YAAc,IAL1B,KAON,qBAAKwB,UAAU,cAAf,SACGtF,EAAW8D,YAAc9D,EAAW8D,aAEvC,yBAEEkC,YAAY,QACZtF,KAAK,QACLuF,SAAUR,EACV9E,MAAOjB,EAASoF,OAAS,GAL3B,UAOE,wBAAgBnE,MAAM,GAAtB,yBAAY,KAGX2L,GAAW6B,KAAI,SAAC3B,GACf,OACE,wBAAgC7L,MAAO2L,GAAW5L,KAAlD,SACG8L,EAAK9L,MADK8L,EAAKC,mBAXlB,KAiBN,qBAAKnH,UAAU,cAAf,SACGtF,EAAW8E,OAAS9E,EAAW8E,QAElC,uBAEEnD,KAAK,OACLqE,YAAY,OACZtF,KAAK,OACLuF,SAAUR,EACV9E,MAAOjB,EAASsE,MAAQ,IALpB,KAON,qBAAKsB,UAAU,cAAf,SACGtF,EAAWgE,MAAQhE,EAAWgE,aAKvC,uBAAerC,KAAK,SAASgQ,SAAU/P,GAA5B,QAGZ2P,EAAU,KAAgB,UAATD,EAChB,cAAC,IAAD,CAAMM,GAAG,UAAT,qBAEA,cAAC,IAAD,CAAMA,GAAG,SAAT,mBAEF,sBACU,UAATN,GACC,qCACE,cAAC,IAAD,CAAM/R,QAASiI,EAAYoK,GAAG,kBAA9B,mCAGA,6BC/NKC,GAJM,WACnB,OAAO,iDCqCMC,GA9BO,SAACzM,GAAW,IAAD,EACyBnD,IADzB,mBACxBN,EADwB,KACbG,EADa,KACPD,EADO,KACUQ,GADV,WAM/B,OAHAqD,qBAAU,WACRrD,EAAY,gBAAD,OAAiB+C,EAAM0M,MAAMC,OAAOC,MAAQ,MAAO,MAC7D,IAED,qCACGrQ,GAAa,cAAC,EAAD,IACbE,GAAS,mDACTC,GACC,qCACE,cAAC,EAAD,CACEyJ,MAAM,EACNC,WAAY1J,EAAK8I,UACjBa,eAAgB3J,EAAK+I,iBAEvB,cAAC,GAAD,CACEoB,UAAWnK,EAAK+B,WAChBqI,cAAepK,EAAKgJ,eACpB/G,KAAMjC,EAAKiC,KACXoI,QAASrK,EAAKgC,SACdsI,OAAQK,GAAgB3K,EAAKiJ,WAAY,uBCuFtCkH,GA7GO,SAAC7M,GACrB,IAAMhG,EAAUC,cADe,EAEyB4C,IAFzB,mBAExBN,EAFwB,KAEbG,EAFa,KAEPD,EAFO,KAEAD,EAFA,KAEUS,EAFV,KAIzBoD,EAAWnD,cAJc,EAmBmC9C,EAChE4F,EAAM8M,MAAQ,CAAEtO,MAAO,IAAO,CAAEP,SAAU,GAAIC,aAAc,KAd7C,WACX8B,EAAM8M,MACR7P,EAAY,2BAA4B,OAAQ,CAC9CuB,MAAOnE,EAASmE,QAGlBvB,EAAY,mCAAoC,OAAQ,CACtDgB,SAAU5D,EAAS4D,SACnB8O,MAAO/M,EAAM0M,MAAMC,OAAOI,UAQ9BhP,GAtB6B,mBAmBtBoC,EAnBsB,KAmBRC,EAnBQ,KAmBW/F,EAnBX,KAmBqBM,EAnBrB,KAkD/B,OAzBA2F,qBAAU,WACJ7D,EACF4D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK3C,EACL6C,QAAS,eAGJ5C,GAAQA,EAAK0C,MACtBiB,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK1C,EAAK0C,IACVE,QAAS,YAGTU,EAAM8M,MACR9S,EAAQG,KAAK,aAKhB,CAACsC,EAAOD,EAAUE,IAGnB,qCACGH,GAAa,cAAC,EAAD,IACd,gDACCyD,EAAM8M,MACL,qCACE,+DACA,uBAAMxS,SAAU6F,EAAhB,UACE,4CACA,uBAEE7D,KAAK,OACLqE,YAAY,QACZtF,KAAK,QACLuF,SAAUR,EACV9E,MAAOjB,EAASmE,OAAS,IALrB,KAON,qBAAKyB,UAAU,cAAf,SACGtF,EAAW6D,OAAS7D,EAAW6D,QAElC,uBAAelC,KAAK,SAASgQ,SAAU/P,GAA5B,WAIf,mCACE,uBAAMjC,SAAU6F,EAAhB,UACE,mDACA,uBAEE7D,KAAK,WACLqE,YAAY,WACZtF,KAAK,WACLuF,SAAUR,EACV9E,MAAOjB,EAAS4D,UAAY,IALxB,KAON,qBAAKgC,UAAU,cAAf,SACGtF,EAAWsD,UAAYtD,EAAWsD,WAGrC,uDACA,uBAEE3B,KAAK,WACLqE,YAAY,mBACZtF,KAAK,eACLuF,SAAUR,EACV9E,MAAOjB,EAAS6D,cAAgB,IAL5B,MAON,qBAAK+B,UAAU,cAAf,SACGtF,EAAWuD,cAAgBvD,EAAWuD,eAEzC,uBAAgB5B,KAAK,SAASgQ,SAAU/P,GAA7B,eCtCRyQ,GAhEE,WAAO,IAAD,EACmB1G,YACtCzG,EACA0G,KAFMpH,EADa,EACbA,KAAMC,EADO,EACPA,IAAKC,EADE,EACFA,QAASC,EADP,EACOA,QAItBe,EAAWnD,cALI,EAMO1C,oBAAS,GANhB,mBAMdkH,EANc,KAMNuL,EANM,KA+CrB,OAvCA3M,qBAAU,WACJnB,GACFwD,OAAOE,YAAW,WAChBzB,SAAS0B,cAAcC,OACvBkK,EAAU9N,KACT,MAEJ,CAACA,IAEJmB,qBAAU,WACR,IAAI0C,EASJ,OARI7D,IACF6D,EAAKH,YACH,WACExC,EAASV,OAEXN,GAAoB,MAGjB,WACL4D,aAAaD,MAEd,CAAC7D,IAEJmB,qBAAU,WACR,IAAI0C,EASJ,OARI7D,IACF6D,EAAKH,YACH,WACEoK,GAAU,KAEZ5N,EAAUA,EAAU,IAAO,MAGxB,WACL4D,aAAaD,MAEd,CAACtB,IAGF,oCACIvC,GAAQuC,IACR,cAAC,EAAD,UACE,qBACEzB,UAAWkD,IAAW,UAAW7D,EAAS,CACxC,iBAAkBoC,IAFtB,SAKGtC,S,kBChBE8N,I,OA5CM,SAAC,GAQf,IAPLlM,EAOI,EAPJA,SACA7B,EAMI,EANJA,KACAgO,EAKI,EALJA,OACAjT,EAII,EAJJA,QACAkT,EAGI,EAHJA,eACAC,EAEI,EAFJA,UACAC,EACI,EADJA,YACI,EACc9S,mBAAS,CACzB+S,YAAaH,GAAkC,iBAC/CI,OAAQH,GAAwB,OAChCI,SAAUH,GAA4B,gBAHjChO,EADH,oBAOEoO,EAAQxL,iBAAO,MAgBrB,OAfA5B,qBAAU,WACR,IAAMqN,EAAa,SAACjJ,GACI,OAAlBgJ,EAAMtL,SAAqBsL,EAAMtL,QAAQwL,SAASlJ,EAAEtJ,SACtDlB,KAGJ,GAAIiF,EAGF,OAFAwD,OAAOD,iBAAiB,QAASiL,GAE1B,WACLhL,OAAOC,oBAAoB,QAAS+K,MAGvC,CAACxO,IAGF,sBAAKc,UAAWX,EAAQiO,YAAxB,UACGJ,EACD,qBACEjK,IAAKwK,EACLzN,UAAWkD,IAAW7D,EAAQkO,OAAT,eAAoBlO,EAAQmO,SAAWtO,IAF9D,SAIE,qBAAKc,UAAU,gBAAf,SAAgCe,WCnClC6M,GAAU,SAAC,GAA4D,IAA1DC,EAAyD,EAAzDA,MAAOC,EAAkD,EAAlDA,YAAazQ,EAAqC,EAArCA,KAAM0Q,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,OAAQ/J,EAAY,EAAZA,MACxDgK,EAAW5Q,EAAK6Q,MAAM,MAAMrF,KAAI,SAACpE,EAAGsE,GACxC,OAAO,4BAAYtE,GAAJsE,MAFyD,EAI1CxO,oBAAS,GAJiC,mBAInE4T,EAJmE,KAIzDC,EAJyD,KAWpEnU,EAAU,WACdmU,GAAaD,IAGf,OACE,sBACEnO,UAAWkD,IACT,gBACW,OAAX8K,EAAkB,eAAiB,iBAHvC,UAMc,OAAXA,GAAmB,qBAAKhO,UAAU,WAAWuG,IAAKtC,IACnD,sBACEjE,UAAWkD,IACT,WACW,OAAX8K,EAAkB,gBAAkB,kBAHxC,UAMGC,EACD,4BAAIF,OAEM,OAAXC,GACC,cAAC,GAAD,CACE9O,KAAMiP,EACNjB,OACE,wBAAQlN,UAAU,kBAAkB/F,QAASA,EAA7C,SACE,cAAC,KAAD,MAGJA,QAASA,EAPX,SASE,mBAAGA,QApCO,WAChB6T,EAAYD,GACZO,GAAaD,IAkCP,0BAOKE,kBAAKT,I,SCwGLU,GApJF,WAAO,IAAD,EACuC1R,IADvC,mBACVN,EADU,KACCG,EADD,KACOD,EADP,KACcD,EADd,KACwBS,EADxB,OAQbJ,IARa,mBAIf2R,GAJe,WAKfC,EALe,KAMfC,EANe,KAOfC,EAPe,OASenU,mBAAS,MATxB,mBASVoU,EATU,KASAC,EATA,KAUXC,EAAS5M,mBACT6C,EAAW+E,cAXA,EAYiBtP,mBAChCuK,EAAStF,MAAT,eAAsBsF,EAAStF,OAAU,MAb1B,mBAYVsP,EAZU,KAeX/U,GAfW,KAeDC,eACVoG,EAAWnD,cAhBA,EA0Bb9C,EACF,CAAEkD,KAAM,GAAI4L,aAAc6F,GAAaA,EAAU9F,cAVlC,SAACvE,GAChBiK,EAAW,yBAA0B,OAAQtU,GAAU,KAWvD0D,GA7Be,mBAqBfsO,EArBe,KAsBflM,EAtBe,KAuBfC,EAvBe,KAwBf/F,EAxBe,KAyBfM,EAzBe,KAgCXoT,EAAc,SAACD,GACnBa,EAAW,2BAA4B,SAAU,CAAEK,OAAQlB,IAAS,IAGtExN,qBAAU,WACHyO,GACH/U,EAAQG,KAAK,UAEf8C,EAAY,mCAAoC,OAAQ,CACtDiM,aAAc6F,GAAaA,EAAU9F,gBAEtC,IAEH,IAAMgG,EAAc,SAACvK,GACnBA,GAAKA,EAAE5J,iBACPmC,EAAY,8BAA+B,OAAQ,CACjDiS,QAASxS,EAAKwS,WAsClB,OAlCA5O,qBAAU,WACJ7D,EACF4D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK3C,EACL6C,QAAS,eAGJ5C,IACT2P,EAAY,2BAAKhS,GAAN,IAAgB6U,QAASxS,EAAKwS,WACzCL,EAAY,aAAInS,EAAKyS,UAEtB,CAAC1S,EAAOD,EAAUE,IAErB4D,qBAAU,WACJmO,EACFpO,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAKqP,EACLnP,QAAS,eAGJkP,IACTS,IACA5C,EAAY,2BAAKhS,GAAN,IAAgBiD,KAAM,SAElC,CAACkR,EAASC,EAAUC,IAEvBpO,qBAAU,WACRwO,EAAO1M,SAAW0M,EAAO1M,QAAQgN,mBAChC,CAACR,IAGFG,GACE,sBAAK9O,UAAU,OAAf,UACG1D,GAAa,cAAC,EAAD,IACd,sBAAK0D,UAAU,cAAf,UACE,4CAAe8O,GAAaA,EAAU5F,iBACtC,wBACEjP,QAAS,WACPF,EAAQqV,UAEVpP,UAAU,mBAJZ,SAME,cAAC,KAAD,SAGJ,qBAAKA,UAAU,cAAf,SACG2O,GACCA,EAAS9F,KAAI,SAAC1J,EAAK4J,GACjB,IAAMiF,EACJqB,SAASlQ,EAAImQ,aACbD,SAASP,GAAaA,EAAU9F,aAC5B8F,GAAaA,EAAU5F,cACvB,KACN,OACE,qBAAajG,IAAK8F,IAAM4F,EAASzT,OAAS,EAAI2T,EAAS,KAAvD,SACE,cAAC,GAAD,CACEhB,MAAO1O,EAAI4P,OACXjB,YAAaA,EACbC,UAAW3G,GAAgBjI,EAAIuG,YAC/BsI,OAAQA,EACR3Q,KAAM8B,EAAI9B,KACV4G,MAAO9E,EAAIoQ,cAPLxG,QAajB4F,GACC,qBAAK3O,UAAU,cAAf,SACE,iCACE,0BACEwP,KAAM,EACNnT,KAAK,OACLjB,KAAK,OACLuF,SAAUR,EACV9E,MAAOjB,EAASiD,MAAQ,KAE1B,qBAAK2C,UAAU,cAAf,SACGtF,EAAW2C,MAAQ3C,EAAW2C,OAEjC,wBAAQpD,QAASiG,EAAjB,kBACA,wBAAQjG,QAAS+U,EAAjB,SACE,cAAC,KAAD,e,oCCvFDS,GAxDG,SAAC,GAAkC,IAAhCvN,EAA+B,EAA/BA,WAAYiK,EAAmB,EAAnBA,aAAmB,EAC1B5R,mBAAS,SADiB,mBAC3CyR,EAD2C,KACrC0D,EADqC,KAG5CC,EAAmB,WAErBD,EADW,UAAT1D,EACM,SAEA,UAGZ,OACE,gCACE,wBACEK,SAAmB,UAATL,EACVhM,UAAWkD,IAAW,aAAc,CAAEzB,OAAiB,UAATuK,IAC9C/R,QAAS0V,EAHX,oBAOA,wBACEtD,SAAmB,WAATL,EACVhM,UAAWkD,IAAW,aAAc,CAAEzB,OAAiB,WAATuK,IAC9C/R,QAAS0V,EAHX,qBAQA,cAACC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAEEC,eAAgB,SAACC,EAAMC,GAAP,OACdD,EAAKtN,iBAAiB,gBAAiBuN,GAAM,IAE/CC,WAAW,OALb,SAQI,cAAC,GAAD,CACEjE,KAAMA,EACNC,SAAS,EACT/J,WAAYA,EACZiK,aAAcA,KAXbH,SCmBAkE,I,OAlDK,SAAC,GAMd,IALL9U,EAKI,EALJA,KACA+E,EAII,EAJJA,kBACAgQ,EAGI,EAHJA,WACA/V,EAEI,EAFJA,SACAgS,EACI,EADJA,YACI,EACsB7R,oBAAS,GAD/B,mBACG6V,EADH,KACYC,EADZ,KAYJ,OACE,sBAAKrQ,UAAU,SAAf,UACE,sBACEA,UAAWkD,IAAW,eAAgB,CAAE,oBAAqBkN,IAC7DnW,QAbU,WACVmW,EACFC,GAAO,IAEPjE,EAAY,2BAAKhS,GAAN,kBAAiBgB,EAAO,KACnCiV,GAAO,OAUP,sBACErQ,UAAWkD,IAAW,cAAe,CAAE,qBAAsBkN,IAD/D,kBAKA,sBACEpQ,UAAWkD,IAAW,SAAU,CAAE,gBAAiBkN,MAGrD,uBACEpQ,UAAWkD,IAAW,eAAgB,CAAE,oBAAqBkN,IAC7D/T,KAAK,SACLjB,KAAMA,EACNsF,YAAa,IACbC,SAAUR,EACV9E,MAAO8U,IAET,sBACEnQ,UAAWkD,IAAW,cAAe,CAAE,mBAAoBkN,IAD7D,8BCuGSE,GAvII,WACjB,IAAMvW,EAAUC,cADO,EAEiC4C,IAFjC,mBAEhBN,EAFgB,KAELG,EAFK,KAECD,EAFD,KAEQD,EAFR,KAEkBS,EAFlB,KAGjBoD,EAAWnD,cAHM,EAIgB0E,EAAS,CAC9CC,cAAc,EACdC,UAAU,EACVC,SAAS,EACTC,cAAc,IARO,mBAIhBlC,EAJgB,KAITsE,EAJS,KAIEjC,EAJF,OAqBnB/H,EACF,CACEiB,KAAM,GACNyD,aAAc,GACd0R,WAAY,GACZnG,MAAO,EACPvM,OAAQ,GACRiB,YAAa,KAjBA,WACf9B,EAAY,4BAA6B,OAAQ5C,KAmBjD0D,GA/BqB,mBAgBrBsO,EAhBqB,KAiBrBlM,EAjBqB,KAkBrBC,EAlBqB,KAmBrB/F,EAnBqB,KAoBrBM,EApBqB,KAkCjB8V,EAAqB,WACzBtO,IACAQ,OAAOoC,SAASC,UA8BlB,OA3BA1E,qBAAU,WACHrE,KACHmI,EAAU,cAAC,GAAD,CAAWgI,aAAcqE,OAEpC,IAEHnQ,qBAAU,WACJ7D,EACF4D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK3C,EACL6C,QAAS,eAGJ5C,IACT2D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK,0BACLE,QAAS,YAGbtF,EAAQG,KAAK,qBAEd,CAACuC,EAAMD,EAAOD,IAGf,qCACGD,GAAa,cAAC,EAAD,IACd,sBAAK0D,UAAU,cAAf,UACE,oDACA,uBAAM3F,SAAU6F,EAAhB,UACE,yDACA,uBACEF,UAAU,oBACVU,YAAY,OACZrE,KAAK,OACLjB,KAAK,OACLuF,SAAUR,EACV9E,MAAOjB,EAASgB,MAAQ,KAE1B,qBAAK4E,UAAU,cAAf,SACGtF,EAAWU,MAAQV,EAAWU,OAEjC,kDACA,yBACEA,KAAK,eACLuF,SAAUR,EACV9E,MAAOjB,EAASyE,cAAgB,GAHlC,UAKE,yDACA,2CACA,+CACA,0CACA,8CAEF,qBAAKmB,UAAU,cAAf,SACGtF,EAAWmE,cAAgBnE,EAAWmE,eAEzC,6CACA,uBACEmB,UAAU,oBACV3D,KAAK,OACLjB,KAAK,aACLuF,SAAUR,EACV9E,MAAOjB,EAASmW,YAAc,KAEhC,4CACA,cAAC,GAAD,CACEnV,KAAK,QACL+E,kBAAmBA,EACnBgQ,WAAY/V,EAASgQ,OAAS,GAC9BgC,YAAaA,EACbhS,SAAUA,IAEZ,kDACA,0BACEoV,KAAM,EACN9O,YAAY,wBACZrE,KAAK,WACLjB,KAAK,cACLuF,SAAUR,EACV9E,MAAOjB,EAAS0E,aAAe,KAEjC,qBAAKkB,UAAU,cAAf,SACGtF,EAAWoE,aAAepE,EAAWoE,cAExC,uDAGHe,MChEQ4Q,GAvEQ,WACrB,IAAM1W,EAAUC,cACV8K,EAAW+E,cACXF,EAAU7E,EAAStF,MAAMmK,QAHJ,EAI6B/M,IAJ7B,mBAIpBN,EAJoB,KAITG,EAJS,KAIcO,GAJd,kBAKHzC,mBAAS,IALN,mBAKpBmW,EALoB,KAKdC,EALc,OAOYhP,EAAS,CAC9CC,cAAc,EACdC,UAAU,EACVC,SAAS,IAVgB,mBAOpBjC,EAPoB,KAObsE,EAPa,KAarByM,GAbqB,KAaV,SAAC5H,EAAaE,EAAeE,GAC5CrP,EAAQG,KAAK,CACXqG,SAAS,UAAD,OAAY2I,GACpB1J,MAAO,CACLwJ,YAAaA,EACbE,cAAeA,EACfE,aAAcA,OAKdoH,EAAqB,WACzBI,EAAS9L,EAAStF,MAAMmK,QAAS+G,EAAKlS,WAAYkS,EAAKnL,WACvD7C,OAAOoC,SAASC,UAalB,OAVA1E,qBAAU,WACRrD,EAAY,uCAAD,OAAwC2M,GAAW,SAC7D,IAEHtJ,qBAAU,WACJ5D,GACFkU,EAAQlU,EAAKoU,mBAEd,CAACpU,IAGF,qCACGH,GAAa,cAAC,EAAD,IACd,gCACE,4CAAewI,EAAStF,MAAMpE,QAC9B,qDAAwB0J,EAAStF,MAAMV,eACvC,qDACqB4R,EAAKI,IAD1B,QACoCJ,EAAKK,OAExC/U,IACC,wBACE/B,QAAS,kBACP2W,EAAS9L,EAAStF,MAAMmK,QAAS+G,EAAKlS,WAAYkS,EAAKnL,YAF3D,iCAQA,wBACEtL,QAAS,kBACPkK,EAAU,cAAC,GAAD,CAAWgI,aAAcqE,MAFvC,oCASH3Q,MC2CQmR,I,OA1GI,WACjB,IAAMjX,EAAUC,cACRuL,EAAcc,YAAYN,EAAeO,KAAzCf,UACFnF,EAAWnD,cAHM,EAIgB0E,EAAS,CAC9CC,cAAc,EACdC,UAAU,EACVC,SAAS,IAPY,mBAIhBjC,EAJgB,KAITsE,EAJS,KAIEjC,EAJF,OAUuB3H,oBAAS,GAVhC,mBAUhB0W,EAVgB,KAUCC,EAVD,KAYjBC,EAAa,SAACC,GACdA,GACF9V,IACGM,MAAK,WACJ7B,EAAQG,KAAK,QAEd6B,OAAM,SAACS,GACN4D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK3C,EACL6C,QAAS,kBAKnB6C,IACAgP,GAAmB,IAGfG,EACJ,qCACE,wDACA,wBAAQpX,QAAS,kBAAMkX,GAAW,IAAlC,iBACA,wBAAQlX,QAAS,kBAAMkX,GAAW,IAAlC,mBAIEG,EAAiB,WACrBJ,GAAoBD,IAGtB,OACE,qCACE,sBAAKjR,UAAU,cAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,cAAC,IAAD,CAAMsM,GAAG,IAAT,4BAEF,8BACE,cAAC,IAAD,CAAMA,GAAG,eAAT,kCAEDtQ,IACC,mCACE,eAAC,GAAD,CACEkD,KAAM+R,EACN/D,OACE,8BACE,qBACElN,UAAU,sBACVuG,IAAKhB,EACLtL,QAASqX,EACTC,IAAI,OAIVtX,QAASqX,EAZX,UAcE,cAAC,IAAD,CAAMrX,QAASqX,EAAgBhF,GAAG,WAAlC,qBAIA,mBACErS,QAAS,WACPkK,EAAUkN,IAFd,yBAUJ,qBAAKrR,UAAU,oBAAf,SACE,mBACE/F,QAAS,kBACPkK,EACE,cAAC,GAAD,CACEgI,aAAc,WACZjK,IACAnI,EAAQG,KAAK,iBANvB,0BAiBL2F,OCYQ2R,I,OAnHK,WAClB,IAAM1M,EAAW+E,cACX9P,EAAUC,cACVyP,EAAU3E,EAAStF,MAUnBY,EAAWnD,cAbO,EAcuBL,IAdvB,mBAcfH,EAde,KAcTD,EAdS,KAcFD,EAdE,KAcQS,EAdR,OAqBpB7C,EACF,CACEiB,KAAMqO,EAAQrO,KACdyD,aAAc4K,EAAQ5K,aACtB0R,WAAY9G,EAAQgI,KACpBrH,MAAOX,EAAQW,MACfvM,OAAQ4L,EAAQ5L,OAChBiB,YAAa2K,EAAQ3K,cAvBR,WACf9B,EAAY,8BAAD,OACqByM,EAAQS,YACtC,QACA9P,KAsBF0D,GA/BsB,mBAiBtBoC,GAjBsB,WAkBtBC,EAlBsB,KAmBtB/F,EAnBsB,UAuDxB,OArBAiG,qBAAU,WACJ7D,EACF4D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK3C,EACL6C,QAAS,eAGJ5C,IACT2D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK,0BACLE,QAAS,YAGbtF,EAAQG,KAAK,qBAEd,CAACuC,EAAMD,EAAOD,IAGf,sBAAKyD,UAAU,eAAf,UACE,mDACA,uBAAM3F,SAAU6F,EAAhB,UACE,yDACA,uBACEQ,YAAY,OACZrE,KAAK,OACLjB,KAAK,OACLuF,SAAUR,EACV9E,MAAOjB,EAASgB,OAElB,kDACA,yBACEA,KAAK,eACLuF,SAAUR,EACV9E,MAAOjB,EAASyE,aAHlB,UAKE,yDACA,2CACA,+CACA,0CACA,8CAEF,6CACA,uBACExC,KAAK,OACLjB,KAAK,aACLuF,SAAUR,EACV9E,MAAOjB,EAASmW,aAElB,4CACA,uBACE7P,YAAY,QACZrE,KAAK,SACLjB,KAAK,QACLuF,SAAUR,EACV9E,MAAOjB,EAASgQ,QAElB,kDACA,0BACE1J,YAAY,wBACZrE,KAAK,WACLjB,KAAK,cACLuF,SAAUR,EACV9E,MAAOjB,EAAS0E,cAElB,kDACA,wBACE7E,QAAS,WACPF,EAAQG,KAAK,mBAFjB,4BCiDOwX,GAzJK,SAAC3R,GAAW,IAAD,EACKxF,oBAAS,GADd,mBACtBoX,EADsB,KACXC,EADW,OAE2BhV,IAF3B,mBAEtBN,EAFsB,KAEXG,EAFW,KAELD,EAFK,KAEED,EAFF,KAEYS,EAFZ,OAGiB2E,EAAS,CACrDC,cAAc,EACdC,UAAU,EACVC,SAAS,IANkB,mBAGtB+P,EAHsB,KAGVC,EAHU,KAGMC,EAHN,OAmBzB5X,EAAQ,eAAG4F,EAAM3E,KAAO2E,EAAM1E,QAVjB,WACf2B,EAAY,eAAD,OAAgB+C,EAAMiS,KAAOjS,EAAM3C,OAAQhD,KASH0D,GAnBxB,mBAc3BsO,EAd2B,KAe3BlM,EAf2B,KAgB3BC,EAhB2B,KAiB3B/F,EAjB2B,KAkB3BM,EAlB2B,KA4C7B,OAxBA2F,qBAAU,WACJ7D,GAAsB,MAAbD,EACXwD,EAAMkS,QAAQzV,EAAO,aACZC,GAAQA,EAAK0C,MACtBY,EAAMkS,QAAQxV,EAAK0C,IAAK,UACxBY,EAAMmS,SACNN,GAAa,MAEd,CAACnV,EAAMD,IAEV6D,qBAAU,WACS,MAAb9D,GACFuV,EACE,cAAC,GAAD,CACE9F,KAAM,UACNC,SAAS,EACT/J,WAAY6P,EACZ5F,aAAcjM,EACdgM,KAAMnM,EAAMmM,UAIjB,CAAC3P,IAGF,qCACGsV,EACAvV,GAAa,cAAC,EAAD,IACd,8BAAIyD,EAAM6D,MAAV,OACC+N,EACC,8BACE,uBAAMtX,SAAU6F,EAAhB,UACkB,aAAfH,EAAM3E,MACL,qCACE,yBAEEsF,YAAY,QACZtF,KAAK,WACLuF,SAAUR,EACV9E,MAAOjB,EAASqE,UAAY,GAL9B,UAOE,wBAAgBpD,MAAM,GAAtB,yBAAY,KAGX2L,GAAW6B,KAAI,SAAC3B,GACf,OACE,wBAAgC7L,MAAO2L,GAAW5L,KAAlD,SACG8L,EAAK9L,MADK8L,EAAKC,mBAXlB,KAiBN,qBAAKnH,UAAU,cAAf,SACGtF,EAAW+D,UAAY/D,EAAW+D,cAKzB,aAAfsB,EAAM3E,MACL,sBAAK4E,UAAU,kBAAf,UACE,uBACEU,YAAY,eACZrE,KAAK,WACLjB,KAAM2E,EAAM3E,KACZuF,SAAUR,EACV9E,MAAOjB,EAAS2F,EAAM3E,OAAS,KAEjC,sBACA,uBACEsF,YAAY,uBACZrE,KAAK,WACLjB,KAAK,eACLuF,SAAUR,EACV9E,MAAOjB,EAAS6D,cAAgB,KAElC,qBAAK+B,UAAU,cAAf,SACGtF,EAAWuD,cAAgBvD,EAAWuD,kBAK7B,aAAf8B,EAAM3E,MAAsC,aAAf2E,EAAM3E,MAClC,qCACE,uBACEsF,YAAa,GACbrE,KAAK,OACLjB,KAAM2E,EAAM3E,KACZuF,SAAUR,EACV9E,MAAOjB,EAAS2F,EAAM3E,OAAS,KAEjC,qBAAK4E,UAAU,cAAf,SACGtF,EAAWqF,EAAM3E,OAASV,EAAWqF,EAAM3E,WAKlD,gCACE,uBAAOiB,KAAK,SAASgQ,SAAU/P,IAC/B,wBACErC,QAAS,WACP2X,GAAa,GACbxF,EAAY,eAAGrM,EAAM3E,KAAO2E,EAAM1E,SAHtC,4BAYN,qCACkB,aAAf0E,EAAM3E,KACL,sBACE2E,EAAM1E,MACR0E,EAAMgB,SAEN,sCAEF,mBACE9G,QAAS,WACP2X,GAAa,IAFjB,SAKkB,aAAf7R,EAAM3E,KAAsB,kBAAoB,YAKvD,2BClDS+W,GApGS,SAAC,GAAiB,IAAfpH,EAAc,EAAdA,QACnBhR,EAAUC,cADuB,EAEPO,oBAAS,GAFF,mBAEhC6X,EAFgC,KAEtBC,EAFsB,KAGjC7O,EAAYL,EAAS,MAKrBmP,EAAgB,WACf9O,GACH6O,GAAY,IAQhB,OAJAhS,qBAAU,WACRgS,EAAY7O,KACX,CAACA,IAGF,sBACExD,UAAWkD,IAAW,gBAAiB,CACrC,wBAAyBkP,IAF7B,UAKE,sBAAKpS,UAAU,mBAAf,UACE,qBAAK/F,QArBQ,WACjBoY,GAAaD,IAoBiBpS,UAAU,gBAApC,SACGoS,EAAW,cAAC,IAAD,IAAU,cAAC,IAAD,MAExB,oBACEpS,UAAWkD,IAAW,CAAE,mBAAoB6H,IAC5C9Q,QAAS,WACP8Q,GAAWhR,EAAQG,KAAK,iBACxBoY,KAJJ,UAOE,+BACE,cAAC,IAAD,MAGF,sBACEtS,UAAWkD,IAAW,iBAAkB,CACtC,yBAA0BkP,IAF9B,mCAQF,oBACEpS,UAAWkD,IAAW,CAAE,kBAA+B,YAAZ6H,IAC3C9Q,QAAS,WACK,YAAZ8Q,GAAyBhR,EAAQG,KAAK,yBACtCoY,KAJJ,UAOE,+BACE,cAAC,IAAD,MAEF,sBACEtS,UAAWkD,IAAW,iBAAkB,CACtC,yBAA0BkP,IAF9B,oCAQF,oBACEpS,UAAWkD,IAAW,CAAE,kBAA+B,YAAZ6H,IAC3C9Q,QAAS,WACK,YAAZ8Q,GAAyBhR,EAAQG,KAAK,yBACtCoY,KAJJ,UAOE,+BACE,cAAC,IAAD,MAEF,sBACEtS,UAAWkD,IAAW,iBAAkB,CACtC,yBAA0BkP,IAF9B,2BASJ,sBAAKpS,UAAU,gBAAf,UACE,qBACEA,UAAWkD,IAAW,gBAAiB,CACrC,wBAAyBkP,MAG7B,qBACEpS,UAAWkD,IAAW,iBAAkB,CACtC,yBAA0BkP,aC9FvB7U,GAJA,CACbgV,QAAS,gCC+SI1H,GAlSC,SAAC,GAAa,IAAXC,EAAU,EAAVA,IACXG,EAAc5E,YAAYN,EAAeO,KACzClG,EAAWnD,cAFU,EAGG1C,mBAASuQ,GAHZ,mBAGpBC,EAHoB,KAGXC,EAHW,OAI6BpO,IAJ7B,mBAIpBN,EAJoB,KAITG,EAJS,KAIHD,EAJG,KAIID,EAJJ,KAIcS,EAJd,OAWvBJ,IAXuB,mBAOzB4V,EAPyB,KAQzBC,EARyB,KASzBC,EATyB,KAUzBC,EAVyB,KAYrB5Y,EAAUC,cACV4Y,EAAoB,WACxB5V,EAAY,mCAAoC,OAAQ,KAG1DqD,qBAAU,WACH4K,EAAY1M,OACfqU,MAED,IAEHvS,qBAAU,WACR2K,EAAWF,KACV,CAACA,IAEJzK,qBAAU,WACJ5D,GAAQA,EAAK0C,IACfiB,EAASb,EAAQ,CAAEL,MAAM,EAAMC,IAAK1C,EAAK0C,IAAKE,QAAS,YAC9C5C,GACT2D,EAASuF,EAAc,eAAKlJ,KAE1BD,GACF4D,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAK3C,EACL6C,QAAS,iBAId,CAAC5C,EAAMD,EAAOD,IAEjB8D,qBAAU,WACJoS,EACFrS,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAKsT,EACLpT,QAAS,eAGJmT,GAAgBA,EAAarT,KACtCiB,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAKqT,EAAarT,IAClBE,QAAS,cAId,CAACmT,EAAcC,EAAeC,IAEjC,IAAMG,EAAc,SAAC1T,EAAKE,GACxBe,EACEb,EAAQ,CACNL,MAAM,EACNC,IAAKA,EACLE,QAASA,MASf,OACE,qCACG/C,GAAa,cAAC,EAAD,IACd,cAAC,EAAD,CAAe4J,MAAM,IACrB,wBACElG,UAAU,oBACV/F,QAAS,WACPF,EAAQG,KAAK,aAHjB,+BASC+Q,GACC,sBAAKjL,UAAU,WAAf,UACE,cAAC,GAAD,CAAiB+K,QAASA,IAC1B,qBAAK/K,UAAU,aACb+K,GACA,sBAAK/K,UAAU,YAAf,UACE,oDACA,sBAEA,sBAAKA,UAAU,YAAf,UACE,cAAC8S,GAAD,CACE1X,KAAK,aACLwI,MAAM,aACNoO,IAAI,gBACJ5U,OAAO,QACP8U,OAAQU,EACRX,QAASY,EACTxX,MAAO4P,EAAYzM,WAPrB,SASE,4BAAIyM,EAAYzM,eAElB,0BAGF,sBAAKwB,UAAU,YAAf,UACE,cAAC8S,GAAD,CACE1X,KAAK,eACLwI,MAAM,kBACNoO,IAAI,wBACJ5U,OAAO,QACP8U,OAAQU,EACRX,QAASY,EACTxX,MAAO4P,EAAYrM,aAPrB,SASE,4BACE,eAAC,IAAD,CAAM0N,GAAE,mBAAcrB,EAAYrM,cAAlC,UACGrB,GAAOgV,QACPtH,EAAYrM,oBAInB,6BAKO,YAAZmM,GACC,qBAAK/K,UAAU,YAAf,SACE,sBAAKA,UAAU,GAAf,UACE,qDACA,sBAAKA,UAAU,YAAf,UACE,eAAC8S,GAAD,CACE1X,KAAK,YACLwI,MAAM,QACNoO,IAAI,wBACJ5U,OAAO,OACP8U,OAAQU,EACRX,QAASY,EACT3G,KAAMjB,EAAY1M,MAClBlD,MAAO4P,EAAY1M,MARrB,UAUE,8BACE,cAAC,GAAD,CAAkBkI,SAAUwE,EAAYxF,eAAxC,SACE,mBAAGzF,UAAU,eAAb,SAA6BiL,EAAY1M,YAG7C,0BAEA0M,EAAYxF,gBACZ,8BACE,mBAAGxL,QAvFI,WACzB0Y,EAAiB,yBAA0B,OAAQ,IAAI,IAsFrC,yCAKJ,0BAGF,sBAAK3S,UAAU,YAAf,UACE,cAAC8S,GAAD,CACE1X,KAAK,WACLwI,MAAM,WACNoO,IAAI,iBACJ5U,OAAO,QACP8U,OAAQU,EACRX,QAASY,EACT3G,KAAMjB,EAAY1M,MAClBlD,MAAO4P,EAAY5M,SARrB,SAUE,4BAAI4M,EAAY5M,aAElB,0BAGF,sBAAK2B,UAAU,YAAf,UACE,cAAC8S,GAAD,CACE1X,KAAK,YACLwI,MAAM,YACNoO,IAAI,gBACJ5U,OAAO,QACP8U,OAAQU,EACRX,QAASY,EACTxX,MAAO4P,EAAY7F,UAPrB,SASE,4BAAI6F,EAAY7F,cAElB,0BAGF,sBAAKpF,UAAU,YAAf,UACE,cAAC8S,GAAD,CACE1X,KAAK,WACL8Q,KAAMjB,EAAY1M,MAClBqF,MAAM,kBACNoO,IAAI,eACJ5U,OAAO,QACP8U,OAAQU,EACRX,QAASY,EACTxX,MAAO4P,EAAYjN,SARrB,SAUE,4BAAIiN,EAAYjN,aAElB,+BAMK,YAAZ+M,GACC,sBAAK/K,UAAU,YAAf,UACE,yCACA,sBAAKA,UAAU,YAAf,UACE,cAAC8S,GAAD,CACE1X,KAAK,UACLwI,MAAM,UACNoO,IAAI,gBACJ5U,OAAO,QACP8U,OAAQU,EACRX,QAASY,EACTxX,MAAO4P,EAAY3F,QAPrB,SASE,4BAAI2F,EAAY3F,YAElB,0BAGF,sBAAKtF,UAAU,YAAf,UACE,cAAC8S,GAAD,CACE1X,KAAK,OACLwI,MAAM,OACNoO,IAAI,gBACJ5U,OAAO,QACP8U,OAAQU,EACRX,QAASY,EACTxX,MAAO4P,EAAYvM,KAPrB,SASE,4BAAIuM,EAAYvM,SAElB,0BAGF,sBAAKsB,UAAU,YAAf,UACE,cAAC8S,GAAD,CACE1X,KAAK,WACLwI,MAAM,QACNoO,IAAI,gBACJ5U,OAAO,QACP8U,OAAQU,EACRX,QAASY,EACTxX,MAAO4P,EAAYxM,SAPrB,SASE,4BAAIwM,EAAYxM,aAElB,0BAGF,sBAAKuB,UAAU,YAAf,UACE,cAAC8S,GAAD,CACE1X,KAAK,WACLwI,MAAM,WACNoO,IAAI,gBACJ5U,OAAO,QACP8U,OAAQU,EACRX,QAASY,EACTxX,MAAO4P,EAAY5F,SAPrB,SASE,4BAAI4F,EAAY5F,aAElB,6BAIN,qBAAKrF,UAAU,mBCrOV+S,OAjDf,WAEE,OADAvS,QAAQC,IAAI,YAEV,qCACE,eAAC,IAAD,WACE,cAAC,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuS,OAAK,EAACC,KAAK,IAAIC,UAAWrS,IACjC,cAAC,IAAD,CAAOoS,KAAK,SAAZ,SACE,cAAC,GAAD,CAAMjH,KAAK,YAEb,cAAC,IAAD,CAAOiH,KAAK,UAAZ,SACE,cAAC,GAAD,CAAMjH,KAAK,aAEb,cAAC,IAAD,CAAOiH,KAAK,WAAWC,UAAWrI,GAASmI,OAAK,IAChD,cAAC,IAAD,CAAOC,KAAK,SAASD,OAAK,EAA1B,SACE,cAAC,GAAD,CAASlI,IAAI,QAAQkI,OAAK,MAE5B,cAAC,IAAD,CAAOC,KAAK,gBAAgBC,UAAWC,GAAaH,OAAK,IACzD,cAAC,IAAD,CAAOC,KAAK,wBAAZ,SACE,cAACE,GAAD,CAAarI,IAAI,cAEnB,cAAC,IAAD,CAAOmI,KAAK,wBAAZ,SACE,cAACE,GAAD,CAAarI,IAAI,cAEnB,cAAC,IAAD,CAAOmI,KAAK,eAAeC,UAAW5C,GAAY0C,OAAK,IACvD,cAAC,IAAD,CAAOC,KAAK,iBAAiBC,UAAW3I,KACxC,cAAC,IAAD,CAAO0I,KAAK,gBAAgBC,UAAW1B,KACvC,cAAC,IAAD,CAAOyB,KAAK,gBAAgBC,UAAWzC,KACvC,cAAC,IAAD,CAAOwC,KAAK,eAAeC,UAAW5E,KACtC,cAAC,IAAD,CAAO2E,KAAK,iBAAiBC,UAAW1G,KACxC,cAAC,IAAD,CAAOyG,KAAK,kBAAkBC,UAAWpH,KACzC,cAAC,IAAD,CAAOmH,KAAK,kBAAZ,SACE,cAAC,GAAD,CAAepG,OAAO,MAExB,cAAC,IAAD,CACEoG,KAAK,iCACLC,UAAWtG,KAEb,cAAC,IAAD,CAAOqG,KAAK,IAAIC,UAAW3G,QAE7B,qBAAKvM,UAAU,cAEjB,cAAC,GAAD,IACA,cAAC,EAAD,QCnDSoT,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB1X,MAAK,YAAkD,IAA/C2X,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHCO,eAAe,CAC5BC,QAAS,CACPhU,MAAOiU,EACP9N,QAAS+N,KCCbxS,IAASyS,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUC,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJ/S,SAASgT,eAAe,SAM1Bf,M","file":"static/js/main.2cb8fbb4.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const loadJSON = (key) => key && JSON.parse(localStorage.getItem(key));\n\nexport const saveJSON = (key, data) =>\n  localStorage.setItem(key, JSON.stringify(data));\n\nexport const logout = () =>\n  new Promise((resolve, reject) => {\n    axios\n      .post(\"/api/auth/logout\", {})\n      .then(() => {\n        localStorage.removeItem(\"status\");\n        localStorage.removeItem(\"app_data\");\n        resolve(true);\n      })\n      .catch(() => {\n        reject(\"Something went wrong\");\n      });\n  });\n\nexport const checkAuth = () => {\n  if (localStorage.getItem(\"status\") === \"loggedIn\") {\n    return true;\n  }\n  return false;\n};\n","import { useHistory } from \"react-router-dom\";\n\nconst ShareProducts = () => {\n    \n    const history = useHistory();\n\n    return(\n        <div>\n            <button onClick = {() => history.push(\"/add-product\")}>Share</button>\n        </div>\n    )\n}\n\nexport default ShareProducts; ","import { useState } from \"react\";\n\n/**\n *  useForm\n * @see https://github.com/Arol15/instaHarvest/blob/master/API.md#useForm\n */\n\nconst useForm = (formData, onSubmit, formValidation) => {\n  const [formState, setFormState] = useState({ ...formData });\n  const [formErrors, setErrors] = useState({});\n\n  const handleSubmit = (event) => {\n    event && event.preventDefault();\n    const validationErrors = formValidation(formState);\n    const isValid = Object.keys(validationErrors).length === 0;\n    setErrors(validationErrors);\n\n    if (isValid) {\n      onSubmit();\n    }\n  };\n\n  const handleInputChange = (event) => {\n    // event.persist();\n    setFormState({ ...formState, [event.target.name]: event.target.value });\n  };\n\n  return [setFormState, handleSubmit, handleInputChange, formState, formErrors];\n};\n\nexport default useForm;\n","import axios from \"axios\";\nimport { useReducer, useCallback, useDebugValue } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { logout } from \"../utils/localStorage\";\n\nconst fetchReducer = (currState, action) => {\n  switch (action.type) {\n    case \"SEND\":\n      return {\n        ...currState,\n        isLoading: true,\n        errorNum: null,\n        error: null,\n        data: null,\n      };\n    case \"RESPONSE\":\n      return {\n        isLoading: false,\n        data: action.responseData,\n        errorNum: null,\n        error: null,\n      };\n    case \"ERROR\":\n      return {\n        data: null,\n        isLoading: false,\n        error: action.errorMessage,\n        errorNum: action.errorNum,\n      };\n    case \"LOGOUT\":\n      return {\n        isLoading: false,\n        errorNum: null,\n        error: null,\n        data: null,\n      };\n    default:\n      return;\n  }\n};\n\n/**\n *  useRequest\n * @see https://github.com/Arol15/instaHarvest/blob/master/API.md#useRequest\n */\n\nconst useRequest = () => {\n  const [fetchState, dispatchFetch] = useReducer(fetchReducer, {\n    isLoading: false,\n    error: null,\n    errorNum: null,\n    data: null,\n  });\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const sendRequest = useCallback(async (url, method, body) => {\n    dispatchFetch({\n      type: \"SEND\",\n    });\n\n    const config = {\n      method: method,\n      url: url,\n      data: body,\n      timeout: 5000,\n    };\n\n    let resp = await axios(config).then(\n      (res) => res,\n      (err) => err.response\n    );\n    if (!resp) {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: \"Something went wrong\",\n        errorNum: 500,\n      });\n      return;\n    }\n\n    if (resp.status === 401 && resp.data.error === \"unauthorized\") {\n      logout()\n        .then(() => {\n          dispatchFetch({\n            type: \"LOGOUT\",\n          });\n          history.push(\"/login\");\n        })\n        .catch((error) => {\n          dispatchFetch({\n            type: \"ERROR\",\n            errorMessage: resp.data.error,\n            errorNum: resp.status,\n          });\n        });\n    }\n    if (resp.status >= 200 && resp.status < 300) {\n      dispatchFetch({\n        type: \"RESPONSE\",\n        responseData: resp.data,\n      });\n    } else if (resp.data.error) {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: resp.data.error,\n        errorNum: resp.status,\n      });\n    } else if (resp.status === 401) {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: \"Authorization denied. Please sign in or sign up\",\n        errorNum: 401,\n      });\n    } else if (resp.status === 403) {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: \"Not enough privileges\",\n        errorNum: 403,\n      });\n    } else {\n      dispatchFetch({\n        type: \"ERROR\",\n        errorMessage: \"Something went wrong\",\n        errorNum: resp.status,\n      });\n    }\n  }, []);\n\n  return [\n    fetchState.isLoading,\n    fetchState.data,\n    fetchState.error,\n    fetchState.errorNum,\n    sendRequest,\n  ];\n};\n\nexport default useRequest;\n","const validation = (data) => {\n  const errors = {};\n  if (data.password && data.confirm_pass) {\n    if (data.password !== data.confirm_pass) {\n      errors.confirm_pass = \"Passwords don't match\";\n    }\n    if (!/^[A-z0-9.!?,+]{6,}$/i.test(data.password)) {\n      errors.confirm_pass =\n        \"Password should be at least 6 characters. Allowed characters: A-z 0-9 . , ! ? +\";\n    }\n  }\n  Object.entries(data).forEach(([key, value]) => {\n    if (key === \"username\") {\n      if (!/^[a-z0-9._]{0,}$/.test(value)) {\n        errors.username = \"Allowed characters: a-z 0-9 . _\";\n      }\n    }\n\n    if (key === \"password\") {\n      if (!value) {\n        errors.password = \"Please enter your password\";\n      }\n    }\n    if (key === \"confirm_pass\") {\n      if (!value) {\n        errors.confirm_pass = \"Passwords don't match\";\n      }\n    }\n    if (key === \"login\") {\n      if (!value) {\n        errors.login = \"Please enter your username or email\";\n      }\n    }\n    if (key === \"email\") {\n      if (!value) {\n        errors.email = \"Enter your email\";\n      } else if (!/^[A-Z0-9.,_%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(value)) {\n        errors.email = \"Invalid email address\";\n      }\n    }\n    if (key === \"first_name\") {\n      if (!value) {\n        errors.first_name = \"Please enter you name\";\n      }\n    }\n    if (key === \"us_state\") {\n      if (!value) {\n        errors.us_state = \"Please select state\";\n      }\n    }\n    if (key === \"city\") {\n      if (!value) {\n        errors.city = \"Please enter city\";\n      }\n    }\n    if (key === \"body\") {\n      if (!value) {\n        errors.body = \"Please enter something\";\n      }\n    }\n    if (key === \"search_term\") {\n      if (!value) {\n        errors.search_term = \"Please enter location\";\n      } else if (value.length < 2) {\n        errors.search_term = \"Your location is too short\";\n      }\n    }\n    if (key === \"profile_addr\") {\n      if (!value) {\n        errors.profile_addr = \"Field cannot be empty\";\n      }\n    }\n    if (key === \"name\") {\n      if (!value) {\n        errors.name = \"Please enter name\";\n      }\n    }\n    if (key === \"product_type\") {\n      if (!value) {\n        errors.product_type = \"Please select product type\";\n      }\n    }\n    if (key === \"description\") {\n      if (!value) {\n        errors.description = \"Please describe your product\";\n      }\n    }\n    if (key === \"url\") {\n      if (!value) {\n        errors.url = \"Please enter image url\";\n      }\n    }\n  });\n\n  return errors;\n};\n\nexport default validation;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const modalSlice = createSlice({\n  name: \"modal\",\n  initialState: {\n    open: false,\n    msg: null,\n    timeOut: null,\n    classes: null,\n  },\n  reducers: {\n    showMsg: (state, action) => {\n      const { msg, timeOut, classes } = action.payload;\n      state.open = true;\n      state.msg = msg;\n      state.timeOut = timeOut;\n      state.classes = classes;\n    },\n    clearMsg: (state) => {\n      state.open = false;\n      state.msg = null;\n      state.timeOut = null;\n      state.classes = null;\n    },\n  },\n});\n\nexport const { showMsg, clearMsg } = modalSlice.actions;\n\nexport const selectModal = (state) => ({\n  open: state.modal.open,\n  msg: state.modal.msg,\n  timeOut: state.modal.timeOut,\n  classes: state.modal.classes,\n});\n\nexport default modalSlice.reducer;\n","import \"./Spinner.css\";\n\nconst Spinner = (props) => {\n  const el = (\n    <div className=\"center\">\n      <div className=\"indicator\">\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n        <div className=\"ind-chase-dot\"></div>\n      </div>\n    </div>\n  );\n\n  return el;\n};\n\nexport default Spinner;\n","import { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport useForm from \"../hooks/useForm\";\nimport useRequest from \"../hooks/useRequest\";\nimport validation from \"../form_validation/validation\";\nimport { checkAuth } from \"../utils/localStorage\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../store/modalSlice\";\nimport Spinner from \"./UI/Spinner\";\n\nconst SearchMain = () => {\n  const onSubmit = () => {\n    if (checkAuth()) {\n      sendRequest(\"/api/products/get-all-protected\", \"post\", formData);\n    } else {\n      sendRequest(\"/api/products/get-all\", \"post\", formData);\n    }\n  };\n\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm({ search_term: \"\" }, onSubmit, validation);\n\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (data && data.products.length === 0) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: \"No results per this location\",\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data) {\n      history.push({\n        pathname: \"/search-results\",\n        state: data,\n      });\n    } else if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    }\n  }, [data, error]);\n\n  console.log(data);\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <form>\n        <input\n          type=\"search\"\n          placeholder=\"Enter your location\"\n          name=\"search_term\"\n          onChange={handleInputChange}\n          value={formData.search_term}\n        />\n        <div className=\"form-danger\">\n          {formErrors.search_term && formErrors.search_term}\n        </div>\n        <button onClick={handleSubmit}>Find</button>\n      </form>\n    </>\n  );\n};\n\nexport default SearchMain;\n","const Footer = () => {\n    return (\n        <footer>\n            All Icons and copyrights\n        </footer>\n    )\n}\n\nexport default Footer; ","import ShareProducts from \"./ShareProducts\";\nimport SearchMain from \"../components/SearchMain\";\nimport Footer from \"../components/Footer\";\n\nconst Home = () => {\n  return (\n    <div className=\"home\">\n      <h1>Welcome to instaHarvest</h1>\n      <SearchMain />\n      <ShareProducts />\n    </div>\n  );\n};\n\nexport default Home;\n","import { useMemo, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst Portal = ({ children, parent }) => {\n  const el = useMemo(() => document.createElement(\"div\"), []);\n  useEffect(() => {\n    const target = parent && parent.appendChild ? parent : document.body;\n    target.appendChild(el);\n\n    return () => {\n      target.removeChild(el);\n    };\n  }, [el, parent]);\n  return ReactDOM.createPortal(children, el);\n};\nexport default Portal;\n","import { useRef, useEffect, useReducer } from \"react\";\nimport Portal from \"../components/UI/Portal\";\nimport classnames from \"classnames\";\nimport \"./useModal.css\";\nimport { showMsg } from \"../store/modalSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { FiX } from \"react-icons/fi\";\n\nconst fetchReducer = (currState, action) => {\n  switch (action.type) {\n    case \"setActive\":\n      return {\n        ...currState,\n        active: action.active,\n      };\n    case \"setChildren\":\n      return {\n        ...currState,\n        children: action.children,\n        classes: action.classes,\n      };\n\n    case \"setOpen\":\n      return {\n        ...currState,\n        isOpen: action.isOpen,\n      };\n    case \"setModal\":\n      return {\n        ...currState,\n        modal: action.modal,\n      };\n    default:\n      break;\n  }\n};\n\n/**\n *  useModal\n * @see https://github.com/Arol15/instaHarvest/blob/master/API.md#useModal\n */\n\nconst useModal = ({\n  withBackdrop,\n  useTimer,\n  timeOut,\n  inPlace,\n  disableClose,\n}) => {\n  const [fetchState, dispatchFetch] = useReducer(fetchReducer, {\n    active: false,\n    isOpen: false,\n    children: null,\n    classes: null,\n    modal: null,\n  });\n  const backdrop = useRef(null);\n  const dispatch = useDispatch();\n  const showModal = (children, classes) => {\n    dispatchFetch({ type: \"setOpen\", isOpen: true });\n    dispatchFetch({\n      type: \"setChildren\",\n      children: children,\n      classes: classes,\n    });\n  };\n\n  const closeModal = () => {\n    dispatchFetch({ type: \"setOpen\", isOpen: false });\n  };\n\n  useEffect(() => {\n    if (withBackdrop === true) {\n      const { current } = backdrop;\n      const transitionEnd = () =>\n        dispatchFetch({ type: \"setActive\", active: fetchState.isOpen });\n      const keyHandler = (event) =>\n        [27].indexOf(event.which) >= 0 && closeModal();\n      const clickHandler = (event) => event.target === current && closeModal();\n\n      if (current) {\n        current.addEventListener(\"transitionend\", transitionEnd);\n\n        if (!disableClose) {\n          current.addEventListener(\"click\", clickHandler);\n          window.addEventListener(\"keyup\", keyHandler);\n        }\n      }\n\n      return () => {\n        if (current) {\n          current.removeEventListener(\"transitionend\", transitionEnd);\n          if (!disableClose) {\n            current.removeEventListener(\"click\", clickHandler);\n          }\n        }\n        if (!disableClose) {\n          window.removeEventListener(\"keyup\", keyHandler);\n        }\n      };\n    }\n  }, [fetchState.isOpen, fetchState.modal]);\n\n  useEffect(() => {\n    if (fetchState.isOpen && !withBackdrop && !inPlace) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: fetchState.children,\n          classes: fetchState.classes,\n        })\n      );\n    } else if (fetchState.isOpen) {\n      window.setTimeout(() => {\n        document.activeElement.blur();\n        dispatchFetch({ type: \"setActive\", active: fetchState.isOpen });\n      }, 10);\n    }\n  }, [fetchState.isOpen]);\n\n  useEffect(() => {\n    let id;\n    if (fetchState.isOpen && useTimer) {\n      id = setTimeout(\n        () => {\n          closeModal();\n        },\n        timeOut ? timeOut : 5000\n      );\n    }\n    return () => {\n      if (useTimer) {\n        clearTimeout(id);\n      }\n    };\n  }, [fetchState.isOpen]);\n\n  useEffect(() => {\n    if (withBackdrop) {\n      dispatchFetch({\n        type: \"setModal\",\n        modal: (\n          <div>\n            {(fetchState.isOpen || fetchState.active) && (\n              <Portal>\n                <div\n                  ref={backdrop}\n                  className={classnames(\"backdrop\", {\n                    \"bd-active\": fetchState.active && fetchState.isOpen,\n                  })}\n                >\n                  <div\n                    className={classnames(\"modal\", {\n                      \"mdl-active\": fetchState.active && fetchState.isOpen,\n                    })}\n                  >\n                    {disableClose && (\n                      <div className=\"mdl-close-button\" onClick={closeModal}>\n                        <FiX />\n                      </div>\n                    )}\n                    {fetchState.children}\n                  </div>\n                </div>\n              </Portal>\n            )}\n          </div>\n        ),\n      });\n    } else if (inPlace) {\n      dispatchFetch({\n        type: \"setModal\",\n        modal: (\n          <div\n            className={classnames(\"mdl-inpl\", fetchState.classes, {\n              \"mdl-inpl-active\": fetchState.active && fetchState.isOpen,\n            })}\n          >\n            {fetchState.children}\n          </div>\n        ),\n      });\n    } else {\n      <></>;\n    }\n  }, [fetchState.active, fetchState.isOpen, fetchState.children]);\n\n  return [fetchState.modal, showModal, closeModal, fetchState.isOpen];\n};\n\nexport default useModal;\n","import { useState, useEffect } from \"react\";\n\nconst useWidth = (breakpoint = 600) => {\n  const [width, setWidth] = useState(window.innerWidth);\n  const [isDesktop, setDesktop] = useState(window.innerWidth >= breakpoint);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth);\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isDesktop && width < breakpoint) {\n      setDesktop(false);\n    } else if (!isDesktop && width >= breakpoint) {\n      setDesktop(true);\n    }\n  }, [width]);\n  return isDesktop;\n};\n\nexport default useWidth;\n","import { useState, useEffect } from \"react\";\nimport { useRequest, useForm, useModal } from \"../../hooks/hooks\";\nimport validation from \"../../form_validation/validation\";\nimport Spinner from \"../UI/Spinner\";\nimport \"./uploadImage.css\";\n\nconst UploadImage = ({\n  title,\n  closeModal,\n  uploadFileAPI,\n  imageUrlAPI,\n  deleteImageAPI,\n}) => {\n  const [method, setMethod] = useState(null);\n  const [image, setImage] = useState();\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [modal, showModal] = useModal({\n    withBackdrop: false,\n    useTimer: true,\n    inPlace: true,\n  });\n\n  const onSubmit = (e) => {\n    e && e.preventDefault();\n    if (method === \"upload\") {\n      if (image.size > 1000000) {\n        showModal(\"Image size should be less then 1mb\", \"mdl-error\");\n      } else {\n        const imageData = new FormData();\n        imageData.append(\"file\", image);\n        sendRequest(uploadFileAPI, \"POST\", imageData);\n      }\n    }\n  };\n\n  const deleteImage = () => {\n    sendRequest(deleteImageAPI, \"POST\", {});\n  };\n  const uploadImageUrl = () => {\n    sendRequest(imageUrlAPI, \"POST\", formData);\n  };\n\n  const handleInputFileChange = (event) => {\n    event && event.preventDefault();\n    setImage(event.target.files[0]);\n  };\n\n  const [, handleSubmit, handleInputChange, formData, formErrors] = useForm(\n    { url: \"\" },\n    uploadImageUrl,\n    validation\n  );\n\n  const resetMethod = () => {\n    setMethod(null);\n  };\n\n  useEffect(() => {\n    if (data && data.message) {\n      showModal(data.message, \"mdl-ok\");\n      resetMethod();\n    } else if (error) {\n      showModal(error, \"mdl-error\");\n    }\n  }, [data, error]);\n\n  return (\n    <div className=\"upload-image\">\n      {isLoading && <Spinner />}\n      {title && <h3>{title}</h3>}\n      <a\n        onClick={() => {\n          setMethod(\"url\");\n        }}\n      >\n        Save image url\n      </a>\n      <a\n        onClick={() => {\n          setMethod(\"upload\");\n        }}\n      >\n        Upload photo\n      </a>\n      <a\n        onClick={() => {\n          setMethod(\"delete\");\n        }}\n      >\n        Delete photo\n      </a>\n\n      {method === \"upload\" && (\n        <form encType=\"multipart/form-data\">\n          <input\n            type=\"file\"\n            name=\"image_url\"\n            accept=\"image/*\"\n            onChange={handleInputFileChange}\n          ></input>\n          <button onClick={onSubmit}>Submit</button>\n          <button onClick={resetMethod}>Cancel</button>\n        </form>\n      )}\n\n      {method === \"url\" && (\n        <form>\n          <input\n            placeholder={\"Enter image url\"}\n            type=\"text\"\n            name={\"url\"}\n            onChange={handleInputChange}\n            value={formData.url || \"\"}\n          ></input>\n          <div className=\"form-danger\">{formErrors.url && formErrors.url}</div>\n\n          <button onClick={handleSubmit}>Submit</button>\n          <button onClick={resetMethod}>Cancel</button>\n        </form>\n      )}\n\n      {method === \"delete\" && (\n        <div>\n          <p>Delete image? Are you sure?</p>\n          <button onClick={resetMethod}>No</button>\n          <button\n            onClick={() => {\n              setMethod(\"delete-confirmed\");\n              deleteImage();\n            }}\n          >\n            Yes\n          </button>\n        </div>\n      )}\n\n      {method === \"delete-confirmed\" && <p>Image is deleting...</p>}\n\n      {data && (\n        <button\n          onClick={() => {\n            closeModal();\n            window.location.reload();\n          }}\n        >\n          Close\n        </button>\n      )}\n\n      {modal}\n    </div>\n  );\n};\n\nexport default UploadImage;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { loadJSON, saveJSON } from \"../utils/localStorage\";\n\nconst storage = loadJSON(\"app_data\");\n\nexport const profileSlice = createSlice({\n  name: \"profile\",\n  initialState: {\n    username: null,\n    first_name: storage ? storage.first_name : null,\n    last_name: null,\n    email: null,\n    profile_addr: null,\n    zip_code: null,\n    address: null,\n    image_url: storage ? storage.image_url : null,\n    image_back_url: storage ? storage.image_back_url : null,\n    email_verified: storage ? storage.email_verified : null,\n    city: storage ? storage.city : null,\n    us_state: storage ? storage.us_state : null,\n    created_at: storage ? storage.created_at : null,\n  },\n  reducers: {\n    updateProfile: (state, actions) => {\n      const {\n        username,\n        first_name,\n        last_name,\n        email,\n        profile_addr,\n        zip_code,\n        address,\n        image_url,\n        image_back_url,\n        email_verified,\n        city,\n        us_state,\n        created_at,\n      } = actions.payload;\n\n      saveJSON(\"app_data\", {\n        first_name: first_name,\n        image_url: image_url,\n        image_back_url: image_back_url,\n        email_verified: email_verified,\n        city: city,\n        us_state: us_state,\n        created_at: created_at,\n      });\n\n      state.username = username;\n      state.first_name = first_name;\n      state.last_name = last_name;\n      state.email = email;\n      state.profile_addr = profile_addr;\n      state.zip_code = zip_code;\n      state.address = address;\n      state.image_url = image_url;\n      state.image_back_url = image_back_url;\n      state.email_verified = email_verified;\n      state.city = city;\n      state.us_state = us_state;\n      state.created_at = created_at;\n    },\n  },\n});\n\nexport const { updateProfile } = profileSlice.actions;\n\nexport const selectProfile = (state) => ({\n  username: state.profile.username,\n  first_name: state.profile.first_name,\n  last_name: state.profile.last_name,\n  email: state.profile.email,\n  profile_addr: state.profile.profile_addr,\n  zip_code: state.profile.zip_code,\n  address: state.profile.address,\n  image_url: state.profile.image_url,\n  image_back_url: state.profile.image_back_url,\n  email_verified: state.profile.email_verified,\n  city: state.profile.city,\n  us_state: state.profile.us_state,\n  created_at: state.profile.created_at,\n});\n\nexport default profileSlice.reducer;\n","import { useHistory } from \"react-router-dom\";\nimport { useModal } from \"../../hooks/hooks\";\nimport UploadImage from \"../UI/UploadImage\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { selectProfile } from \"../../store/profileSlice\";\nimport \"./profile.css\";\n\nconst ProfileHeader = ({ edit, profileImg, profileBackImg }) => {\n  const data = useSelector(selectProfile, shallowEqual);\n  const history = useHistory();\n\n  const [modal, showModal, closeModal] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n  });\n\n  return (\n    <>\n      {modal}\n      {data && (\n        <div className=\"prf-header\">\n          <div className=\"prf-back-block\">\n            <img\n              className=\"prf-back-img\"\n              src={profileBackImg ? profileBackImg : data.image_back_url}\n            />\n            {edit && (\n              <div>\n                <a\n                  onClick={() => {\n                    showModal(\n                      <UploadImage\n                        title=\"Set profile background image\"\n                        closeModal={closeModal}\n                        uploadFileAPI=\"/api/account/update_back_image_file\"\n                        imageUrlAPI=\"/api/account/update_back_image_url\"\n                        deleteImageAPI=\"/api/account/delete_back_image\"\n                      />\n                    );\n                  }}\n                >\n                  Edit\n                </a>\n              </div>\n            )}\n          </div>\n          <div className=\"prf-img-block\">\n            <img\n              className=\"prf-img\"\n              src={profileImg ? profileImg : data.image_url}\n            />\n            {edit && <div></div>}\n            {edit && (\n              <a\n                onClick={() => {\n                  showModal(\n                    <UploadImage\n                      title=\"Set profile image\"\n                      closeModal={closeModal}\n                      uploadFileAPI=\"/api/account/update_profile_image_file\"\n                      imageUrlAPI=\"/api/account/update_profile_image_url\"\n                      deleteImageAPI=\"/api/account/delete_profile_image\"\n                    />\n                  );\n                }}\n              >\n                Edit\n              </a>\n            )}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileHeader;\n","import { VscUnverified } from \"react-icons/vsc\";\nimport { GoVerified } from \"react-icons/go\";\n\nconst EmailConfirmIcon = ({ verified, children }) => {\n  return (\n    <div>\n      {children}\n      <span className=\"tooltip\">\n        {verified ? (\n          <GoVerified size={\"24px\"} color={\"#4e9340\"} />\n        ) : (\n          <VscUnverified size={\"24px\"} />\n        )}\n\n        <span className=\"tooltiptext\">\n          {verified ? \"Email verified\" : \"Email not verified\"}\n        </span>\n      </span>\n    </div>\n  );\n};\n\nexport default EmailConfirmIcon;\n","import EmailConfirmIcon from \"../UI/EmailConfirmIcon\";\nimport statesList from \"../../assets/data/states.json\";\nimport \"./profile.css\";\n\nconst PublicProfileInfo = ({\n  firstName,\n  emailVerified,\n  city,\n  usState,\n  joined,\n}) => {\n  return (\n    <div className=\"prf-pbl-top\">\n      <EmailConfirmIcon verified={emailVerified}>\n        <h2 className=\"inline-block\">{firstName}</h2>\n      </EmailConfirmIcon>\n\n      <p>\n        {city}, {statesList.find((elem) => elem.name === usState).abbreviation}\n      </p>\n      <p>Joined: {joined}</p>\n    </div>\n  );\n};\n\nexport default PublicProfileInfo;\n","import moment from \"moment-timezone\";\n\nexport const datetimeToLocal = (dateStr, format) => {\n  if (!dateStr || dateStr.length === 0) {\n    return \"\";\n  }\n  const dateObject = new Date(`${dateStr}+00:00`);\n  const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const today = moment().tz(timeZone);\n  const offset = today.utcOffset() / 60;\n  const currentHours = dateObject.getHours();\n  dateObject.setHours(currentHours + offset);\n  const newDateString = dateObject.toISOString().replace(\"T\", \" \").slice(0, 16);\n  //   console.log(dateObject.toDateString());\n  //   console.log(dateObject.toString());\n  if (format === \"month-year\") {\n    const monthStr = dateObject.toDateString().slice(4, 7);\n    const year = dateObject.toDateString().slice(11);\n    return `${monthStr} ${year}`;\n  }\n  return `${newDateString}`;\n};\n","import { useEffect } from \"react\";\nimport { useRequest } from \"../../hooks/hooks\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./chat.css\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport Spinner from \"../UI/Spinner\";\nimport { datetimeToLocal } from \"../../utils/datetime\";\n\nconst UserChatsPage = () => {\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const openChat = (recipientId, recipientName, recipientImg) => {\n    history.push({\n      pathname: `/chats/${recipientName}`,\n      state: {\n        recipientId: recipientId,\n        recipientName: recipientName,\n        recipientImg: recipientImg,\n      },\n    });\n  };\n\n  useEffect(() => {\n    sendRequest(\"/api/chat/get_user_chats\", \"POST\", {});\n  }, []);\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    }\n  }, [data, error, errorNum]);\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      {data &&\n        data.chats.map((chat, i) => {\n          return (\n            <div\n              key={i}\n              className=\"chat-user-chats\"\n              onClick={() =>\n                openChat(\n                  chat.recipient_id,\n                  chat.recipient_name,\n                  chat.recipient_img\n                )\n              }\n            >\n              <img className=\"chat-img\" src={chat.recipient_img} />\n              <div className=\"chat-last-msg\">\n                <b>{chat.recipient_name}</b>\n                <p>\n                  <i>{chat.last_message}</i>\n                </p>\n                <p>{datetimeToLocal(chat.last_date)}</p>\n              </div>\n            </div>\n          );\n        })}\n    </>\n  );\n};\n\nexport default UserChatsPage;\n","import { useHistory, useLocation } from \"react-router-dom\"; \nimport { useModal } from \"../../hooks/hooks\";\n\n\nconst Product = ({product, onDelete, user_id}, ) => {\n\n    const history = useHistory(); \n    const location = useLocation(); \n    const prevPath = location.pathname;\n    const divStyle = {\n        border: \"1px solid black\", \n        margin: \"5px\"\n    }\n\n    const [modal, showModal, closeModal] = useModal({\n        withBackdrop: true,\n        useTimer: false,\n        inPlace: false,\n      });\n\n    const handleClick = (product) => {\n        history.push(\"/product-info\", product)\n    }\n\n    const handleClickEdit = (product) => {\n        history.push(\"edit-product\", product)\n    }\n\n     const confirmDelete = (\n        <>\n            <h3>Are you sure to delete?</h3>\n            <button onClick={() => onDelete(product.product_id)}>Yes</button>\n            <button onClick={() => closeModal()}>No</button>\n        </>\n    );\n\n    return (\n        <>\n        {(user_id === product.user_id || prevPath === '/user-products') ? (\n            <div style={divStyle}>\n                {/* <h1>Your product</h1> */}\n                <p>{product.name}</p>\n                <p>{product.description}</p>\n                <p>${product.price}</p>\n                <button onClick={() => handleClickEdit(product)}>Edit Product</button>\n                </div>\n        ) : (\n            <div onClick={() => handleClick(product)} style={divStyle} className=\"product\">\n            <p>{product.name}</p>\n            <p>{product.description}</p>\n            <p>${product.price}</p>\n            </div>)\n        }\n            {prevPath === \"/search-results\" ? null : \n            (<button onClick={() => {\n                showModal(confirmDelete)\n                }\n                }>Delete Product</button>)}\n            {modal}\n        </>\n    )\n}\n\nexport default Product; ","import { useRequest } from \"../../hooks/hooks\";\nimport { useEffect, useState } from \"react\";\nimport Spinner from \"../UI/Spinner\";\nimport Product from \"./Product\";\n\nconst UserProducts = () => {\n  const [userProducts, setUserProducts] = useState([]);\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n\n  const getProducts = () => {\n    sendRequest(\"/api/products/products-per-user\", \"post\", null);\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  useEffect(() => {\n    if (data && data.msg === \"deleted\") {\n      getProducts();\n    } else if (data) {\n      setUserProducts(data.user_products);\n    }\n  }, [data]);\n\n  const handleDelete = (product_id) => {\n    sendRequest(\"/api/products/delete_product\", \"delete\", {\n      product_id: product_id,\n    });\n  };\n\n  return (\n    <div>\n      <h2>All your products are here! </h2>\n      {isLoading && <Spinner />}\n      {userProducts &&\n        userProducts.map((product) => {\n          return (\n            <div key={product.product_id}>\n              <Product product={product} onDelete={handleDelete} />\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default UserProducts;\n","import { useState, useEffect, useLayoutEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useRequest } from \"../../hooks/hooks\";\nimport ProfileHeader from \"./ProfileHeader\";\nimport { logout, checkAuth } from \"../../utils/localStorage\";\nimport PublicProfileInfo from \"./PublicProfileInfo\";\nimport UserChatsPage from \"../chat/UserChatsPage\";\nimport UserProducts from \"../product/UserProducts\";\nimport classnames from \"classnames\";\nimport { datetimeToLocal } from \"../../utils/datetime\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport { updateProfile, selectProfile } from \"../../store/profileSlice\";\nimport \"./profile.css\";\n\nconst Profile = ({ tab }) => {\n  const history = useHistory();\n  const [currTab, setCurrTab] = useState(tab ? tab : \"products\");\n  const profileData = useSelector(selectProfile, shallowEqual);\n  const dispatch = useDispatch();\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n\n  useLayoutEffect(() => {\n    console.log(\"test-profile\");\n    if (checkAuth() === false) {\n      logout()\n        .then(() => {\n          history.push(\"/login\");\n        })\n        .catch(() => {});\n    } else {\n      sendRequest(\"/api/account/get_profile_private\", \"POST\", {});\n    }\n  }, []);\n\n  useEffect(() => {\n    if (data && data.msg) {\n      dispatch(showMsg({ open: true, msg: data.msg, classes: \"mdl-ok\" }));\n    } else if (data) {\n      dispatch(updateProfile({ ...data }));\n    }\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    }\n  }, [data, error, errorNum]);\n\n  return (\n    <>\n      {profileData && (\n        <div className=\"profile\">\n          <ProfileHeader edit={false} />\n          <PublicProfileInfo\n            firstName={profileData.first_name}\n            emailVerified={profileData.email_verified}\n            city={profileData.city}\n            usState={profileData.us_state}\n            joined={datetimeToLocal(profileData.created_at, \"month-year\")}\n          />\n          <button\n            onClick={() => {\n              history.push(\"/profile/edit\");\n            }}\n          >\n            Edit profile\n          </button>\n          <div className=\"prf-main-menu\">\n            <hr className=\"hr-top\" />\n            <div className=\"prf-main-menu-tabs\">\n              <div\n                onClick={() => {\n                  history.push(\"/profile\");\n                  setCurrTab(\"products\");\n                }}\n                className={classnames({\n                  \"prf-main-menu-active\": currTab === \"products\",\n                })}\n              >\n                Products\n              </div>\n              <div\n                onClick={() => {\n                  history.push(\"/chats\");\n                  setCurrTab(\"chats\");\n                }}\n                className={classnames({\n                  \"prf-main-menu-active\": currTab === \"chats\",\n                })}\n              >\n                Chats\n              </div>\n            </div>\n            <hr className=\"hr-bottom\" />\n          </div>\n          <div className=\"prf-body\">\n            {currTab === \"chats\" && <UserChatsPage />}\n            {currTab === \"products\" && <UserProducts />}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Profile;\n","//to use Mapbox \nimport {useState} from \"react\";\nimport ReactMapGL, {Marker, Popup} from 'react-map-gl'; \n\n\nconst Map = () => {\n\n    const [viewport, setViewport] = useState({\n        latitude: 26.0112, \n        longitude: -80.1495, \n        width: \"100vw\", \n        height: \"100vh\", \n        zoom: 8\n    });\n    \n    return (\n        <div>\n            <ReactMapGL {...viewport}\n            mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n            mapStyles=\"mapbox://styles/arol15/ckmoaqw8a43jc17qslhph1v2k\"\n            onViewportChange={viewport => {\n                setViewport(viewport)\n            }}\n            >\n                markers here\n            </ReactMapGL>\n        </div>\n    )\n}\n\nexport default Map; ","import Product from './Product'; \nimport { useLocation } from \"react-router-dom\"; \nimport Map from \"../Map\"\n\nconst Products = () => {\n   \n    const location = useLocation(); \n    const products = location.state.products; \n\n    return (\n        <>\n        { location.state.user_id ? (products.map((product) => {\n            return (\n                <div key={product.product_id}>\n                    <Product product = {product} user_id={location.state.user_id}/>\n                </div>\n            )\n        })) : (products.map((product) => {\n            return (\n                <div key={product.product_id}>\n                    <Product product = {product}/>\n                </div>\n            )\n        }))\n    }\n    <div>\n        <Map />\n    </div>\n       </>\n    )\n}\n\nexport default Products; \n\n","import { useEffect } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { useRequest, useForm, useModal } from \"../../hooks/hooks\";\nimport statesList from \"../../assets/data/states.json\";\nimport validation from \"../../form_validation/validation\";\nimport { checkAuth } from \"../../utils/localStorage\";\nimport { useDispatch } from \"react-redux\";\nimport { updateProfile } from \"../../store/profileSlice\";\nimport Spinner from \"../UI/Spinner\";\n\nconst Auth = ({ view, inModal, closeModal, user, afterConfirm }) => {\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [modal, showModal] = useModal({\n    withBackdrop: false,\n    useTimer: true,\n    inPlace: inModal ? true : false,\n  });\n\n  checkAuth() && !inModal && history.push(\"/profile\");\n\n  const onSubmit = (e) => {\n    sendRequest(\n      view === \"login\" || view === \"confirm\"\n        ? \"/api/auth/login\"\n        : \"/api/auth/signup\",\n      \"post\",\n      formData\n    );\n  };\n\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm({}, onSubmit, validation);\n\n  useEffect(() => {\n    if (view === \"login\") {\n      setFormData({ login: \"\", password: \"\" });\n    } else if (view === \"signup\") {\n      setFormData({\n        email: \"\",\n        password: \"\",\n        confirm_pass: \"\",\n        username: \"\",\n        first_name: \"\",\n        state: \"\",\n        city: \"\",\n      });\n    } else if (view === \"confirm\") {\n      setFormData({ login: user, password: \"\" });\n    }\n  }, [view]);\n\n  useEffect(() => {\n    if (data) {\n      localStorage.setItem(\"status\", \"loggedIn\");\n      dispatch(updateProfile({ ...data }));\n      if (afterConfirm && closeModal) {\n        closeModal();\n        afterConfirm();\n      } else if (afterConfirm) {\n        afterConfirm();\n      } else if (closeModal) {\n        // history.push(\"/profile\");\n      } else {\n        history.push(\"/profile\");\n        // closeModal()\n      }\n    }\n  }, [data]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (error) {\n      showModal(error, \"mdl-error\");\n    } else if (data && data.msg) {\n      showModal(data.msg, \"mdl-ok\");\n    }\n  }, [error, errorNum, data]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div>\n      {modal}\n      {isLoading && <Spinner />}\n      {view === \"login\" && <h1>Log In</h1>}\n      {view === \"signup\" && <h1>Sign Up</h1>}\n      {view === \"confirm\" && <h1>Confirm identity</h1>}\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"auth-inputs\">\n          {view === \"login\" && (\n            <>\n              <input\n                key=\"1\"\n                type=\"text\"\n                placeholder=\"Email/Username\"\n                name=\"login\"\n                onChange={handleInputChange}\n                value={formData.login || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.login && formErrors.login}\n              </div>\n            </>\n          )}\n\n          {view === \"signup\" && (\n            <>\n              <input\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                onChange={handleInputChange}\n                value={formData.username || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.username && formErrors.username}\n              </div>\n            </>\n          )}\n\n          {view === \"signup\" && (\n            <>\n              <input\n                type=\"text\"\n                placeholder=\"Email\"\n                name=\"email\"\n                onChange={handleInputChange}\n                value={formData.email || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.email && formErrors.email}\n              </div>\n            </>\n          )}\n\n          {view === \"confirm\" && <p>{formData.login}</p>}\n          <>\n            <input\n              key=\"4\"\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              onChange={handleInputChange}\n              value={formData.password || \"\"}\n            />\n            <div className=\"form-danger\">\n              {formErrors.password && formErrors.password}\n            </div>\n          </>\n          {view === \"signup\" && (\n            <>\n              <input\n                key=\"15\"\n                type=\"password\"\n                placeholder=\"Confirm password\"\n                name=\"confirm_pass\"\n                onChange={handleInputChange}\n                value={formData.confirm_pass || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.confirm_pass && formErrors.confirm_pass}\n              </div>\n              <input\n                key=\"5\"\n                type=\"text\"\n                placeholder=\"First Name\"\n                name=\"first_name\"\n                onChange={handleInputChange}\n                value={formData.first_name || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.first_name && formErrors.first_name}\n              </div>\n              <select\n                key=\"6\"\n                placeholder=\"State\"\n                name=\"state\"\n                onChange={handleInputChange}\n                value={formData.state || \"\"}\n              >\n                <option key=\"-\" value=\"\">\n                  Select state\n                </option>\n                {statesList.map((elem) => {\n                  return (\n                    <option key={elem.abbreviation} value={statesList.name}>\n                      {elem.name}\n                    </option>\n                  );\n                })}\n              </select>\n              <div className=\"form-danger\">\n                {formErrors.state && formErrors.state}\n              </div>\n              <input\n                key=\"7\"\n                type=\"text\"\n                placeholder=\"City\"\n                name=\"city\"\n                onChange={handleInputChange}\n                value={formData.city || \"\"}\n              />\n              <div className=\"form-danger\">\n                {formErrors.city && formErrors.city}\n              </div>\n            </>\n          )}\n        </div>\n        <input key=\"8\" type=\"submit\" disabled={isLoading} />\n      </form>\n\n      {inModal ? null : view === \"login\" ? (\n        <Link to=\"/signup\">Sign Up</Link>\n      ) : (\n        <Link to=\"/login\">Login</Link>\n      )}\n      <p></p>\n      {view === \"login\" && (\n        <>\n          <Link onClick={closeModal} to=\"/reset_password\">\n            Forgot your password?\n          </Link>\n          <p></p>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Auth;\n","const NotFoundPage = () => {\n  return <h1>Page Not Found</h1>;\n};\n\nexport default NotFoundPage;\n","import { useEffect, useState } from \"react\";\nimport { useRequest } from \"../../hooks/hooks\";\nimport ProfileHeader from \"./ProfileHeader\";\nimport PublicProfileInfo from \"./PublicProfileInfo\";\nimport Spinner from \"../UI/Spinner\";\nimport { datetimeToLocal } from \"../../utils/datetime\";\nimport \"./profile.css\";\n\nconst PublicProfile = (props) => {\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n\n  useEffect(() => {\n    sendRequest(`/api/account/${props.match.params.addr}`, \"GET\", {});\n  }, []);\n  return (\n    <>\n      {isLoading && <Spinner />}\n      {error && <h1>Profile Not Found</h1>}\n      {data && (\n        <>\n          <ProfileHeader\n            edit={false}\n            profileImg={data.image_url}\n            profileBackImg={data.image_back_url}\n          />\n          <PublicProfileInfo\n            firstName={data.first_name}\n            emailVerified={data.email_verified}\n            city={data.city}\n            usState={data.us_state}\n            joined={datetimeToLocal(data.created_at, \"month-year\")}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default PublicProfile;\n","import { useEffect } from \"react\";\nimport { useRequest, useForm } from \"../../hooks/hooks\";\nimport validation from \"../../form_validation/validation\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport Spinner from \"../UI/Spinner\";\n\nconst ResetPassword = (props) => {\n  const history = useHistory();\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n\n  const dispatch = useDispatch();\n\n  const onSubmit = () => {\n    if (props.reset) {\n      sendRequest(\"/api/auth/reset_password\", \"POST\", {\n        email: formData.email,\n      });\n    } else {\n      sendRequest(\"/api/auth/reset_password_confirm\", \"POST\", {\n        password: formData.password,\n        token: props.match.params.token,\n      });\n    }\n  };\n\n  const [, handleSubmit, handleInputChange, formData, formErrors] = useForm(\n    props.reset ? { email: \"\" } : { password: \"\", confirm_pass: \"\" },\n    onSubmit,\n    validation\n  );\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data && data.msg) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: data.msg,\n          classes: \"mdl-ok\",\n        })\n      );\n      if (props.reset) {\n        history.push(\"/login\");\n      } else {\n        history.push(\"/login\");\n      }\n    }\n  }, [error, errorNum, data]);\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <h1>Reset Password</h1>\n      {props.reset ? (\n        <>\n          <p>Enter your email address below</p>\n          <form onSubmit={handleSubmit}>\n            <label>Email: </label>\n            <input\n              key=\"9\"\n              type=\"text\"\n              placeholder=\"Email\"\n              name=\"email\"\n              onChange={handleInputChange}\n              value={formData.email || \"\"}\n            />\n            <div className=\"form-danger\">\n              {formErrors.email && formErrors.email}\n            </div>\n            <input key=\"8\" type=\"submit\" disabled={isLoading} />\n          </form>\n        </>\n      ) : (\n        <>\n          <form onSubmit={handleSubmit}>\n            <label>New password: </label>\n            <input\n              key=\"4\"\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              onChange={handleInputChange}\n              value={formData.password || \"\"}\n            />\n            <div className=\"form-danger\">\n              {formErrors.password && formErrors.password}\n            </div>\n\n            <label>Confirm password: </label>\n            <input\n              key=\"15\"\n              type=\"password\"\n              placeholder=\"Confirm password\"\n              name=\"confirm_pass\"\n              onChange={handleInputChange}\n              value={formData.confirm_pass || \"\"}\n            />\n            <div className=\"form-danger\">\n              {formErrors.confirm_pass && formErrors.confirm_pass}\n            </div>\n            <input key=\"87\" type=\"submit\" disabled={isLoading} />\n          </form>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default ResetPassword;\n","import { useState, useEffect } from \"react\";\nimport Portal from \"./Portal\";\nimport classnames from \"classnames\";\nimport { clearMsg, selectModal } from \"../../store/modalSlice\";\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\nimport \"../../index.css\";\n\nconst ModalMsg = () => {\n  const { open, msg, timeOut, classes } = useSelector(\n    selectModal,\n    shallowEqual\n  );\n  const dispatch = useDispatch();\n  const [active, setActive] = useState(false);\n\n  useEffect(() => {\n    if (open) {\n      window.setTimeout(() => {\n        document.activeElement.blur();\n        setActive(open);\n      }, 10);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    let id;\n    if (open) {\n      id = setTimeout(\n        () => {\n          dispatch(clearMsg());\n        },\n        timeOut ? timeOut : 7000\n      );\n    }\n    return () => {\n      clearTimeout(id);\n    };\n  }, [open]);\n\n  useEffect(() => {\n    let id;\n    if (open) {\n      id = setTimeout(\n        () => {\n          setActive(false);\n        },\n        timeOut ? timeOut - 1000 : 6000\n      );\n    }\n    return () => {\n      clearTimeout(id);\n    };\n  }, [active]);\n\n  return (\n    <>\n      {(open || active) && (\n        <Portal>\n          <div\n            className={classnames(\"mdl-msg\", classes, {\n              \"mdl-msg-active\": active,\n            })}\n          >\n            {msg}\n          </div>\n        </Portal>\n      )}\n    </>\n  );\n};\n\nexport default ModalMsg;\n","import { useEffect, useState, useRef } from \"react\";\nimport classnames from \"classnames\";\nimport \"./dropDownMenu.css\";\nconst DropDownMenu = ({\n  children,\n  open,\n  button,\n  onClick,\n  classContainer,\n  classMenu,\n  classActive,\n}) => {\n  const [classes] = useState({\n    clContainer: classContainer ? classContainer : \"menu-container\",\n    clMenu: classMenu ? classMenu : \"menu\",\n    clActive: classActive ? classActive : \"menu-active\",\n  });\n\n  const refer = useRef(null);\n  useEffect(() => {\n    const clickEvent = (e) => {\n      if (refer.current !== null && !refer.current.contains(e.target)) {\n        onClick();\n      }\n    };\n    if (open) {\n      window.addEventListener(\"click\", clickEvent);\n\n      return () => {\n        window.removeEventListener(\"click\", clickEvent);\n      };\n    }\n  }, [open]);\n\n  return (\n    <div className={classes.clContainer}>\n      {button}\n      <nav\n        ref={refer}\n        className={classnames(classes.clMenu, { [classes.clActive]: open })}\n      >\n        <div className=\"menu-elements\">{children}</div>\n      </nav>\n    </div>\n  );\n};\n\nexport default DropDownMenu;\n","import { memo, useState } from \"react\";\nimport { MdMoreVert } from \"react-icons/md\";\nimport DropDownMenu from \"../UI/DropDownMenu\";\nimport classnames from \"classnames\";\nimport \"./chat.css\";\n\nconst Message = ({ msgId, onDeleteMsg, body, createdAt, sender, image }) => {\n  const splitMsg = body.split(\"\\n\").map((e, i) => {\n    return <p key={i}>{e}</p>;\n  });\n  const [openMenu, setOpenMenu] = useState(false);\n\n  const deleteMsg = () => {\n    onDeleteMsg(msgId);\n    setOpenMenu(!openMenu);\n  };\n\n  const onClick = () => {\n    setOpenMenu(!openMenu);\n  };\n\n  return (\n    <div\n      className={classnames(\n        \"msg-container\",\n        sender === \"Me\" ? \"msg-cnt-self\" : \"msg-cnt-reciv\"\n      )}\n    >\n      {sender !== \"Me\" && <img className=\"chat-img\" src={image} />}\n      <div\n        className={classnames(\n          \"msg-body\",\n          sender === \"Me\" ? \"msg-body-self\" : \"msg-body-reciv\"\n        )}\n      >\n        {splitMsg}\n        <p>{createdAt}</p>\n      </div>\n      {sender === \"Me\" && (\n        <DropDownMenu\n          open={openMenu}\n          button={\n            <button className=\"msg-menu-button\" onClick={onClick}>\n              <MdMoreVert />\n            </button>\n          }\n          onClick={onClick}\n        >\n          <a onClick={deleteMsg}>Delete</a>\n        </DropDownMenu>\n      )}\n    </div>\n  );\n};\n\nexport default memo(Message);\n","import { useState, useEffect, useRef } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { useRequest, useForm } from \"../../hooks/hooks\";\nimport validation from \"../../form_validation/validation\";\nimport Message from \"./Message\";\nimport Spinner from \"../UI/Spinner\";\nimport { IoReload, IoArrowBack } from \"react-icons/io5\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport { datetimeToLocal } from \"../../utils/datetime\";\n\nconst Chat = () => {\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [\n    isLoadingMsg,\n    dataMsg,\n    errorMsg,\n    errorNumMsg,\n    processMsg,\n  ] = useRequest();\n  const [chatMsgs, setChatMsgs] = useState(null);\n  const bottom = useRef();\n  const location = useLocation();\n  const [chatState, setChatState] = useState(\n    location.state ? { ...location.state } : null\n  );\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const onSubmit = (e) => {\n    processMsg(\"/api/chat/send_message\", \"POST\", formData, true);\n  };\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm(\n    { body: \"\", recipient_id: chatState && chatState.recipientId },\n    onSubmit,\n    validation\n  );\n\n  const onDeleteMsg = (msgId) => {\n    processMsg(\"/api/chat/delete_message\", \"DELETE\", { msg_id: msgId }, true);\n  };\n\n  useEffect(() => {\n    if (!chatState) {\n      history.push(\"/chats\");\n    }\n    sendRequest(\"/api/chat/get_chat_between_users\", \"POST\", {\n      recipient_id: chatState && chatState.recipientId,\n    });\n  }, []);\n\n  const getMessages = (e) => {\n    e && e.preventDefault();\n    sendRequest(\"/api/chat/get_chat_messages\", \"POST\", {\n      chat_id: data.chat_id,\n    });\n  };\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data) {\n      setFormData({ ...formData, chat_id: data.chat_id });\n      setChatMsgs([...data.msgs]);\n    }\n  }, [error, errorNum, data]);\n\n  useEffect(() => {\n    if (errorMsg) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: errorMsg,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (dataMsg) {\n      getMessages();\n      setFormData({ ...formData, body: \"\" });\n    }\n  }, [dataMsg, errorMsg, errorNumMsg]);\n\n  useEffect(() => {\n    bottom.current && bottom.current.scrollIntoView();\n  }, [chatMsgs]);\n\n  return (\n    chatState && (\n      <div className=\"chat\">\n        {isLoading && <Spinner />}\n        <div className=\"chat-header\">\n          <h1>Chat with {chatState && chatState.recipientName}</h1>\n          <button\n            onClick={() => {\n              history.goBack();\n            }}\n            className=\"chat-back-button\"\n          >\n            <IoArrowBack />\n          </button>\n        </div>\n        <div className=\"chat-scroll\">\n          {chatMsgs &&\n            chatMsgs.map((msg, i) => {\n              const sender =\n                parseInt(msg.sender_id) ===\n                parseInt(chatState && chatState.recipientId)\n                  ? chatState && chatState.recipientName\n                  : \"Me\";\n              return (\n                <div key={i} ref={i === chatMsgs.length - 1 ? bottom : null}>\n                  <Message\n                    msgId={msg.msg_id}\n                    onDeleteMsg={onDeleteMsg}\n                    createdAt={datetimeToLocal(msg.created_at)}\n                    sender={sender}\n                    body={msg.body}\n                    image={msg.sender_img}\n                  />\n                </div>\n              );\n            })}\n        </div>\n        {chatMsgs && (\n          <div className=\"chat-footer\">\n            <form>\n              <textarea\n                rows={3}\n                type=\"text\"\n                name=\"body\"\n                onChange={handleInputChange}\n                value={formData.body || \"\"}\n              ></textarea>\n              <div className=\"form-danger\">\n                {formErrors.body && formErrors.body}\n              </div>\n              <button onClick={handleSubmit}>Send</button>\n              <button onClick={getMessages}>\n                <IoReload />\n              </button>\n            </form>\n          </div>\n        )}\n      </div>\n    )\n  );\n};\n\nexport default Chat;\n","import { useState } from \"react\";\nimport Auth from \"../../components/auth/Auth\";\nimport \"./auth.css\";\nimport classnames from \"classnames\";\nimport { SwitchTransition, CSSTransition } from \"react-transition-group\";\n\nconst AuthModal = ({ closeModal, afterConfirm }) => {\n  const [view, setView] = useState(\"login\");\n\n  const switchComponents = () => {\n    if (view === \"login\") {\n      setView(\"signup\");\n    } else {\n      setView(\"login\");\n    }\n  };\n  return (\n    <div>\n      <button\n        disabled={view === \"login\"}\n        className={classnames(\"authButton\", { active: view === \"login\" })}\n        onClick={switchComponents}\n      >\n        Log In\n      </button>\n      <button\n        disabled={view === \"signup\"}\n        className={classnames(\"authButton\", { active: view === \"signup\" })}\n        onClick={switchComponents}\n      >\n        Sign Up\n      </button>\n\n      <SwitchTransition>\n        <CSSTransition\n          key={view}\n          addEndListener={(node, done) =>\n            node.addEventListener(\"transitionend\", done, false)\n          }\n          classNames=\"fade\"\n        >\n          {view === \"signup\" ? (\n            <Auth\n              view={view}\n              inModal={true}\n              closeModal={closeModal}\n              afterConfirm={afterConfirm}\n            />\n          ) : (\n            <Auth\n              view={view}\n              inModal={true}\n              closeModal={closeModal}\n              afterConfirm={afterConfirm}\n            />\n          )}\n        </CSSTransition>\n      </SwitchTransition>\n    </div>\n  );\n};\n\nexport default AuthModal;\n","import { useState } from \"react\";\nimport classnames from \"classnames\";\nimport \"./toggleInput.css\";\n\nconst ToggleInput = ({\n  name,\n  handleInputChange,\n  inputValue,\n  formData,\n  setFormData,\n}) => {\n  const [posLeft, setPos] = useState(true);\n\n  const onClick = () => {\n    if (posLeft) {\n      setPos(false);\n    } else {\n      setFormData({ ...formData, [name]: 0 });\n      setPos(true);\n    }\n  };\n\n  return (\n    <div className=\"switch\">\n      <span\n        className={classnames(\"switch-click\", { \"switch-click-left\": posLeft })}\n        onClick={onClick}\n      ></span>\n      <span\n        className={classnames(\"switch-text\", { \"switch-text-right\": !posLeft })}\n      >\n        Free\n      </span>\n      <span\n        className={classnames(\"slider\", { \"slider-right\": !posLeft })}\n      ></span>\n\n      <input\n        className={classnames(\"switch-input\", { \"switch-input-hide\": posLeft })}\n        type=\"number\"\n        name={name}\n        placeholder={\"$\"}\n        onChange={handleInputChange}\n        value={inputValue}\n      ></input>\n      <span\n        className={classnames(\"input-label\", { \"input-label-hide\": posLeft })}\n      >\n        Enter price\n      </span>\n    </div>\n  );\n};\n\nexport default ToggleInput;\n","import { useEffect } from \"react\";\nimport validation from \"../../form_validation/validation\";\nimport { useRequest, useForm } from \"../../hooks/hooks\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./AddProduct.css\";\nimport AuthModal from \"../auth/AuthModal\";\nimport { useModal } from \"../../hooks/hooks\";\nimport { checkAuth } from \"../../utils/localStorage\";\nimport ToggleInput from \"../UI/ToggleInput\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport { useDispatch } from \"react-redux\";\nimport Spinner from \"../UI/Spinner\";\n\nconst AddProduct = () => {\n  const history = useHistory();\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const dispatch = useDispatch();\n  const [modal, showModal, closeModal] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n    disableClose: true,\n  });\n\n  const onSubmit = () => {\n    sendRequest(\"/api/products/add-product\", \"post\", formData);\n  };\n\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm(\n    {\n      name: \"\",\n      product_type: \"\",\n      image_urls: [],\n      price: 0,\n      status: \"\",\n      description: \"\",\n    },\n    onSubmit,\n    validation\n  );\n\n  const handleAfterConfirm = () => {\n    closeModal();\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    if (!checkAuth()) {\n      showModal(<AuthModal afterConfirm={handleAfterConfirm} />);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: \"Product has been added!\",\n          classes: \"mdl-ok\",\n        })\n      );\n      history.push(\"/user-products\");\n    }\n  }, [data, error, errorNum]);\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <div className=\"add-product\">\n        <h2>Share Your Product</h2>\n        <form onSubmit={handleSubmit}>\n          <label>Name of your product</label>\n          <input\n            className=\"add-product-input\"\n            placeholder=\"Name\"\n            type=\"text\"\n            name=\"name\"\n            onChange={handleInputChange}\n            value={formData.name || \"\"}\n          />\n          <div className=\"form-danger\">\n            {formErrors.name && formErrors.name}\n          </div>\n          <label>Product Type:</label>\n          <select\n            name=\"product_type\"\n            onChange={handleInputChange}\n            value={formData.product_type || \"\"}\n          >\n            <option>Select Product Type</option>\n            <option>Fruit</option>\n            <option>Vegetable</option>\n            <option>Herb</option>\n            <option>Other</option>\n          </select>\n          <div className=\"form-danger\">\n            {formErrors.product_type && formErrors.product_type}\n          </div>\n          <label>Pictures</label>\n          <input\n            className=\"add-product-input\"\n            type=\"file\"\n            name=\"image_urls\"\n            onChange={handleInputChange}\n            value={formData.image_urls || \"\"}\n          />\n          <label>Price: </label>\n          <ToggleInput\n            name=\"price\"\n            handleInputChange={handleInputChange}\n            inputValue={formData.price || \"\"}\n            setFormData={setFormData}\n            formData={formData}\n          />\n          <label>Description: </label>\n          <textarea\n            rows={3}\n            placeholder=\"Describe your product\"\n            type=\"textarea\"\n            name=\"description\"\n            onChange={handleInputChange}\n            value={formData.description || \"\"}\n          />\n          <div className=\"form-danger\">\n            {formErrors.description && formErrors.description}\n          </div>\n          <button>Add Product</button>\n        </form>\n      </div>\n      {modal}\n    </>\n  );\n};\n\nexport default AddProduct;\n","import { useLocation, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport useRequest from \"../../hooks/useRequest\";\nimport { checkAuth } from \"../../utils/localStorage\";\nimport AuthModal from \"../auth/AuthModal\";\nimport { useModal } from \"../../hooks/hooks\";\nimport Spinner from \"../UI/Spinner\";\n\nconst ProductDetails = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const user_id = location.state.user_id;\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [info, setInfo] = useState({});\n\n  const [modal, showModal, closeModal] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n  });\n\n  const openChat = (recipientId, recipientName, recipientImg) => {\n    history.push({\n      pathname: `/chats/${recipientName}`,\n      state: {\n        recipientId: recipientId,\n        recipientName: recipientName,\n        recipientImg: recipientImg,\n      },\n    });\n  };\n\n  const handleAfterConfirm = () => {\n    openChat(location.state.user_id, info.first_name, info.image_url);\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    sendRequest(`/api/products/product-location-info/${user_id}`, \"get\");\n  }, []);\n\n  useEffect(() => {\n    if (data) {\n      setInfo(data.product_details);\n    }\n  }, [data]);\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <div>\n        <div>Product: {location.state.name}</div>\n        <p>About this product: {location.state.description}</p>\n        <div>\n          Location for map: {info.lat} and {info.lgt}\n        </div>\n        {checkAuth() ? (\n          <button\n            onClick={() =>\n              openChat(location.state.user_id, info.first_name, info.image_url)\n            }\n          >\n            Connect with seller\n          </button>\n        ) : (\n          <button\n            onClick={() =>\n              showModal(<AuthModal afterConfirm={handleAfterConfirm} />)\n            }\n          >\n            Connect with Seller\n          </button>\n        )}\n      </div>\n      {modal}\n    </>\n  );\n};\n\nexport default ProductDetails;\n","import { useState } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport \"./MainNavbar.css\";\nimport { checkAuth, logout } from \"../utils/localStorage\";\nimport { useModal } from \"../hooks/hooks\";\nimport AuthModal from \"../components/auth/AuthModal\";\nimport DropDownMenu from \"../components/UI/DropDownMenu\";\nimport { shallowEqual, useSelector, useDispatch } from \"react-redux\";\nimport { selectProfile } from \"../store/profileSlice\";\nimport { showMsg } from \"../store/modalSlice\";\n\nconst MainNavbar = () => {\n  const history = useHistory();\n  const { image_url } = useSelector(selectProfile, shallowEqual);\n  const dispatch = useDispatch();\n  const [modal, showModal, closeModal] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n  });\n\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n\n  const logoutUser = (val) => {\n    if (val) {\n      logout()\n        .then(() => {\n          history.push(\"/\");\n        })\n        .catch((error) => {\n          dispatch(\n            showMsg({\n              open: true,\n              msg: error,\n              classes: \"mdl-error\",\n            })\n          );\n        });\n    }\n    closeModal();\n    setShowProfileMenu(false);\n  };\n\n  const confirmLogout = (\n    <>\n      <p>Are you sure to logout?</p>\n      <button onClick={() => logoutUser(true)}>Yes</button>\n      <button onClick={() => logoutUser(false)}>No</button>\n    </>\n  );\n\n  const onClickProfile = () => {\n    setShowProfileMenu(!showProfileMenu);\n  };\n\n  return (\n    <>\n      <nav className=\"main-navbar\">\n        <div className=\"main-navbar-logo\">\n          <Link to=\"/\">instaHarvest</Link>\n        </div>\n        <div>\n          <Link to=\"/add-product\">Share your Product</Link>\n        </div>\n        {checkAuth() ? (\n          <>\n            <DropDownMenu\n              open={showProfileMenu}\n              button={\n                <div>\n                  <img\n                    className=\"main-navbar-profile\"\n                    src={image_url}\n                    onClick={onClickProfile}\n                    alt=\"\"\n                  />\n                </div>\n              }\n              onClick={onClickProfile}\n            >\n              <Link onClick={onClickProfile} to=\"/profile\">\n                Profile\n              </Link>\n\n              <a\n                onClick={() => {\n                  showModal(confirmLogout);\n                }}\n              >\n                Logout\n              </a>\n            </DropDownMenu>\n          </>\n        ) : (\n          <div className=\"main-navbar-links\">\n            <a\n              onClick={() =>\n                showModal(\n                  <AuthModal\n                    afterConfirm={() => {\n                      closeModal();\n                      history.push(\"/profile\");\n                    }}\n                  />\n                )\n              }\n            >\n              Sign In\n            </a>\n          </div>\n        )}\n      </nav>\n      {modal}\n    </>\n  );\n};\n\nexport default MainNavbar;\n","import { useLocation, useHistory } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { useRequest, useForm } from \"../../hooks/hooks\";\nimport { useDispatch } from \"react-redux\";\nimport { showMsg } from \"../../store/modalSlice\";\n\nimport validation from \"../../form_validation/validation\";\nimport \"./EditProduct.css\";\n\nconst EditProduct = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const product = location.state;\n\n  const onSubmit = () => {\n    sendRequest(\n      `/api/products/edit-product/${product.product_id}`,\n      \"patch\",\n      formData\n    );\n  };\n\n  const dispatch = useDispatch();\n  const [, data, error, errorNum, sendRequest] = useRequest();\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm(\n    {\n      name: product.name,\n      product_type: product.product_type,\n      image_urls: product.urls,\n      price: product.price,\n      status: product.status,\n      description: product.description,\n    },\n    onSubmit,\n    validation\n  );\n\n  useEffect(() => {\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (data) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: \"Product has been added!\",\n          classes: \"mdl-ok\",\n        })\n      );\n      history.push(\"/user-products\");\n    }\n  }, [data, error, errorNum]);\n\n  return (\n    <div className=\"edit-product\">\n      <h2>Edit Your Product</h2>\n      <form onSubmit={handleSubmit}>\n        <label>Name of your product</label>\n        <input\n          placeholder=\"Name\"\n          type=\"text\"\n          name=\"name\"\n          onChange={handleInputChange}\n          value={formData.name}\n        />\n        <label>Product Type:</label>\n        <select\n          name=\"product_type\"\n          onChange={handleInputChange}\n          value={formData.product_type}\n        >\n          <option>Select Product Type</option>\n          <option>Fruit</option>\n          <option>Vegetable</option>\n          <option>Herb</option>\n          <option>Other</option>\n        </select>\n        <label>Pictures</label>\n        <input\n          type=\"file\"\n          name=\"image_urls\"\n          onChange={handleInputChange}\n          value={formData.image_urls}\n        />\n        <label>Price: </label>\n        <input\n          placeholder=\"$0.00\"\n          type=\"number\"\n          name=\"price\"\n          onChange={handleInputChange}\n          value={formData.price}\n        />\n        <label>Description: </label>\n        <textarea\n          placeholder=\"Describe your product\"\n          type=\"textarea\"\n          name=\"description\"\n          onChange={handleInputChange}\n          value={formData.description}\n        />\n        <button>Save Changes</button>\n        <button\n          onClick={() => {\n            history.push(\"/user-products\");\n          }}\n        >\n          Cancel\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProduct;\n","import { useState, useEffect } from \"react\";\nimport { useRequest, useModal, useForm } from \"../../hooks/hooks\";\nimport Auth from \"../auth/Auth\";\nimport statesList from \"../../assets/data/states.json\";\nimport validation from \"../../form_validation/validation\";\nimport Spinner from \"../UI/Spinner\";\nimport \"./profile.css\";\n\nconst ProfileFild = (props) => {\n  const [editState, setEditState] = useState(false);\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [modalLogin, showModalLogin, onClose] = useModal({\n    withBackdrop: true,\n    useTimer: false,\n    inPlace: false,\n  });\n\n  const onSubmit = () => {\n    sendRequest(`/api/account${props.api}`, props.method, formData);\n  };\n\n  const [\n    setFormData,\n    handleSubmit,\n    handleInputChange,\n    formData,\n    formErrors,\n  ] = useForm({ [props.name]: props.value }, onSubmit, validation);\n  useEffect(() => {\n    if (error && errorNum !== 403) {\n      props.sendMsg(error, \"mdl-error\");\n    } else if (data && data.msg) {\n      props.sendMsg(data.msg, \"mdl-ok\");\n      props.update();\n      setEditState(false);\n    }\n  }, [data, error]);\n\n  useEffect(() => {\n    if (errorNum === 403) {\n      showModalLogin(\n        <Auth\n          view={\"confirm\"}\n          inModal={true}\n          closeModal={onClose}\n          afterConfirm={handleSubmit}\n          user={props.user}\n        />\n      );\n    }\n  }, [errorNum]);\n\n  return (\n    <>\n      {modalLogin}\n      {isLoading && <Spinner />}\n      <b>{props.title}:</b>\n      {editState ? (\n        <div>\n          <form onSubmit={handleSubmit}>\n            {props.name === \"us_state\" && (\n              <>\n                <select\n                  key=\"6\"\n                  placeholder=\"State\"\n                  name=\"us_state\"\n                  onChange={handleInputChange}\n                  value={formData.us_state || \"\"}\n                >\n                  <option key=\"-\" value=\"\">\n                    Select state\n                  </option>\n                  {statesList.map((elem) => {\n                    return (\n                      <option key={elem.abbreviation} value={statesList.name}>\n                        {elem.name}\n                      </option>\n                    );\n                  })}\n                </select>\n                <div className=\"form-danger\">\n                  {formErrors.us_state && formErrors.us_state}\n                </div>\n              </>\n            )}\n\n            {props.name === \"password\" && (\n              <div className=\"prf-change-pass\">\n                <input\n                  placeholder=\"New password\"\n                  type=\"password\"\n                  name={props.name}\n                  onChange={handleInputChange}\n                  value={formData[props.name] || \"\"}\n                ></input>\n                <p></p>\n                <input\n                  placeholder=\"Confirm new password\"\n                  type=\"password\"\n                  name=\"confirm_pass\"\n                  onChange={handleInputChange}\n                  value={formData.confirm_pass || \"\"}\n                ></input>\n                <div className=\"form-danger\">\n                  {formErrors.confirm_pass && formErrors.confirm_pass}\n                </div>\n              </div>\n            )}\n\n            {props.name !== \"us_state\" && props.name !== \"password\" && (\n              <>\n                <input\n                  placeholder={\"\"}\n                  type=\"text\"\n                  name={props.name}\n                  onChange={handleInputChange}\n                  value={formData[props.name] || \"\"}\n                ></input>\n                <div className=\"form-danger\">\n                  {formErrors[props.name] && formErrors[props.name]}\n                </div>\n              </>\n            )}\n\n            <div>\n              <input type=\"submit\" disabled={isLoading}></input>\n              <button\n                onClick={() => {\n                  setEditState(false);\n                  setFormData({ [props.name]: props.value });\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </form>\n        </div>\n      ) : (\n        <>\n          {props.name === \"password\" ? (\n            <p></p>\n          ) : props.value ? (\n            props.children\n          ) : (\n            <p>Empty</p>\n          )}\n          <a\n            onClick={() => {\n              setEditState(true);\n            }}\n          >\n            {props.name === \"password\" ? \"Change password\" : \"Edit\"}\n          </a>\n        </>\n      )}\n\n      <br />\n    </>\n  );\n};\n\nexport default ProfileFild;\n","import { useState, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport { FiUser, FiUsers, FiHome, FiMenu, FiX } from \"react-icons/fi\";\nimport { useHistory } from \"react-router-dom\";\nimport { useWidth } from \"../../hooks/hooks\";\n\nconst ProfileSideMenu = ({ currTab }) => {\n  const history = useHistory();\n  const [showMenu, setShowMenu] = useState(false);\n  const isDesktop = useWidth(1300);\n  const toggleMenu = () => {\n    setShowMenu(!showMenu);\n  };\n\n  const closeOnMobile = () => {\n    if (!isDesktop) {\n      setShowMenu(false);\n    }\n  };\n\n  useEffect(() => {\n    setShowMenu(isDesktop);\n  }, [isDesktop]);\n\n  return (\n    <div\n      className={classnames(\"prf-side-menu\", {\n        \"prf-side-menu-closed\": !showMenu,\n      })}\n    >\n      <div className=\"prf-side-content\">\n        <div onClick={toggleMenu} className=\"prf-side-hamb\">\n          {showMenu ? <FiX /> : <FiMenu />}\n        </div>\n        <p\n          className={classnames({ \"prf-side-active\": !currTab })}\n          onClick={() => {\n            currTab && history.push(\"/profile/edit\");\n            closeOnMobile();\n          }}\n        >\n          <span>\n            <FiUsers />\n          </span>\n\n          <span\n            className={classnames(\"prf-side-title\", {\n              \"prf-side-title-closed\": !showMenu,\n            })}\n          >\n            Public information\n          </span>\n        </p>\n        <p\n          className={classnames({ \"prf-side-active\": currTab === \"private\" })}\n          onClick={() => {\n            currTab !== \"private\" && history.push(\"/profile/edit/private\");\n            closeOnMobile();\n          }}\n        >\n          <span>\n            <FiUser />\n          </span>\n          <span\n            className={classnames(\"prf-side-title\", {\n              \"prf-side-title-closed\": !showMenu,\n            })}\n          >\n            Private information\n          </span>\n        </p>\n        <p\n          className={classnames({ \"prf-side-active\": currTab === \"address\" })}\n          onClick={() => {\n            currTab !== \"address\" && history.push(\"/profile/edit/address\");\n            closeOnMobile();\n          }}\n        >\n          <span>\n            <FiHome />\n          </span>\n          <span\n            className={classnames(\"prf-side-title\", {\n              \"prf-side-title-closed\": !showMenu,\n            })}\n          >\n            Address\n          </span>\n        </p>\n      </div>\n      <div className=\"prf-side-back\">\n        <div\n          className={classnames(\"prf-back-left\", {\n            \"prf-back-left-closed\": !showMenu,\n          })}\n        ></div>\n        <div\n          className={classnames(\"prf-back-right\", {\n            \"prf-back-right-closed\": !showMenu,\n          })}\n        ></div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileSideMenu;\n","const config = {\n  baseUrl: \"http://www.instaharvest.net/\",\n};\n\nexport default config;\n","import { useState, useEffect } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { useRequest, useWidth } from \"../../hooks/hooks\";\nimport ProfileField from \"./ProfileField\";\nimport ProfileHeader from \"./ProfileHeader\";\nimport EmailConfirmIcon from \"../UI/EmailConfirmIcon\";\nimport ProfileSideMenu from \"./ProfileSideMenu\";\nimport { showMsg } from \"../../store/modalSlice\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { updateProfile, selectProfile } from \"../../store/profileSlice\";\nimport Spinner from \"../UI/Spinner\";\nimport config from \"../../config\";\nimport \"./profile.css\";\n\nconst Profile = ({ tab }) => {\n  const profileData = useSelector(selectProfile, shallowEqual);\n  const dispatch = useDispatch();\n  const [currTab, setCurrTab] = useState(tab);\n  const [isLoading, data, error, errorNum, sendRequest] = useRequest();\n  const [\n    ,\n    dataEmailReq,\n    errorEmailReq,\n    errorNumEmailReq,\n    sendEmailRequest,\n  ] = useRequest();\n  const history = useHistory();\n  const updateProfileData = () => {\n    sendRequest(\"/api/account/get_profile_private\", \"POST\", {});\n  };\n\n  useEffect(() => {\n    if (!profileData.email) {\n      updateProfileData();\n    }\n  }, []);\n\n  useEffect(() => {\n    setCurrTab(tab);\n  }, [tab]);\n\n  useEffect(() => {\n    if (data && data.msg) {\n      dispatch(showMsg({ open: true, msg: data.msg, classes: \"mdl-ok\" }));\n    } else if (data) {\n      dispatch(updateProfile({ ...data }));\n    }\n    if (error) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: error,\n          classes: \"mdl-error\",\n        })\n      );\n    }\n  }, [data, error, errorNum]);\n\n  useEffect(() => {\n    if (errorEmailReq) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: errorEmailReq,\n          classes: \"mdl-error\",\n        })\n      );\n    } else if (dataEmailReq && dataEmailReq.msg) {\n      dispatch(\n        showMsg({\n          open: true,\n          msg: dataEmailReq.msg,\n          classes: \"mdl-ok\",\n        })\n      );\n    }\n  }, [dataEmailReq, errorEmailReq, errorNumEmailReq]);\n\n  const sendMessage = (msg, classes) => {\n    dispatch(\n      showMsg({\n        open: true,\n        msg: msg,\n        classes: classes,\n      })\n    );\n  };\n\n  const resendConfirmEmail = () => {\n    sendEmailRequest(\"/api/auth/resend_email\", \"POST\", {}, true);\n  };\n\n  return (\n    <>\n      {isLoading && <Spinner />}\n      <ProfileHeader edit={true} />\n      <button\n        className=\"prf-return-button\"\n        onClick={() => {\n          history.push(\"/profile\");\n        }}\n      >\n        Return to profile\n      </button>\n\n      {profileData && (\n        <div className=\"prf-edit\">\n          <ProfileSideMenu currTab={currTab} />\n          <div className=\"prf-col\"></div>\n          {!currTab && (\n            <div className=\"prf-block\">\n              <h2>Public Information</h2>\n              <p></p>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"first_name\"\n                  title=\"First name\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.first_name}\n                >\n                  <p>{profileData.first_name}</p>\n                </ProfileField>\n                <hr />\n              </div>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"profile_addr\"\n                  title=\"Profile address\"\n                  api=\"/edit_profile_address\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.profile_addr}\n                >\n                  <p>\n                    <Link to={`/profile/${profileData.profile_addr}`}>\n                      {config.baseUrl}\n                      {profileData.profile_addr}\n                    </Link>\n                  </p>\n                </ProfileField>\n                <hr />\n              </div>\n            </div>\n          )}\n\n          {currTab === \"private\" && (\n            <div className=\"prf-block\">\n              <div className=\"\">\n                <h2>Private information</h2>\n                <div className=\"prf-field\">\n                  <ProfileField\n                    name=\"new_email\"\n                    title=\"Email\"\n                    api=\"/request_change_email\"\n                    method=\"POST\"\n                    update={updateProfileData}\n                    sendMsg={sendMessage}\n                    user={profileData.email}\n                    value={profileData.email}\n                  >\n                    <div>\n                      <EmailConfirmIcon verified={profileData.email_verified}>\n                        <p className=\"inline-block\">{profileData.email}</p>\n                      </EmailConfirmIcon>\n                    </div>\n                    <p></p>\n                  </ProfileField>\n                  {!profileData.email_verified && (\n                    <div>\n                      <a onClick={resendConfirmEmail}>\n                        Resend confirmation email\n                      </a>\n                    </div>\n                  )}\n                  <hr />\n                </div>\n\n                <div className=\"prf-field\">\n                  <ProfileField\n                    name=\"username\"\n                    title=\"Username\"\n                    api=\"/edit_username\"\n                    method=\"PATCH\"\n                    update={updateProfileData}\n                    sendMsg={sendMessage}\n                    user={profileData.email}\n                    value={profileData.username}\n                  >\n                    <p>{profileData.username}</p>\n                  </ProfileField>\n                  <hr />\n                </div>\n\n                <div className=\"prf-field\">\n                  <ProfileField\n                    name=\"last_name\"\n                    title=\"Last name\"\n                    api=\"/edit_profile\"\n                    method=\"PATCH\"\n                    update={updateProfileData}\n                    sendMsg={sendMessage}\n                    value={profileData.last_name}\n                  >\n                    <p>{profileData.last_name}</p>\n                  </ProfileField>\n                  <hr />\n                </div>\n\n                <div className=\"prf-field\">\n                  <ProfileField\n                    name=\"password\"\n                    user={profileData.email}\n                    title=\"Change password\"\n                    api=\"/change_pass\"\n                    method=\"PATCH\"\n                    update={updateProfileData}\n                    sendMsg={sendMessage}\n                    value={profileData.password}\n                  >\n                    <p>{profileData.password}</p>\n                  </ProfileField>\n                  <hr />\n                </div>\n              </div>\n            </div>\n          )}\n\n          {currTab === \"address\" && (\n            <div className=\"prf-block\">\n              <h2>Address</h2>\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"address\"\n                  title=\"Address\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.address}\n                >\n                  <p>{profileData.address}</p>\n                </ProfileField>\n                <hr />\n              </div>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"city\"\n                  title=\"City\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.city}\n                >\n                  <p>{profileData.city}</p>\n                </ProfileField>\n                <hr />\n              </div>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"us_state\"\n                  title=\"State\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.us_state}\n                >\n                  <p>{profileData.us_state}</p>\n                </ProfileField>\n                <hr />\n              </div>\n\n              <div className=\"prf-field\">\n                <ProfileField\n                  name=\"zip_code\"\n                  title=\"Zip code\"\n                  api=\"/edit_profile\"\n                  method=\"PATCH\"\n                  update={updateProfileData}\n                  sendMsg={sendMessage}\n                  value={profileData.zip_code}\n                >\n                  <p>{profileData.zip_code}</p>\n                </ProfileField>\n                <hr />\n              </div>\n            </div>\n          )}\n          <div className=\"prf-col\"></div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Profile;\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport Profile from \"./components/profile/Profile\";\nimport Products from \"./components/product/Products\";\nimport Auth from \"./components/auth/Auth\";\nimport NotFoundPage from \"./components/NotFoundPage\";\nimport PublicProfile from \"./components/profile/PublicProfile\";\nimport ResetPassword from \"./components/auth/ResetPassword\";\nimport ModalMsg from \"./components/UI/ModalMsg\";\nimport UserChatsPage from \"./components/chat/UserChatsPage\";\nimport Chat from \"./components/chat/Chat\";\nimport AddProduct from \"./components/product/AddProduct\";\nimport UserProducts from \"./components/product/UserProducts\";\nimport ProductDetails from \"./components/product/ProductDetails\";\nimport MainNavbar from \"./components/MainNavbar\";\nimport EditProduct from \"./components/product/EditProduct\";\nimport EditProfile from \"./components/profile/EditProfile\";\nimport Footer from \"./components/Footer\";\n\nfunction App() {\n  console.log(\"test-app\");\n  return (\n    <>\n      <Router>\n        <MainNavbar />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/login\">\n            <Auth view=\"login\" />\n          </Route>\n          <Route path=\"/signup\">\n            <Auth view=\"signup\" />\n          </Route>\n          <Route path=\"/profile\" component={Profile} exact />\n          <Route path=\"/chats\" exact>\n            <Profile tab=\"chats\" exact />\n          </Route>\n          <Route path=\"/profile/edit\" component={EditProfile} exact />\n          <Route path=\"/profile/edit/private\">\n            <EditProfile tab=\"private\" />\n          </Route>\n          <Route path=\"/profile/edit/address\">\n            <EditProfile tab=\"address\" />\n          </Route>\n          <Route path=\"/add-product\" component={AddProduct} exact />\n          <Route path=\"/user-products\" component={UserProducts} />\n          <Route path=\"/edit-product\" component={EditProduct} />\n          <Route path=\"/product-info\" component={ProductDetails} />\n          <Route path=\"/chats/:name\" component={Chat} />\n          <Route path=\"/profile/:addr\" component={PublicProfile} />\n          <Route path=\"/search-results\" component={Products} />\n          <Route path=\"/reset_password\">\n            <ResetPassword reset={true} />\n          </Route>\n          <Route\n            path=\"/reset_password_confirm/:token\"\n            component={ResetPassword}\n          />\n          <Route path=\"*\" component={NotFoundPage} />\n        </Switch>\n        <div className=\"filler\"></div>\n      </Router>\n      <ModalMsg />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport modalReducer from \"./modalSlice\";\nimport profileReducer from \"./profileSlice\";\n\nexport default configureStore({\n  reducer: {\n    modal: modalReducer,\n    profile: profileReducer,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./store/store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}